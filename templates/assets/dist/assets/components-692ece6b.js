import{g as Xn,A as Gt,l as ei,m as Kn,a as Zt,c as qn,i as jn,b as nr,r as Qn,d as Jn,e as to,f as eo,s as ro,h as Ne,u as io,j as ri,k as ao,n as no,o as Yt,p as oo,q as so,t as lo,B as Fa,V as Q,S as uo,L as ho,v as _r,R as co}from"./customGraphicKeyframeAnimation-74a2bc0d.js";import{x as _v,y as wv,w as Av}from"./customGraphicKeyframeAnimation-74a2bc0d.js";import{G as et,g as V,Z as B,aC as Wt,h as P,b as ut,e as _,o as E,n as L,bq as wr,i as z,f as N,az as Ar,aG as Se,aH as Tr,ai as M,D as j,m as O,a as H,j as Pe,d as Z,p as _t,ax as It,R as lt,s as Y,c as J,q as rt,aD as Ft,X as dt,aI as po,K as $a,k as Za,br as or,bs as ii,bt as vo,bu as fo,aE as go,l as yo,ah as be,B as Cr,bm as sr,Q as Mr,aT as ai,aM as mo,aR as xo,aQ as So,b9 as bo,aY as _o,bv as wo}from"./graphic-ca490178.js";import{br as at,bM as Ir,aa as ke,bF as oe,bG as _e,al as Re,ar as Oe,u as K,bN as Ya,bH as St,at as q,au as tt,bO as Ao,a_ as it,d as kt,A as Ua,b0 as wt,bt as G,bl as ni,t as lr,r as Xa,a6 as To,a1 as Dt,ai as vt,M as mt,x as F,a7 as Ka,bs as qa,_ as Co,p as ja,bo as Mo,y as pt,be as Dr,bP as Io,bf as Lr,a4 as Qa,bQ as Do,bR as oi,O as Lo,bS as Po,bT as ko,bU as te,bp as Pr,bV as kr,ad as Ro,bW as Oo,bX as Vo,K as X,F as zo,bY as Bo,bZ as Eo,D as ct,b_ as Lt,bJ as No,bx as Ho,b3 as si,b4 as li,b$ as Go,aN as Rr,c0 as Ja,ae as ee,c1 as Wo,c2 as Fo,as as tn,c3 as we,c4 as en,c5 as W,c6 as $o,bC as rn,c7 as re,c8 as ui,c9 as hi,X as Zo,ap as Yo,ca as Uo,cb as Xo,cc as He,n as Or,cd as an,ce as nn,cf as Xt,cg as se,ch as ci,k as Ko,j as Pt,ci as Ut,cj as Vr,w as Ht,bh as qo,ck as jo,cl as Qo,v as Rt,bb as Jo,b7 as ts,bB as es,G as rs,cm as Ae,cn as is,co as as,cp as Ve,q as ns,a3 as Te,b8 as on,b6 as os,cq as ss,b9 as ls,cr as us,bz as hs,cs,bK as sn,ct as ps,a2 as vs,cu as ds,T as pi,cv as vi,cw as ln,cx as fs,cy as gs,cz as ys,cA as ms,cB as xs,cC as di,cD as Ss}from"./Axis-22733173.js";var Ct=at(),fi=E,Ge=L,bs=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(e,t,r,a){var n=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!a&&this._lastValue===n&&this._lastStatus===o)){this._lastValue=n,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,n,e,t,r);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new et,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var p=V(gi,t,c);this.updatePointerEl(s,u,p),this.updateLabelEl(s,u,p,t)}mi(s,t,!0),this._renderHandle(n)}},i.prototype.remove=function(e){this.clear(e)},i.prototype.dispose=function(e){this.clear(e)},i.prototype.determineAnimation=function(e,t){var r=t.get("animation"),a=e.axis,n=a.type==="category",o=t.get("snap");if(!o&&!n)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(n&&a.getBandWidth()>s)return!0;if(o){var l=Xn(e).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},i.prototype.makeElOption=function(e,t,r,a,n){},i.prototype.createPointerEl=function(e,t,r,a){var n=t.pointer;if(n){var o=Ct(e).pointerEl=new Ir[n.type](fi(t.pointer));e.add(o)}},i.prototype.createLabelEl=function(e,t,r,a){if(t.label){var n=Ct(e).labelEl=new B(fi(t.label));e.add(n),yi(n,a)}},i.prototype.updatePointerEl=function(e,t,r){var a=Ct(e).pointerEl;a&&t.pointer&&(a.setStyle(t.pointer.style),r(a,{shape:t.pointer.shape}))},i.prototype.updateLabelEl=function(e,t,r,a){var n=Ct(e).labelEl;n&&(n.setStyle(t.label.style),r(n,{x:t.label.x,y:t.label.y}),yi(n,a))},i.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),a=this._handle,n=t.getModel("handle"),o=t.get("status");if(!n.get("show")||!o||o==="hide"){a&&r.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=ke(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Wt(u.event)},onmousedown:Ge(this._onHandleDragMove,this,0,0),drift:Ge(this._onHandleDragMove,this),ondragend:Ge(this._onHandleDragEnd,this)}),r.add(a)),mi(a,t,!1),a.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=n.get("size");P(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,oe(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},i.prototype._moveHandleToValue=function(e,t){gi(this._axisPointerModel,!t&&this._moveAnimation,this._handle,We(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var a=this.updateHandleTransform(We(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a,r.stopAnimation(),r.attr(We(a)),Ct(r).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,a=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),a&&t.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),_e(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},i}();function gi(i,e,t,r){un(Ct(t).lastProp,r)||(Ct(t).lastProp=r,e?Re(t,r,i):(t.stopAnimation(),t.attr(r)))}function un(i,e){if(ut(i)&&ut(e)){var t=!0;return _(e,function(r,a){t=t&&un(i[a],r)}),!!t}else return i===e}function yi(i,e){i[e.get(["label","show"])?"show":"hide"]()}function We(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function mi(i,e,t){var r=e.get("z"),a=e.get("zlevel");i&&i.traverse(function(n){n.type!=="group"&&(r!=null&&(n.z=r),a!=null&&(n.zlevel=a),n.silent=t)})}const zr=bs;function Br(i){var e=i.get("type"),t=i.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function hn(i,e,t,r,a){var n=t.get("value"),o=cn(n,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=Oe(s.get("padding")||0),u=s.getFont(),h=wr(o,u),c=a.position,p=h.width+l[1]+l[3],v=h.height+l[0]+l[2],d=a.align;d==="right"&&(c[0]-=p),d==="center"&&(c[0]-=p/2);var f=a.verticalAlign;f==="bottom"&&(c[1]-=v),f==="middle"&&(c[1]-=v/2),_s(c,p,v,r);var g=s.get("backgroundColor");(!g||g==="auto")&&(g=e.get(["axisLine","lineStyle","color"])),i.label={x:c[0],y:c[1],style:K(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function _s(i,e,t,r){var a=r.getWidth(),n=r.getHeight();i[0]=Math.min(i[0]+e,a)-e,i[1]=Math.min(i[1]+t,n)-t,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function cn(i,e,t,r,a){i=e.scale.parse(i);var n=e.scale.getLabel({value:i},{precision:a.precision}),o=a.formatter;if(o){var s={value:Ya(e,{value:i}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};_(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,c=u&&u.getDataParams(h);c&&s.seriesData.push(c)}),z(o)?n=o.replace("{value}",n):N(o)&&(n=o(s))}return n}function Er(i,e,t){var r=Tr();return Ar(r,r,t.rotation),Se(r,r,t.position),St([i.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function pn(i,e,t,r,a,n){var o=Gt.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=a.get(["label","margin"]),hn(e,r,a,n,{position:Er(r.axis,i,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function Nr(i,e,t){return t=t||0,{x1:i[t],y1:i[1-t],x2:e[t],y2:e[1-t]}}function vn(i,e,t){return t=t||0,{x:i[t],y:i[1-t],width:e[t],height:e[1-t]}}function xi(i,e,t,r,a,n){return{cx:i,cy:e,r0:t,r,startAngle:a,endAngle:n,clockwise:!0}}var ws=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,n,o){var s=a.axis,l=s.grid,u=n.get("type"),h=Si(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var p=Br(n),v=As[u](s,c,h);v.style=p,t.graphicKey=v.type,t.pointer=v}var d=ei(l.model,a);pn(r,t,d,a,n,o)},e.prototype.getHandleTransform=function(t,r,a){var n=ei(r.axis.grid.model,r,{labelInside:!1});n.labelMargin=a.get(["handle","margin"]);var o=Er(r.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,a,n){var o=a.axis,s=o.grid,l=o.getGlobalExtent(!0),u=Si(s,o).getOtherAxis(o).getGlobalExtent(),h=o.dim==="x"?0:1,c=[t.x,t.y];c[h]+=r[h],c[h]=Math.min(l[1],c[h]),c[h]=Math.max(l[0],c[h]);var p=(u[1]+u[0])/2,v=[p,p];v[h]=c[h];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:v,tooltipOption:d[h]}},e}(zr);function Si(i,e){var t={};return t[e.dim+"AxisIndex"]=e.index,i.getCartesian(t)}var As={line:function(i,e,t){var r=Nr([e,t[0]],[e,t[1]],bi(i));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(i,e,t){var r=Math.max(1,i.getBandWidth()),a=t[1]-t[0];return{type:"Rect",shape:vn([e-r/2,t[0]],[r,a],bi(i))}}};function bi(i){return i.dim==="x"?0:1}const Ts=ws;var Cs=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(q);const Ms=Cs;var ft=at(),Is=_;function dn(i,e,t){if(!j.node){var r=e.getZr();ft(r).records||(ft(r).records={}),Ds(r,e);var a=ft(r).records[i]||(ft(r).records[i]={});a.handler=t}}function Ds(i,e){if(ft(i).initialized)return;ft(i).initialized=!0,t("click",V(_i,"click")),t("mousemove",V(_i,"mousemove")),t("globalout",Ps);function t(r,a){i.on(r,function(n){var o=ks(e);Is(ft(i).records,function(s){s&&a(s,n,o.dispatchAction)}),Ls(o.pendings,e)})}}function Ls(i,e){var t=i.showTip.length,r=i.hideTip.length,a;t?a=i.showTip[t-1]:r&&(a=i.hideTip[r-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function Ps(i,e,t){i.handler("leave",null,t)}function _i(i,e,t,r){e.handler(i,t,r)}function ks(i){var e={showTip:[],hideTip:[]},t=function(r){var a=e[r.type];a?a.push(r):(r.dispatchAction=t,i.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function ur(i,e){if(!j.node){var t=e.getZr(),r=(ft(t).records||{})[i];r&&(ft(t).records[i]=null)}}var Rs=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){var n=r.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";dn("axisPointer",a,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){ur("axisPointer",r)},e.prototype.dispose=function(t,r){ur("axisPointer",r)},e.type="axisPointer",e}(tt);const Os=Rs;function fn(i,e){var t=[],r=i.seriesIndex,a;if(r==null||!(a=e.getSeriesByIndex(r)))return{point:[]};var n=a.getData(),o=Ao(n,i);if(o==null||o<0||P(o))return{point:[]};var s=n.getItemGraphicEl(o),l=a.coordinateSystem;if(a.getTooltipPosition)t=a.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(i.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u),c=h.dim,p=u.dim,v=c==="x"||c==="radius"?1:0,d=n.mapDimension(p),f=[];f[v]=n.get(d,o),f[1-v]=n.get(n.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(f)||[]}else t=l.dataToPoint(n.getValues(O(l.dimensions,function(y){return n.mapDimension(y)}),o))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),t=[g.x+g.width/2,g.y+g.height/2]}return{point:t,el:s}}var wi=at();function Vs(i,e,t){var r=i.currTrigger,a=[i.x,i.y],n=i,o=i.dispatchAction||L(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){ye(a)&&(a=fn({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},e).point);var l=ye(a),u=n.axesInfo,h=s.axesInfo,c=r==="leave"||ye(a),p={},v={},d={list:[],map:{}},f={showPointer:V(Bs,v),showTooltip:V(Es,d)};_(s.coordSysMap,function(y,m){var x=l||y.containPoint(a);_(s.coordSysAxesInfo[m],function(S,b){var w=S.axis,A=Ws(u,S);if(!c&&x&&(!u||A)){var T=A&&A.value;T==null&&!l&&(T=w.pointToData(a)),T!=null&&Ai(S,T,f,!1,p)}})});var g={};return _(h,function(y,m){var x=y.linkGroup;x&&!v[m]&&_(x.axesInfo,function(S,b){var w=v[b];if(S!==y&&w){var A=w.value;x.mapper&&(A=y.axis.scale.parse(x.mapper(A,Ti(S),Ti(y)))),g[y.key]=A}})}),_(g,function(y,m){Ai(h[m],y,f,!0,p)}),Ns(v,h,p),Hs(d,a,i,o),Gs(h,o,t),p}}function Ai(i,e,t,r,a){var n=i.axis;if(!(n.scale.isBlank()||!n.containData(e))){if(!i.involveSeries){t.showPointer(i,e);return}var o=zs(e,i),s=o.payloadBatch,l=o.snapToValue;s[0]&&a.seriesIndex==null&&H(a,s[0]),!r&&i.snap&&n.containData(l)&&l!=null&&(e=l),t.showPointer(i,e,s),t.showTooltip(i,o,l)}}function zs(i,e){var t=e.axis,r=t.dim,a=i,n=[],o=Number.MAX_VALUE,s=-1;return _(e.seriesModels,function(l,u){var h=l.getData().mapDimensionsAll(r),c,p;if(l.getAxisTooltipData){var v=l.getAxisTooltipData(h,i,t);p=v.dataIndices,c=v.nestestValue}else{if(p=l.getData().indicesOfNearest(h[0],i,t.type==="category"?.5:null),!p.length)return;c=l.getData().get(h[0],p[0])}if(!(c==null||!isFinite(c))){var d=i-c,f=Math.abs(d);f<=o&&((f<o||d>=0&&s<0)&&(o=f,s=d,a=c,n.length=0),_(p,function(g){n.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:n,snapToValue:a}}function Bs(i,e,t,r){i[e.key]={value:t,payloadBatch:r}}function Es(i,e,t,r){var a=t.payloadBatch,n=e.axis,o=n.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!a.length)){var l=e.coordSys.model,u=Kn(l),h=i.map[u];h||(h=i.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},i.list.push(h)),h.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function Ns(i,e,t){var r=t.axesInfo=[];_(e,function(a,n){var o=a.axisPointerModel.option,s=i[n];s?(!a.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:o.value})})}function Hs(i,e,t,r){if(ye(e)||!i.list.length){r({type:"hideTip"});return}var a=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:i.list})}function Gs(i,e,t){var r=t.getZr(),a="axisPointerLastHighlights",n=wi(r)[a]||{},o=wi(r)[a]={};_(i,function(u,h){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&_(c.seriesDataIndices,function(p){var v=p.seriesIndex+" | "+p.dataIndex;o[v]=p})});var s=[],l=[];_(n,function(u,h){!o[h]&&l.push(u)}),_(o,function(u,h){!n[h]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Ws(i,e){for(var t=0;t<(i||[]).length;t++){var r=i[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function Ti(i){var e=i.axis.model,t={},r=t.axisDim=i.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function ye(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function ze(i){Zt.registerAxisPointerClass("CartesianAxisPointer",Ts),i.registerComponentModel(Ms),i.registerComponentView(Os),i.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!P(t)&&(e.axisPointer.link=[t])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=qn(e,t)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Vs)}function ev(i){it(jn),it(ze)}var Fs=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,n,o){var s=a.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),h=u.getExtent(),c=s.dataToCoord(r),p=n.get("type");if(p&&p!=="none"){var v=Br(n),d=Zs[p](s,l,c,h);d.style=v,t.graphicKey=d.type,t.pointer=d}var f=n.get(["label","margin"]),g=$s(r,a,n,l,f);hn(t,a,n,o,g)},e}(zr);function $s(i,e,t,r,a){var n=e.axis,o=n.dataToCoord(i),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,h,c;if(n.dim==="radius"){var p=Tr();Ar(p,p,s),Se(p,p,[r.cx,r.cy]),u=St([o,-a],p);var v=e.getModel("axisLabel").get("rotate")||0,d=Gt.innerTextLayout(s,v*Math.PI/180,-1);h=d.textAlign,c=d.textVerticalAlign}else{var f=l[1];u=r.coordToPoint([f+a,o]);var g=r.cx,y=r.cy;h=Math.abs(u[0]-g)/f<.3?"center":u[0]>g?"left":"right",c=Math.abs(u[1]-y)/f<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:h,verticalAlign:c}}var Zs={line:function(i,e,t,r){return i.dim==="angle"?{type:"Line",shape:Nr(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(i,e,t,r){var a=Math.max(1,i.getBandWidth()),n=Math.PI/180;return i.dim==="angle"?{type:"Sector",shape:xi(e.cx,e.cy,r[0],r[1],(-t-a/2)*n,(-t+a/2)*n)}:{type:"Sector",shape:xi(e.cx,e.cy,t-a/2,t+a/2,0,Math.PI*2)}}};const Ys=Fs;var Us=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,a=this.ecModel;return a.eachComponent(t,function(n){n.getCoordSysModel()===this&&(r=n)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(q);const Xs=Us;var Hr=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",kt).models[0]},e.type="polarAxis",e}(q);Pe(Hr,Ua);var Ks=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(Hr),qs=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(Hr),Gr=function(i){M(e,i);function e(t,r){return i.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e}(wt);Gr.prototype.dataToRadius=wt.prototype.dataToCoord;Gr.prototype.radiusToData=wt.prototype.coordToData;const js=Gr;var Qs=at(),Wr=function(i){M(e,i);function e(t,r){return i.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),a=t.scale,n=a.getExtent(),o=a.count();if(n[1]-n[0]<1)return 0;var s=n[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),u=Math.abs(l),h=wr(s==null?"":s+"",r.getFont(),"center","top"),c=Math.max(h.height,7),p=c/u;isNaN(p)&&(p=1/0);var v=Math.max(0,Math.floor(p)),d=Qs(t.model),f=d.lastAutoInterval,g=d.lastTickCount;return f!=null&&g!=null&&Math.abs(f-v)<=1&&Math.abs(g-o)<=1&&f>v?v=f:(d.lastTickCount=o,d.lastAutoInterval=v),v},e}(wt);Wr.prototype.dataToAngle=wt.prototype.dataToCoord;Wr.prototype.angleToData=wt.prototype.coordToData;const Js=Wr;var gn=["radius","angle"],tl=function(){function i(e){this.dimensions=gn,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new js,this._angleAxis=new Js,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return i.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},i.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},i.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},i.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},i.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,a=this._radiusAxis;return r.scale.type===e&&t.push(r),a.scale.type===e&&t.push(a),t},i.prototype.getAngleAxis=function(){return this._angleAxis},i.prototype.getRadiusAxis=function(){return this._radiusAxis},i.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},i.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},i.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},i.prototype.pointToData=function(e,t){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],t),this._angleAxis.angleToData(r[1],t)]},i.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,a=this.getAngleAxis(),n=a.getExtent(),o=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);a.inverse?o=s-360:s=o+360;var l=Math.sqrt(t*t+r*r);t/=l,r/=l;for(var u=Math.atan2(-r,t)/Math.PI*180,h=u<o?1:-1;u<o||u>s;)u+=h*360;return[l,u]},i.prototype.coordToPoint=function(e){var t=e[0],r=e[1]/180*Math.PI,a=Math.cos(r)*t+this.cx,n=-Math.sin(r)*t+this.cy;return[a,n]},i.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var a=e.getExtent(),n=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-a[0]*n,endAngle:-a[1]*n,clockwise:e.inverse,contain:function(s,l){var u=s-this.cx,h=l-this.cy,c=u*u+h*h,p=this.r,v=this.r0;return p!==v&&c-o<=p*p&&c+o>=v*v}}},i.prototype.convertToPixel=function(e,t,r){var a=Ci(t);return a===this?this.dataToPoint(r):null},i.prototype.convertFromPixel=function(e,t,r){var a=Ci(t);return a===this?this.pointToData(r):null},i}();function Ci(i){var e=i.seriesModel,t=i.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const el=tl;function rl(i,e,t){var r=e.get("center"),a=t.getWidth(),n=t.getHeight();i.cx=G(r[0],a),i.cy=G(r[1],n);var o=i.getRadiusAxis(),s=Math.min(a,n)/2,l=e.get("radius");l==null?l=[0,"100%"]:P(l)||(l=[0,l]);var u=[G(l[0],s),G(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}function il(i,e){var t=this,r=t.getAngleAxis(),a=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),i.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();_(ni(l,"radius"),function(u){a.scale.unionExtentFromData(l,u)}),_(ni(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),lr(r.scale,r.model),lr(a.scale,a.model),r.type==="category"&&!r.onBand){var n=r.getExtent(),o=360/r.scale.count();r.inverse?n[1]+=o:n[1]-=o,r.setExtent(n[0],n[1])}}function al(i){return i.mainType==="angleAxis"}function Mi(i,e){var t;if(i.type=e.get("type"),i.scale=Xa(e),i.onBand=e.get("boundaryGap")&&i.type==="category",i.inverse=e.get("inverse"),al(e)){i.inverse=i.inverse!==e.get("clockwise");var r=e.get("startAngle"),a=(t=e.get("endAngle"))!==null&&t!==void 0?t:r+(i.inverse?-360:360);i.setExtent(r,a)}e.axis=i,i.model=e}var nl={dimensions:gn,create:function(i,e){var t=[];return i.eachComponent("polar",function(r,a){var n=new el(a+"");n.update=il;var o=n.getRadiusAxis(),s=n.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");Mi(o,l),Mi(s,u),rl(n,r,e),t.push(n),r.coordinateSystem=n,n.model=r}),i.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var a=r.getReferringComponents("polar",kt).models[0];r.coordinateSystem=a.coordinateSystem}}),t}};const ol=nl;var sl=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function le(i,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=i.coordToPoint([e[0],t]),a=i.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:a[0],y2:a[1]}}function ue(i){var e=i.getRadiusAxis();return e.inverse?0:1}function Ii(i){var e=i[0],t=i[i.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&i.pop()}var ll=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var a=t.axis,n=a.polar,o=n.getRadiusAxis().getExtent(),s=a.getTicksCoords(),l=a.getMinorTicksCoords(),u=O(a.getViewLabels(),function(h){h=E(h);var c=a.scale,p=c.type==="ordinal"?c.getRawOrdinalNumber(h.tickValue):h.tickValue;return h.coord=a.dataToCoord(p),h});Ii(u),Ii(s),_(sl,function(h){t.get([h,"show"])&&(!a.scale.isBlank()||h==="axisLine")&&ul[h](this.group,t,n,s,l,o,u)},this)}},e.type="angleAxis",e}(Zt),ul={axisLine:function(i,e,t,r,a,n){var o=e.getModel(["axisLine","lineStyle"]),s=t.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),h=ue(t),c=h?0:1,p,v=Math.abs(u[1]-u[0])===360?"Circle":"Arc";n[c]===0?p=new Ir[v]({shape:{cx:t.cx,cy:t.cy,r:n[h],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):p=new To({shape:{cx:t.cx,cy:t.cy,r:n[h],r0:n[c]},style:o.getLineStyle(),z2:1,silent:!0}),p.style.fill=null,i.add(p)},axisTick:function(i,e,t,r,a,n){var o=e.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=n[ue(t)],u=O(r,function(h){return new Dt({shape:le(t,[l,l+s],h.coord)})});i.add(vt(u,{style:Z(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(i,e,t,r,a,n){if(a.length){for(var o=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=n[ue(t)],h=[],c=0;c<a.length;c++)for(var p=0;p<a[c].length;p++)h.push(new Dt({shape:le(t,[u,u+l],a[c][p].coord)}));i.add(vt(h,{style:Z(s.getModel("lineStyle").getLineStyle(),Z(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(i,e,t,r,a,n,o){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),h=e.get("triggerEvent");_(o,function(c,p){var v=l,d=c.tickValue,f=n[ue(t)],g=t.coordToPoint([f+u,c.coord]),y=t.cx,m=t.cy,x=Math.abs(g[0]-y)/f<.3?"center":g[0]>y?"left":"right",S=Math.abs(g[1]-m)/f<.3?"middle":g[1]>m?"top":"bottom";if(s&&s[d]){var b=s[d];ut(b)&&b.textStyle&&(v=new mt(b.textStyle,l,l.ecModel))}var w=new B({silent:Gt.isLabelSilent(e),style:K(v,{x:g[0],y:g[1],fill:v.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:c.formattedLabel,align:x,verticalAlign:S})});if(i.add(w),h){var A=Gt.makeAxisEventDataBase(e);A.targetType="axisLabel",A.value=c.rawLabel,F(w).eventData=A}},this)},splitLine:function(i,e,t,r,a,n){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var h=[],c=0;c<r.length;c++){var p=u++%l.length;h[p]=h[p]||[],h[p].push(new Dt({shape:le(t,n,r[c].coord)}))}for(var c=0;c<h.length;c++)i.add(vt(h[c],{style:Z({stroke:l[c%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(i,e,t,r,a,n){if(a.length){for(var o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var h=0;h<a[u].length;h++)l.push(new Dt({shape:le(t,n,a[u][h].coord)}));i.add(vt(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(i,e,t,r,a,n){if(r.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var h=[],c=Math.PI/180,p=-r[0].coord*c,v=Math.min(n[0],n[1]),d=Math.max(n[0],n[1]),f=e.get("clockwise"),g=1,y=r.length;g<=y;g++){var m=g===y?r[0].coord:r[g].coord,x=u++%l.length;h[x]=h[x]||[],h[x].push(new Ka({shape:{cx:t.cx,cy:t.cy,r0:v,r:d,startAngle:p,endAngle:-m*c,clockwise:f},silent:!0})),p=-m*c}for(var g=0;g<h.length;g++)i.add(vt(h[g],{style:Z({fill:l[g%l.length]},s.getAreaStyle()),silent:!0}))}}};const hl=ll;var cl=["axisLine","axisTickLabel","axisName"],pl=["splitLine","splitArea","minorSplitLine"],vl=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var a=this._axisGroup,n=this._axisGroup=new et;this.group.add(n);var o=t.axis,s=o.polar,l=s.getAngleAxis(),u=o.getTicksCoords(),h=o.getMinorTicksCoords(),c=l.getExtent()[0],p=o.getExtent(),v=fl(s,t,c),d=new Gt(t,v);_(cl,d.add,d),n.add(d.getGroup()),qa(a,n,t),_(pl,function(f){t.get([f,"show"])&&!o.scale.isBlank()&&dl[f](this.group,t,s,c,p,u,h)},this)}},e.type="radiusAxis",e}(Zt),dl={splitLine:function(i,e,t,r,a,n){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,h=t.getAngleAxis(),c=Math.PI/180,p=h.getExtent(),v=Math.abs(p[1]-p[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var d=[],f=0;f<n.length;f++){var g=u++%l.length;d[g]=d[g]||[],d[g].push(new Ir[v]({shape:{cx:t.cx,cy:t.cy,r:Math.max(n[f].coord,0),startAngle:-p[0]*c,endAngle:-p[1]*c,clockwise:h.inverse}}))}for(var f=0;f<d.length;f++)i.add(vt(d[f],{style:Z({stroke:l[f%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(i,e,t,r,a,n,o){if(o.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],h=0;h<o.length;h++)for(var c=0;c<o[h].length;c++)u.push(new Co({shape:{cx:t.cx,cy:t.cy,r:o[h][c].coord}}));i.add(vt(u,{style:Z({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(i,e,t,r,a,n){if(n.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var h=[],c=n[0].coord,p=1;p<n.length;p++){var v=u++%l.length;h[v]=h[v]||[],h[v].push(new Ka({shape:{cx:t.cx,cy:t.cy,r0:c,r:n[p].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),c=n[p].coord}for(var p=0;p<h.length;p++)i.add(vt(h[p],{style:Z({fill:l[p%l.length]},s.getAreaStyle()),silent:!0}))}}};function fl(i,e,t){return{position:[i.cx,i.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}const gl=vl;function yn(i){return i.get("stack")||"__ec_stack_"+i.seriesIndex}function mn(i,e){return e.dim+i.model.componentIndex}function yl(i,e,t){var r={},a=ml(_t(e.getSeriesByType(i),function(n){return!e.isSeriesFiltered(n)&&n.coordinateSystem&&n.coordinateSystem.type==="polar"}));e.eachSeriesByType(i,function(n){if(n.coordinateSystem.type==="polar"){var o=n.getData(),s=n.coordinateSystem,l=s.getBaseAxis(),u=mn(s,l),h=yn(n),c=a[u][h],p=c.offset,v=c.width,d=s.getOtherAxis(l),f=n.coordinateSystem.cx,g=n.coordinateSystem.cy,y=n.get("barMinHeight")||0,m=n.get("barMinAngle")||0;r[h]=r[h]||[];for(var x=o.mapDimension(d.dim),S=o.mapDimension(l.dim),b=ja(o,x),w=l.dim!=="radius"||!n.get("roundCap",!0),A=d.model,T=A.get("startValue"),C=d.dataToCoord(T||0),I=0,D=o.count();I<D;I++){var R=o.get(x,I),k=o.get(S,I),$=R>=0?"p":"n",U=C;b&&(r[h][k]||(r[h][k]={p:C,n:C}),U=r[h][k][$]);var Ot=void 0,At=void 0,gt=void 0,nt=void 0;if(d.dim==="radius"){var Tt=d.dataToCoord(R)-C,Ee=l.dataToCoord(k);Math.abs(Tt)<y&&(Tt=(Tt<0?-1:1)*y),Ot=U,At=U+Tt,gt=Ee-p,nt=gt-v,b&&(r[h][k][$]=At)}else{var Vt=d.dataToCoord(R,w)-C,ti=l.dataToCoord(k);Math.abs(Vt)<m&&(Vt=(Vt<0?-1:1)*m),Ot=ti+p,At=Ot+v,gt=U,nt=U+Vt,b&&(r[h][k][$]=nt)}o.setItemLayout(I,{cx:f,cy:g,r0:Ot,r:At,startAngle:-gt*Math.PI/180,endAngle:-nt*Math.PI/180,clockwise:gt>=nt})}}})}function ml(i){var e={};_(i,function(r,a){var n=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=mn(o,s),u=s.getExtent(),h=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/n.count(),c=e[l]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},p=c.stacks;e[l]=c;var v=yn(r);p[v]||c.autoWidthCount++,p[v]=p[v]||{width:0,maxWidth:0};var d=G(r.get("barWidth"),h),f=G(r.get("barMaxWidth"),h),g=r.get("barGap"),y=r.get("barCategoryGap");d&&!p[v].width&&(d=Math.min(c.remainedWidth,d),p[v].width=d,c.remainedWidth-=d),f&&(p[v].maxWidth=f),g!=null&&(c.gap=g),y!=null&&(c.categoryGap=y)});var t={};return _(e,function(r,a){t[a]={};var n=r.stacks,o=r.bandWidth,s=G(r.categoryGap,o),l=G(r.gap,1),u=r.remainedWidth,h=r.autoWidthCount,c=(u-s)/(h+(h-1)*l);c=Math.max(c,0),_(n,function(f,g){var y=f.maxWidth;y&&y<c&&(y=Math.min(y,u),f.width&&(y=Math.min(y,f.width)),u-=y,f.width=y,h--)}),c=(u-s)/(h+(h-1)*l),c=Math.max(c,0);var p=0,v;_(n,function(f,g){f.width||(f.width=c),v=f,p+=f.width*(1+l)}),v&&(p-=v.width*l);var d=-p/2;_(n,function(f,g){t[a][g]=t[a][g]||{offset:d,width:f.width},d+=f.width*(1+l)})}),t}var xl={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Sl={splitNumber:5},bl=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}(tt);function rv(i){it(ze),Zt.registerAxisPointerClass("PolarAxisPointer",Ys),i.registerCoordinateSystem("polar",ol),i.registerComponentModel(Xs),i.registerComponentView(bl),nr(i,"angle",Ks,xl),nr(i,"radius",qs,Sl),i.registerComponentView(hl),i.registerComponentView(gl),i.registerLayout(V(yl,"bar"))}function hr(i,e){e=e||{};var t=i.coordinateSystem,r=i.axis,a={},n=r.position,o=r.orient,s=t.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[o==="vertical"?u.vertical[n]:l[0],o==="horizontal"?u.horizontal[n]:l[3]];var h={horizontal:0,vertical:1};a.rotation=Math.PI/2*h[o];var c={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=c[n],i.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),It(e.labelInside,i.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var p=e.rotate;return p==null&&(p=i.get(["axisLabel","rotate"])),a.labelRotation=n==="top"?-p:p,a.z2=1,a}var _l=["axisLine","axisTickLabel","axisName"],wl=["splitArea","splitLine"],Al=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,r,a,n){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new et;var l=hr(t),u=new Gt(t,l);_(_l,u.add,u),o.add(this._axisGroup),o.add(u.getGroup()),_(wl,function(h){t.get([h,"show"])&&Tl[h](this,this.group,this._axisGroup,t)},this),qa(s,this._axisGroup,t),i.prototype.render.call(this,t,r,a,n)},e.prototype.remove=function(){Qn(this)},e.type="singleAxis",e}(Zt),Tl={splitLine:function(i,e,t,r){var a=r.axis;if(!a.scale.isBlank()){var n=r.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var l=o.get("width"),u=r.coordinateSystem.getRect(),h=a.isHorizontal(),c=[],p=0,v=a.getTicksCoords({tickModel:n}),d=[],f=[],g=0;g<v.length;++g){var y=a.toGlobalCoord(v[g].coord);h?(d[0]=y,d[1]=u.y,f[0]=y,f[1]=u.y+u.height):(d[0]=u.x,d[1]=y,f[0]=u.x+u.width,f[1]=y);var m=new Dt({shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},silent:!0});Mo(m.shape,l);var x=p++%s.length;c[x]=c[x]||[],c[x].push(m)}for(var S=o.getLineStyle(["color"]),g=0;g<c.length;++g)e.add(vt(c[g],{style:Z({stroke:s[g%s.length]},S),silent:!0}))}},splitArea:function(i,e,t,r){Jn(i,t,r,r)}};const Cl=Al;var xn=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(q);Pe(xn,Ua.prototype);const Fe=xn;var Ml=function(i){M(e,i);function e(t,r,a,n,o){var s=i.call(this,t,r,a)||this;return s.type=n||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,r){return this.coordinateSystem.pointToData(t)[0]},e}(wt);const Il=Ml;var Sn=["single"],Dl=function(){function i(e,t,r){this.type="single",this.dimension="single",this.dimensions=Sn,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,r)}return i.prototype._init=function(e,t,r){var a=this.dimension,n=new Il(a,Xa(e),[0,0],e.get("type"),e.get("position")),o=n.type==="category";n.onBand=o&&e.get("boundaryGap"),n.inverse=e.get("inverse"),n.orient=e.get("orient"),e.axis=n,n.model=e,n.coordinateSystem=this,this._axis=n},i.prototype.update=function(e,t){e.eachSeries(function(r){if(r.coordinateSystem===this){var a=r.getData();_(a.mapDimensionsAll(this.dimension),function(n){this._axis.scale.unionExtentFromData(a,n)},this),lr(this._axis.scale,this._axis.model)}},this)},i.prototype.resize=function(e,t){this._rect=pt({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},i.prototype.getRect=function(){return this._rect},i.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,r=t.isHorizontal(),a=r?[0,e.width]:[0,e.height],n=t.inverse?1:0;t.setExtent(a[n],a[1-n]),this._updateAxisTransform(t,r?e.x:e.y)},i.prototype._updateAxisTransform=function(e,t){var r=e.getExtent(),a=r[0]+r[1],n=e.isHorizontal();e.toGlobalCoord=n?function(o){return o+t}:function(o){return a-o+t},e.toLocalCoord=n?function(o){return o-t}:function(o){return a-o+t}},i.prototype.getAxis=function(){return this._axis},i.prototype.getBaseAxis=function(){return this._axis},i.prototype.getAxes=function(){return[this._axis]},i.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},i.prototype.containPoint=function(e){var t=this.getRect(),r=this.getAxis(),a=r.orient;return a==="horizontal"?r.contain(r.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:r.contain(r.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},i.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},i.prototype.dataToPoint=function(e){var t=this.getAxis(),r=this.getRect(),a=[],n=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),a[n]=t.toGlobalCoord(t.dataToCoord(+e)),a[1-n]=n===0?r.y+r.height/2:r.x+r.width/2,a},i.prototype.convertToPixel=function(e,t,r){var a=Di(t);return a===this?this.dataToPoint(r):null},i.prototype.convertFromPixel=function(e,t,r){var a=Di(t);return a===this?this.pointToData(r):null},i}();function Di(i){var e=i.seriesModel,t=i.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function Ll(i,e){var t=[];return i.eachComponent("singleAxis",function(r,a){var n=new Dl(r,i,e);n.name="single_"+a,n.resize(r,e),r.coordinateSystem=n,t.push(n)}),i.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var a=r.getReferringComponents("singleAxis",kt).models[0];r.coordinateSystem=a&&a.coordinateSystem}}),t}var Pl={create:Ll,dimensions:Sn};const kl=Pl;var Li=["x","y"],Rl=["width","height"],Ol=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,n,o){var s=a.axis,l=s.coordinateSystem,u=$e(l,1-Ce(s)),h=l.dataToPoint(r)[0],c=n.get("type");if(c&&c!=="none"){var p=Br(n),v=Vl[c](s,h,u);v.style=p,t.graphicKey=v.type,t.pointer=v}var d=hr(a);pn(r,t,d,a,n,o)},e.prototype.getHandleTransform=function(t,r,a){var n=hr(r,{labelInside:!1});n.labelMargin=a.get(["handle","margin"]);var o=Er(r.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,a,n){var o=a.axis,s=o.coordinateSystem,l=Ce(o),u=$e(s,l),h=[t.x,t.y];h[l]+=r[l],h[l]=Math.min(u[1],h[l]),h[l]=Math.max(u[0],h[l]);var c=$e(s,1-l),p=(c[1]+c[0])/2,v=[p,p];return v[l]=h[l],{x:h[0],y:h[1],rotation:t.rotation,cursorPoint:v,tooltipOption:{verticalAlign:"middle"}}},e}(zr),Vl={line:function(i,e,t){var r=Nr([e,t[0]],[e,t[1]],Ce(i));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(i,e,t){var r=i.getBandWidth(),a=t[1]-t[0];return{type:"Rect",shape:vn([e-r/2,t[0]],[r,a],Ce(i))}}};function Ce(i){return i.isHorizontal()?0:1}function $e(i,e){var t=i.getRect();return[t[Li[e]],t[Li[e]]+t[Rl[e]]]}const zl=Ol;var Bl=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e}(tt);function iv(i){it(ze),Zt.registerAxisPointerClass("SingleAxisPointer",zl),i.registerComponentView(Bl),i.registerComponentView(Cl),i.registerComponentModel(Fe),nr(i,"single",Fe,Fe.defaultOption),i.registerCoordinateSystem("single",kl)}var El=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,a){var n=Dr(t);i.prototype.init.apply(this,arguments),Pi(t,n)},e.prototype.mergeOption=function(t){i.prototype.mergeOption.apply(this,arguments),Pi(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(q);function Pi(i,e){var t=i.cellSize,r;P(t)?r=t:r=i.cellSize=[t,t],r.length===1&&(r[1]=r[0]);var a=O([0,1],function(n){return Io(e,n)&&(r[n]="auto"),r[n]!=null&&r[n]!=="auto"});Lr(i,e,{type:"box",ignoreSize:a})}const Nl=El;var Hl=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){var n=this.group;n.removeAll();var o=t.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=r.getLocaleModel();this._renderDayRect(t,s,n),this._renderLines(t,s,l,n),this._renderYearText(t,s,l,n),this._renderMonthText(t,u,l,n),this._renderWeekText(t,u,s,l,n)},e.prototype._renderDayRect=function(t,r,a){for(var n=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),s=n.getCellWidth(),l=n.getCellHeight(),u=r.start.time;u<=r.end.time;u=n.getNextNDay(u,1).time){var h=n.dataToRect([u],!1).tl,c=new lt({shape:{x:h[0],y:h[1],width:s,height:l},cursor:"default",style:o});a.add(c)}},e.prototype._renderLines=function(t,r,a,n){var o=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),h=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=r.start,p=0;c.time<=r.end.time;p++){d(c.formatedDate),p===0&&(c=s.getDateInfo(r.start.y+"-"+r.start.m));var v=c.date;v.setMonth(v.getMonth()+1),c=s.getDateInfo(v)}d(s.getNextNDay(r.end.time,1).formatedDate);function d(f){o._firstDayOfMonth.push(s.getDateInfo(f)),o._firstDayPoints.push(s.dataToRect([f],!1).tl);var g=o._getLinePointsOfOneWeek(t,f,a);o._tlpoints.push(g[0]),o._blpoints.push(g[g.length-1]),u&&o._drawSplitline(g,l,n)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,h,a),l,n),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,h,a),l,n)},e.prototype._getEdgesPoints=function(t,r,a){var n=[t[0].slice(),t[t.length-1].slice()],o=a==="horizontal"?0:1;return n[0][o]=n[0][o]-r/2,n[1][o]=n[1][o]+r/2,n},e.prototype._drawSplitline=function(t,r,a){var n=new Qa({z2:20,shape:{points:t},style:r});a.add(n)},e.prototype._getLinePointsOfOneWeek=function(t,r,a){for(var n=t.coordinateSystem,o=n.getDateInfo(r),s=[],l=0;l<7;l++){var u=n.getNextNDay(o.time,l),h=n.dataToRect([u.time],!1);s[2*u.day]=h.tl,s[2*u.day+1]=h[a==="horizontal"?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,r){return z(t)&&t?Do(t,r):N(t)?t(r):r.nameMap},e.prototype._yearTextPositionControl=function(t,r,a,n,o){var s=r[0],l=r[1],u=["center","bottom"];n==="bottom"?(l+=o,u=["center","top"]):n==="left"?s-=o:n==="right"?(s+=o,u=["center","top"]):l-=o;var h=0;return(n==="left"||n==="right")&&(h=Math.PI/2),{rotation:h,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,r,a,n){var o=t.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=a!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(u[0][0]+u[1][0])/2,c=(u[0][1]+u[1][1])/2,p=a==="horizontal"?0:1,v={top:[h,u[p][1]],bottom:[h,u[1-p][1]],left:[u[1-p][0],c],right:[u[p][0],c]},d=r.start.y;+r.end.y>+r.start.y&&(d=d+"-"+r.end.y);var f=o.get("formatter"),g={start:r.start.y,end:r.end.y,nameMap:d},y=this._formatterLabel(f,g),m=new B({z2:30,style:K(o,{text:y}),silent:o.get("silent")});m.attr(this._yearTextPositionControl(m,v[l],a,l,s)),n.add(m)}},e.prototype._monthTextPositionControl=function(t,r,a,n,o){var s="left",l="top",u=t[0],h=t[1];return a==="horizontal"?(h=h+o,r&&(s="center"),n==="start"&&(l="bottom")):(u=u+o,r&&(l="middle"),n==="start"&&(s="right")),{x:u,y:h,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(t,r,a,n){var o=t.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),h=o.get("align"),c=[this._tlpoints,this._blpoints];(!s||z(s))&&(s&&(r=oi(s)||r),s=r.get(["time","monthAbbr"])||[]);var p=u==="start"?0:1,v=a==="horizontal"?0:1;l=u==="start"?-l:l;for(var d=h==="center",f=o.get("silent"),g=0;g<c[p].length-1;g++){var y=c[p][g].slice(),m=this._firstDayOfMonth[g];if(d){var x=this._firstDayPoints[g];y[v]=(x[v]+c[0][g+1][v])/2}var S=o.get("formatter"),b=s[+m.m-1],w={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:b},A=this._formatterLabel(S,w),T=new B({z2:30,style:H(K(o,{text:A}),this._monthTextPositionControl(y,d,a,u,l)),silent:f});n.add(T)}}},e.prototype._weekTextPositionControl=function(t,r,a,n,o){var s="center",l="middle",u=t[0],h=t[1],c=a==="start";return r==="horizontal"?(u=u+n+(c?1:-1)*o[0]/2,s=c?"right":"left"):(h=h+n+(c?1:-1)*o[1]/2,l=c?"bottom":"top"),{x:u,y:h,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(t,r,a,n,o){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,u=s.get("position"),h=s.get("nameMap"),c=s.get("margin"),p=l.getFirstDayOfWeek();if(!h||z(h)){h&&(r=oi(h)||r);var v=r.get(["time","dayOfWeekShort"]);h=v||O(r.get(["time","dayOfWeekAbbr"]),function(w){return w[0]})}var d=l.getNextNDay(a.end.time,7-a.lweek).time,f=[l.getCellWidth(),l.getCellHeight()];c=G(c,Math.min(f[1],f[0])),u==="start"&&(d=l.getNextNDay(a.start.time,-(7+a.fweek)).time,c=-c);for(var g=s.get("silent"),y=0;y<7;y++){var m=l.getNextNDay(d,y),x=l.dataToRect([m.time],!1).center,S=y;S=Math.abs((y+p)%7);var b=new B({z2:30,style:H(K(s,{text:h[S]}),this._weekTextPositionControl(x,n,u,c,f)),silent:g});o.add(b)}}},e.type="calendar",e}(tt);const Gl=Hl;var Ze=864e5,Wl=function(){function i(e,t,r){this.type="calendar",this.dimensions=i.dimensions,this.getDimensionsInfo=i.getDimensionsInfo,this._model=e}return i.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},i.prototype.getRangeInfo=function(){return this._rangeInfo},i.prototype.getModel=function(){return this._model},i.prototype.getRect=function(){return this._rect},i.prototype.getCellWidth=function(){return this._sw},i.prototype.getCellHeight=function(){return this._sh},i.prototype.getOrient=function(){return this._orient},i.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},i.prototype.getDateInfo=function(e){e=Lo(e);var t=e.getFullYear(),r=e.getMonth()+1,a=r<10?"0"+r:""+r,n=e.getDate(),o=n<10?"0"+n:""+n,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:t+"",m:a,d:o,day:s,time:e.getTime(),formatedDate:t+"-"+a+"-"+o,date:e}},i.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},i.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,a=["width","height"],n=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];_([0,1],function(c){h(n,c)&&(o[a[c]]=n[c]*s[c])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=pt(o,l);_([0,1],function(c){h(n,c)||(n[c]=u[a[c]]/s[c])});function h(c,p){return c[p]!=null&&c[p]!=="auto"}this._sw=n[0],this._sh=n[1]},i.prototype.dataToPoint=function(e,t){P(e)&&(e=e[0]),t==null&&(t=!0);var r=this.getDateInfo(e),a=this._rangeInfo,n=r.formatedDate;if(t&&!(r.time>=a.start.time&&r.time<a.end.time+Ze))return[NaN,NaN];var o=r.day,s=this._getRangeInfo([a.start.time,n]).nthWeek;return this._orient==="vertical"?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},i.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},i.prototype.dataToRect=function(e,t){var r=this.dataToPoint(e,t);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},i.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,t-1,a):this._getDateByWeeksAndDay(t,r-1,a)},i.prototype.convertToPixel=function(e,t,r){var a=ki(t);return a===this?a.dataToPoint(r):null},i.prototype.convertFromPixel=function(e,t,r){var a=ki(t);return a===this?a.pointToData(r):null},i.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},i.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(P(e)&&e.length===1&&(e=e[0]),P(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var a=this.getDateInfo(r),n=a.date;n.setMonth(n.getMonth()+1);var o=this.getNextNDay(n,-1);t=[a.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},i.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;t[0].time>t[1].time&&(r=!0,t.reverse());var a=Math.floor(t[1].time/Ze)-Math.floor(t[0].time/Ze)+1,n=new Date(t[0].time),o=n.getDate(),s=t[1].date.getDate();n.setDate(o+a-1);var l=n.getDate();if(l!==s)for(var u=n.getTime()-t[1].time>0?1:-1;(l=n.getDate())!==s&&(n.getTime()-t[1].time)*u>0;)a-=u,n.setDate(l-u);var h=Math.floor((a+t[0].day+6)/7),c=r?-h+1:h-1;return r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:a,weeks:h,nthWeek:c,fweek:t[0].day,lweek:t[1].day}},i.prototype._getDateByWeeksAndDay=function(e,t,r){var a=this._getRangeInfo(r);if(e>a.weeks||e===0&&t<a.fweek||e===a.weeks&&t>a.lweek)return null;var n=(e-1)*7-a.fweek+t,o=new Date(a.start.time);return o.setDate(+a.start.d+n),this.getDateInfo(o)},i.create=function(e,t){var r=[];return e.eachComponent("calendar",function(a){var n=new i(a);r.push(n),a.coordinateSystem=n}),e.eachSeries(function(a){a.get("coordinateSystem")==="calendar"&&(a.coordinateSystem=r[a.get("calendarIndex")||0])}),r},i.dimensions=["time","value"],i}();function ki(i){var e=i.calendarModel,t=i.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}const Fl=Wl;function av(i){i.registerComponentModel(Nl),i.registerComponentView(Gl),i.registerCoordinateSystem("calendar",Fl)}function $l(i,e){var t=i.existing;if(e.id=i.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function Ri(i,e){var t;return _(e,function(r){i[r]!=null&&i[r]!=="auto"&&(t=!0)}),t}function Zl(i,e,t){var r=H({},t),a=i[e],n=t.$action||"merge";n==="merge"?a?(Y(a,r,!0),Lr(a,r,{ignoreSize:!0}),ko(t,a),he(t,a),he(t,a,"shape"),he(t,a,"style"),he(t,a,"extra"),t.clipPath=a.clipPath):i[e]=r:n==="replace"?i[e]=r:n==="remove"&&a&&(i[e]=null)}var bn=["transition","enterFrom","leaveTo"],Yl=bn.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function he(i,e,t){if(t&&(!i[t]&&e[t]&&(i[t]={}),i=i[t],e=e[t]),!(!i||!e))for(var r=t?bn:Yl,a=0;a<r.length;a++){var n=r[a];i[n]==null&&e[n]!=null&&(i[n]=e[n])}}function Ul(i,e){if(i&&(i.hv=e.hv=[Ri(e,["left","right"]),Ri(e,["top","bottom"])],i.type==="group")){var t=i,r=e;t.width==null&&(t.width=r.width=0),t.height==null&&(t.height=r.height=0)}}var Xl=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,r){var a=this.option.elements;this.option.elements=null,i.prototype.mergeOption.call(this,t,r),this.option.elements=a},e.prototype.optionUpdated=function(t,r){var a=this.option,n=(r?a:t).elements,o=a.elements=r?[]:a.elements,s=[];this._flatten(n,s,null);var l=Po(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];_(l,function(h,c){var p=h.newOption;p&&(u.push(p),$l(h,p),Zl(o,c,p),Ul(o[c],p))},this),a.elements=_t(o,function(h){return h&&delete h.$action,h!=null})},e.prototype._flatten=function(t,r,a){_(t,function(n){if(n){a&&(n.parentOption=a),r.push(n);var o=n.children;o&&o.length&&this._flatten(o,r,n),delete n.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(q),Oi={path:null,compoundPath:null,group:et,image:Za,text:B},ot=at(),Kl=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=J()},e.prototype.render=function(t,r,a){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,a)},e.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(r){var a=this._elMap,n=this.group,o=t.get("z"),s=t.get("zlevel");_(r,function(l){var u=te(l.id,null),h=u!=null?a.get(u):null,c=te(l.parentId,null),p=c!=null?a.get(c):n,v=l.type,d=l.style;v==="text"&&d&&l.hv&&l.hv[1]&&(d.textVerticalAlign=d.textBaseline=d.verticalAlign=d.align=null);var f=l.textContent,g=l.textConfig;if(d&&to(d,v,!!g,!!f)){var y=eo(d,v,!0);!g&&y.textConfig&&(g=l.textConfig=y.textConfig),!f&&y.textContent&&(f=y.textContent)}var m=ql(l),x=l.$action||"merge",S=x==="merge",b=x==="replace";if(S){var w=!h,A=h;w?A=Vi(u,p,l.type,a):(A&&(ot(A).isNew=!1),ro(A)),A&&(Ne(A,m,t,{isInit:w}),zi(A,l,o,s))}else if(b){me(h,l,a,t);var T=Vi(u,p,l.type,a);T&&(Ne(T,m,t,{isInit:!0}),zi(T,l,o,s))}else x==="remove"&&(io(h,l),me(h,l,a,t));var C=a.get(u);if(C&&f)if(S){var I=C.getTextContent();I?I.attr(f):C.setTextContent(new B(f))}else b&&C.setTextContent(new B(f));if(C){var D=l.clipPath;if(D){var R=D.type,k=void 0,w=!1;if(S){var $=C.getClipPath();w=!$||ot($).type!==R,k=w?cr(R):$}else b&&(w=!0,k=cr(R));C.setClipPath(k),Ne(k,D,t,{isInit:w}),ri(k,D.keyframeAnimation,t)}var U=ot(C);C.setTextConfig(g),U.option=l,jl(C,t,l),Pr({el:C,componentModel:t,itemName:C.name,itemTooltipOption:l.tooltip}),ri(C,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,r){for(var a=t.option.elements,n=this.group,o=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],h=0;h<a.length;h++){var c=a[h],p=te(c.id,null),v=p!=null?o.get(p):null;if(!(!v||!v.isGroup)){var d=v.parent,f=d===n,g=ot(v),y=ot(d);g.width=G(g.option.width,f?s:y.width)||0,g.height=G(g.option.height,f?l:y.height)||0}}for(var h=a.length-1;h>=0;h--){var c=a[h],p=te(c.id,null),v=p!=null?o.get(p):null;if(v){var d=v.parent,y=ot(d),m=d===n?{width:s,height:l}:{width:y.width,height:y.height},x={},S=kr(v,c,m,null,{hv:c.hv,boundingMode:c.bounding},x);if(!ot(v).isNew&&S){for(var b=c.transition,w={},A=0;A<u.length;A++){var T=u[A],C=x[T];b&&(ao(b)||rt(b,T)>=0)?w[T]=C:v[T]=C}Re(v,w,t,0)}else v.attr(x)}}},e.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(a){me(a,ot(a).option,r,t._lastGraphicModel)}),this._elMap=J()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(tt);function cr(i){var e=Ft(Oi,i)?Oi[i]:Ro(i),t=new e({});return ot(t).type=i,t}function Vi(i,e,t,r){var a=cr(t);return e.add(a),r.set(i,a),ot(a).id=i,ot(a).isNew=!0,a}function me(i,e,t,r){var a=i&&i.parent;a&&(i.type==="group"&&i.traverse(function(n){me(n,e,t,r)}),no(i,e,r),t.removeKey(ot(i).id))}function zi(i,e,t,r){i.isGroup||_([["cursor",po.prototype.cursor],["zlevel",r||0],["z",t||0],["z2",0]],function(a){var n=a[0];Ft(e,n)?i[n]=dt(e[n],a[1]):i[n]==null&&(i[n]=a[1])}),_($a(e),function(a){if(a.indexOf("on")===0){var n=e[a];i[a]=N(n)?n:null}}),Ft(e,"draggable")&&(i.draggable=e.draggable),e.name!=null&&(i.name=e.name),e.id!=null&&(i.id=e.id)}function ql(i){return i=H({},i),_(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Oo),function(e){delete i[e]}),i}function jl(i,e,t){var r=F(i).eventData;!i.silent&&!i.ignore&&!r&&(r=F(i).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:i.name}),r&&(r.info=t.info)}function nv(i){i.registerComponentModel(Xl),i.registerComponentView(Kl),i.registerPreprocessor(function(e){var t=e.graphic;P(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var Bi=["x","y","radius","angle","single"],Ql=["cartesian2d","polar","singleAxis"];function Jl(i){var e=i.get("coordinateSystem");return rt(Ql,e)>=0}function xt(i){return i+"Axis"}function tu(i,e){var t=J(),r=[],a=J();i.eachComponent({mainType:"dataZoom",query:e},function(h){a.get(h.uid)||s(h)});var n;do n=!1,i.eachComponent("dataZoom",o);while(n);function o(h){!a.get(h.uid)&&l(h)&&(s(h),n=!0)}function s(h){a.set(h.uid,!0),r.push(h),u(h)}function l(h){var c=!1;return h.eachTargetAxis(function(p,v){var d=t.get(p);d&&d[v]&&(c=!0)}),c}function u(h){h.eachTargetAxis(function(c,p){(t.get(c)||t.set(c,[]))[p]=!0})}return r}function _n(i){var e=i.ecModel,t={infoList:[],infoMap:J()};return i.eachTargetAxis(function(r,a){var n=e.getComponent(xt(r),a);if(n){var o=n.getCoordSysModel();if(o){var s=o.uid,l=t.infoMap.get(s);l||(l={model:o,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(n)}}}),t}var Ye=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},i}(),eu=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,a){var n=Ei(t);this.settledOption=n,this.mergeDefaultAndTheme(t,a),this._doInit(n)},e.prototype.mergeOption=function(t){var r=Ei(t);Y(this.option,t,!0),Y(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var a=this.settledOption;_([["start","startValue"],["end","endValue"]],function(n,o){this._rangePropMode[o]==="value"&&(r[n[0]]=a[n[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=J(),a=this._fillSpecifiedTargetAxis(r);a?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(n){n.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return _(Bi,function(a){var n=this.getReferringComponents(xt(a),Vo);if(n.specified){r=!0;var o=new Ye;_(n.models,function(s){o.add(s.componentIndex)}),t.set(a,o)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var a=this.ecModel,n=!0;if(n){var o=r==="vertical"?"y":"x",s=a.findComponents({mainType:o+"Axis"});l(s,o)}if(n){var s=a.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===r}});l(s,"single")}function l(u,h){var c=u[0];if(c){var p=new Ye;if(p.add(c.componentIndex),t.set(h,p),n=!1,h==="x"||h==="y"){var v=c.getReferringComponents("grid",kt).models[0];v&&_(u,function(d){c.componentIndex!==d.componentIndex&&v===d.getReferringComponents("grid",kt).models[0]&&p.add(d.componentIndex)})}}}n&&_(Bi,function(u){if(n){var h=a.findComponents({mainType:xt(u),filter:function(p){return p.get("type",!0)==="category"}});if(h[0]){var c=new Ye;c.add(h[0].componentIndex),t.set(u,c),n=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,a=this.get("rangeMode");_([["start","startValue"],["end","endValue"]],function(n,o){var s=t[n[0]]!=null,l=t[n[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":a?r[o]=a[o]:s&&(r[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,a){t==null&&(t=this.ecModel.getComponent(xt(r),a))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(a,n){_(a.indexList,function(o){t.call(r,n,o)})})},e.prototype.getAxisProxy=function(t,r){var a=this.getAxisModel(t,r);if(a)return a.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){var a=this._targetAxisInfoMap.get(t);if(a&&a.indexMap[r])return this.ecModel.getComponent(xt(t),r)},e.prototype.setRawRange=function(t){var r=this.option,a=this.settledOption;_([["start","startValue"],["end","endValue"]],function(n){(t[n[0]]!=null||t[n[1]]!=null)&&(r[n[0]]=a[n[0]]=t[n[0]],r[n[1]]=a[n[1]]=t[n[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;_(["start","startValue","end","endValue"],function(a){r[a]=t[a]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,a=this._targetAxisInfoMap.keys(),n=0;n<a.length;n++)for(var o=a[n],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(q);function Ei(i){var e={};return _(["start","end","startValue","endValue","throttle"],function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e}const ie=eu;var ru=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(ie);const iu=ru;var au=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a,n){this.dataZoomModel=t,this.ecModel=r,this.api=a},e.type="dataZoom",e}(tt);const Fr=au;var nu=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(Fr);const ou=nu;var Et=_,Ni=ct,su=function(){function i(e,t,r,a){this._dimName=e,this._axisIndex=t,this.ecModel=a,this._dataZoomModel=r}return i.prototype.hostedBy=function(e){return this._dataZoomModel===e},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(Jl(t)){var r=xt(this._dimName),a=t.getReferringComponents(r,kt).models[0];a&&this._axisIndex===a.componentIndex&&e.push(t)}},this),e},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return E(this._minMaxSpan)},i.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),a=r.axis.scale,n=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;Et(["start","end"],function(p,v){var d=e[p],f=e[p+"Value"];n[v]==="percent"?(d==null&&(d=o[v]),f=a.parse(X(d,o,t))):(u=!0,f=f==null?t[v]:a.parse(f),d=X(f,t,o)),l[v]=f==null||isNaN(f)?t[v]:f,s[v]=d==null||isNaN(d)?o[v]:d}),Ni(l),Ni(s);var h=this._minMaxSpan;u?c(l,s,t,o,!1):c(s,l,o,t,!0);function c(p,v,d,f,g){var y=g?"Span":"ValueSpan";Yt(0,p,d,"all",h["min"+y],h["max"+y]);for(var m=0;m<2;m++)v[m]=X(p[m],d,f,!0),g&&(v[m]=a.parse(v[m]))}return{valueWindow:l,percentWindow:s}},i.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=lu(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,a=this.getTargetSeriesModels(),n=e.get("filterMode"),o=this._valueWindow;if(n==="none")return;Et(a,function(l){var u=l.getData(),h=u.mapDimensionsAll(r);if(h.length){if(n==="weakFilter"){var c=u.getStore(),p=O(h,function(v){return u.getDimensionIndex(v)},u);u.filterSelf(function(v){for(var d,f,g,y=0;y<h.length;y++){var m=c.get(p[y],v),x=!isNaN(m),S=m<o[0],b=m>o[1];if(x&&!S&&!b)return!0;x&&(g=!0),S&&(d=!0),b&&(f=!0)}return g&&d&&f})}else Et(h,function(v){if(n==="empty")l.setData(u=u.map(v,function(f){return s(f)?f:NaN}));else{var d={};d[v]=o,u.selectRange(d)}});Et(h,function(v){u.setApproximateExtent(o,v)})}});function s(l){return l>=o[0]&&l<=o[1]}},i.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;Et(["min","max"],function(a){var n=t.get(a+"Span"),o=t.get(a+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?n=X(r[0]+o,r,[0,100],!0):n!=null&&(o=X(n,[0,100],r,!0)-r[0]),e[a+"Span"]=n,e[a+"ValueSpan"]=o},this)},i.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var a=zo(r,[0,500]);a=Math.min(a,20);var n=e.axis.scale.rawExtentInfo;t[0]!==0&&n.setDeterminedMinMax("min",+r[0].toFixed(a)),t[1]!==100&&n.setDeterminedMinMax("max",+r[1].toFixed(a)),n.freeze()}},i}();function lu(i,e,t){var r=[1/0,-1/0];Et(t,function(o){Bo(r,o.getData(),e)});var a=i.getAxisModel(),n=Eo(a.axis.scale,a,r).calculate();return[n.min,n.max]}const uu=su;var hu={getTargetSeries:function(i){function e(a){i.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,s){var l=i.getComponent(xt(o),s);a(o,s,l,n)})})}e(function(a,n,o,s){o.__dzAxisProxy=null});var t=[];e(function(a,n,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new uu(a,n,s,i),t.push(o.__dzAxisProxy))});var r=J();return _(t,function(a){_(a.getTargetSeriesModels(),function(n){r.set(n.uid,n)})}),r},overallReset:function(i,e){i.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).reset(t)}),t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).filterData(t,e)})}),i.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var a=r.getDataPercentWindow(),n=r.getDataValueWindow();t.setCalculatedRange({start:a[0],end:a[1],startValue:n[0],endValue:n[1]})}})}};const cu=hu;function pu(i){i.registerAction("dataZoom",function(e,t){var r=tu(t,e);_(r,function(a){a.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var Hi=!1;function $r(i){Hi||(Hi=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,cu),pu(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function vu(i){i.registerComponentModel(iu),i.registerComponentView(ou),$r(i)}var st=function(){function i(){}return i}(),wn={};function Nt(i,e){wn[i]=e}function An(i){return wn[i]}var du=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){i.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;_(this.option.feature,function(r,a){var n=An(a);n&&(n.getDefaultOption&&(n.defaultOption=n.getDefaultOption(t)),Y(r,n.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(q);const fu=du;function gu(i,e,t){var r=e.getBoxLayoutParams(),a=e.get("padding"),n={width:t.getWidth(),height:t.getHeight()},o=pt(r,n,a);Lt(e.get("orient"),i,e.get("itemGap"),o.width,o.height),kr(i,r,n,a)}function Tn(i,e){var t=Oe(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),i=new lt({shape:{x:i.x-t[3],y:i.y-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),i}var yu=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,r,a,n){var o=this.group;if(o.removeAll(),!t.get("show"))return;var s=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},h=this._features||(this._features={}),c=[];_(u,function(d,f){c.push(f)}),new No(this._featureNames||[],c).add(p).update(p).remove(V(p,null)).execute(),this._featureNames=c;function p(d,f){var g=c[d],y=c[f],m=u[g],x=new mt(m,t,t.ecModel),S;if(n&&n.newTitle!=null&&n.featureName===g&&(m.title=n.newTitle),g&&!y){if(mu(g))S={onclick:x.option.onclick,featureName:g};else{var b=An(g);if(!b)return;S=new b}h[g]=S}else if(S=h[y],!S)return;S.uid=Ho("toolbox-feature"),S.model=x,S.ecModel=r,S.api=a;var w=S instanceof st;if(!g&&y){w&&S.dispose&&S.dispose(r,a);return}if(!x.get("show")||w&&S.unusable){w&&S.remove&&S.remove(r,a);return}v(x,S,g),x.setIconStatus=function(A,T){var C=this.option,I=this.iconPaths;C.iconStatus=C.iconStatus||{},C.iconStatus[A]=T,I[A]&&(T==="emphasis"?si:li)(I[A])},S instanceof st&&S.render&&S.render(x,r,a,n)}function v(d,f,g){var y=d.getModel("iconStyle"),m=d.getModel(["emphasis","iconStyle"]),x=f instanceof st&&f.getIcons?f.getIcons():d.get("icon"),S=d.get("title")||{},b,w;z(x)?(b={},b[g]=x):b=x,z(S)?(w={},w[g]=S):w=S;var A=d.iconPaths={};_(b,function(T,C){var I=ke(T,{},{x:-s/2,y:-s/2,width:s,height:s});I.setStyle(y.getItemStyle());var D=I.ensureState("emphasis");D.style=m.getItemStyle();var R=new B({style:{text:w[C],align:m.get("textAlign"),borderRadius:m.get("textBorderRadius"),padding:m.get("textPadding"),fill:null,font:Go({fontStyle:m.get("textFontStyle"),fontFamily:m.get("textFontFamily"),fontSize:m.get("textFontSize"),fontWeight:m.get("textFontWeight")},r)},ignore:!0});I.setTextContent(R),Pr({el:I,componentModel:t,itemName:C,formatterParamsExtra:{title:w[C]}}),I.__title=w[C],I.on("mouseover",function(){var k=m.getItemStyle(),$=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";R.setStyle({fill:m.get("textFill")||k.fill||k.stroke||"#000",backgroundColor:m.get("textBackgroundColor")}),I.setTextConfig({position:m.get("textPosition")||$}),R.ignore=!t.get("showTitle"),a.enterEmphasis(this)}).on("mouseout",function(){d.get(["iconStatus",C])!=="emphasis"&&a.leaveEmphasis(this),R.hide()}),(d.get(["iconStatus",C])==="emphasis"?si:li)(I),o.add(I),I.on("click",L(f.onclick,f,r,a,C)),A[C]=I})}gu(o,t,a),o.add(Tn(o.getBoundingRect(),t)),l||o.eachChild(function(d){var f=d.__title,g=d.ensureState("emphasis"),y=g.textConfig||(g.textConfig={}),m=d.getTextContent(),x=m&&m.ensureState("emphasis");if(x&&!N(x)&&f){var S=x.style||(x.style={}),b=wr(f,B.makeFont(S)),w=d.x+o.x,A=d.y+o.y+s,T=!1;A+b.height>a.getHeight()&&(y.position="top",T=!0);var C=T?-5-b.height:s+10;w+b.width/2>a.getWidth()?(y.position=["100%",C],S.align="right"):w-b.width/2<0&&(y.position=[0,C],S.align="left")}})},e.prototype.updateView=function(t,r,a,n){_(this._features,function(o){o instanceof st&&o.updateView&&o.updateView(o.model,r,a,n)})},e.prototype.remove=function(t,r){_(this._features,function(a){a instanceof st&&a.remove&&a.remove(t,r)}),this.group.removeAll()},e.prototype.dispose=function(t,r){_(this._features,function(a){a instanceof st&&a.dispose&&a.dispose(t,r)})},e.type="toolbox",e}(tt);function mu(i){return i.indexOf("my")===0}const xu=yu;var Su=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var a=this.model,n=a.get("name")||t.get("title.0.text")||"echarts",o=r.getZr().painter.getType()==="svg",s=o?"svg":a.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:a.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),u=j.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var h=document.createElement("a");h.download=n+"."+s,h.target="_blank",h.href=l;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});h.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||o){var p=l.split(","),v=p[0].indexOf("base64")>-1,d=o?decodeURIComponent(p[1]):p[1];v&&(d=window.atob(d));var f=n+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var g=d.length,y=new Uint8Array(g);g--;)y[g]=d.charCodeAt(g);var m=new Blob([y]);window.navigator.msSaveOrOpenBlob(m,f)}else{var x=document.createElement("iframe");document.body.appendChild(x);var S=x.contentWindow,b=S.document;b.open("image/svg+xml","replace"),b.write(d),b.close(),S.focus(),b.execCommand("SaveAs",!0,f),document.body.removeChild(x)}}else{var w=a.get("lang"),A='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',T=window.open();T.document.write(A),T.document.title=n}},e.getDefaultOption=function(t){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e}(st);const bu=Su;var Gi="__ec_magicType_stack__",_u=[["line","bar"],["stack"]],wu=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),a={};return _(t.get("type"),function(n){r[n]&&(a[n]=r[n])}),a},e.getDefaultOption=function(t){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(t,r,a){var n=this.model,o=n.get(["seriesIndex",a]);if(Wi[a]){var s={series:[]},l=function(c){var p=c.subType,v=c.id,d=Wi[a](p,v,c,n);d&&(Z(d,c.option),s.series.push(d));var f=c.coordinateSystem;if(f&&f.type==="cartesian2d"&&(a==="line"||a==="bar")){var g=f.getAxesByScale("ordinal")[0];if(g){var y=g.dim,m=y+"Axis",x=c.getReferringComponents(m,kt).models[0],S=x.componentIndex;s[m]=s[m]||[];for(var b=0;b<=S;b++)s[m][S]=s[m][S]||{};s[m][S].boundaryGap=a==="bar"}}};_(_u,function(c){rt(c,a)>=0&&_(c,function(p){n.setIconStatus(p,"normal")})}),n.setIconStatus(a,"emphasis"),t.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,h=a;a==="stack"&&(u=Y({stack:n.option.title.tiled,tiled:n.option.title.stack},n.option.title),n.get(["iconStatus",a])!=="emphasis"&&(h="tiled")),r.dispatchAction({type:"changeMagicType",currentType:h,newOption:s,newTitle:u,featureName:"magicType"})}},e}(st),Wi={line:function(i,e,t,r){if(i==="bar")return Y({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(i,e,t,r){if(i==="line")return Y({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(i,e,t,r){var a=t.get("stack")===Gi;if(i==="line"||i==="bar")return r.setIconStatus("stack",a?"normal":"emphasis"),Y({id:e,stack:a?"":Gi},r.get(["option","stack"])||{},!0)}};Rr({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,e){e.mergeOption(i.newOption)});const Au=wu;var Be=new Array(60).join("-"),$t="	";function Tu(i){var e={},t=[],r=[];return i.eachRawSeries(function(a){var n=a.coordinateSystem;if(n&&(n.type==="cartesian2d"||n.type==="polar")){var o=n.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:n.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(a)}else t.push(a)}else t.push(a)}),{seriesGroupByCategoryAxis:e,other:t,meta:r}}function Cu(i){var e=[];return _(i,function(t,r){var a=t.categoryAxis,n=t.valueAxis,o=n.dim,s=[" "].concat(O(t.series,function(v){return v.name})),l=[a.model.getCategories()];_(t.series,function(v){var d=v.getRawData();l.push(v.getRawData().mapArray(d.mapDimension(o),function(f){return f}))});for(var u=[s.join($t)],h=0;h<l[0].length;h++){for(var c=[],p=0;p<l.length;p++)c.push(l[p][h]);u.push(c.join($t))}e.push(u.join(`
`))}),e.join(`

`+Be+`

`)}function Mu(i){return O(i,function(e){var t=e.getRawData(),r=[e.name],a=[];return t.each(t.dimensions,function(){for(var n=arguments.length,o=arguments[n-1],s=t.getName(o),l=0;l<n-1;l++)a[l]=arguments[l];r.push((s?s+$t:"")+a.join($t))}),r.join(`
`)}).join(`

`+Be+`

`)}function Iu(i){var e=Tu(i);return{value:_t([Cu(e.seriesGroupByCategoryAxis),Mu(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+Be+`

`),meta:e.meta}}function Me(i){return i.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Du(i){var e=i.slice(0,i.indexOf(`
`));if(e.indexOf($t)>=0)return!0}var pr=new RegExp("["+$t+"]+","g");function Lu(i){for(var e=i.split(/\n+/g),t=Me(e.shift()).split(pr),r=[],a=O(t,function(l){return{name:l,data:[]}}),n=0;n<e.length;n++){var o=Me(e[n]).split(pr);r.push(o.shift());for(var s=0;s<o.length;s++)a[s]&&(a[s].data[n]=o[s])}return{series:a,categories:r}}function Pu(i){for(var e=i.split(/\n+/g),t=Me(e.shift()),r=[],a=0;a<e.length;a++){var n=Me(e[a]);if(n){var o=n.split(pr),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),r[a]={name:s,value:[]},l=r[a].value):l=r[a]=[];for(var h=0;h<o.length;h++)l.push(+o[h]);l.length===1&&(u?r[a].value=l[0]:r[a]=l[0])}}return{name:t,data:r}}function ku(i,e){var t=i.split(new RegExp(`
*`+Be+`
*`,"g")),r={series:[]};return _(t,function(a,n){if(Du(a)){var o=Lu(a),s=e[n],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{var o=Pu(a);r.series.push(o)}}),r}var Ru=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var a=r.getDom(),n=this.model;this._dom&&a.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=n.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=n.get("lang")||[];s.innerHTML=l[0]||n.get("title"),s.style.cssText="margin:10px 20px",s.style.color=n.get("textColor");var u=document.createElement("div"),h=document.createElement("textarea");u.style.cssText="overflow:auto";var c=n.get("optionToContent"),p=n.get("contentToOption"),v=Iu(t);if(N(c)){var d=c(r.getOption());z(d)?u.innerHTML=d:or(d)&&u.appendChild(d)}else{h.readOnly=n.get("readOnly");var f=h.style;f.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",f.color=n.get("textColor"),f.borderColor=n.get("textareaBorderColor"),f.backgroundColor=n.get("textareaColor"),h.value=v.value,u.appendChild(h)}var g=v.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",x=document.createElement("div"),S=document.createElement("div");m+=";background-color:"+n.get("buttonColor"),m+=";color:"+n.get("buttonTextColor");var b=this;function w(){a.removeChild(o),b._dom=null}ii(x,"click",w),ii(S,"click",function(){if(p==null&&c!=null||p!=null&&c==null){w();return}var A;try{N(p)?A=p(u,r.getOption()):A=ku(h.value,g)}catch(T){throw w(),new Error("Data view format error "+T)}A&&r.dispatchAction({type:"changeDataView",newOption:A}),w()}),x.innerHTML=l[1],S.innerHTML=l[2],S.style.cssText=x.style.cssText=m,!n.get("readOnly")&&y.appendChild(S),y.appendChild(x),o.appendChild(s),o.appendChild(u),o.appendChild(y),u.style.height=a.clientHeight-80+"px",a.appendChild(o),this._dom=o},e.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.getDefaultOption=function(t){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e}(st);function Ou(i,e){return O(i,function(t,r){var a=e&&e[r];if(ut(a)&&!P(a)){var n=ut(t)&&!P(t);n||(t={value:t});var o=a.name!=null&&t.name==null;return t=Z(t,a),o&&delete t.name,t}else return t})}Rr({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i,e){var t=[];_(i.newOption.series,function(r){var a=e.getSeriesByName(r.name)[0];if(!a)t.push(H({type:"scatter"},r));else{var n=a.get("data");t.push({name:r.name,data:Ou(r.data,n)})}}),e.mergeOption(Z({series:t},i.newOption))});const Vu=Ru;var Cn=_,Mn=at();function zu(i,e){var t=Zr(i);Cn(e,function(r,a){for(var n=t.length-1;n>=0;n--){var o=t[n];if(o[a])break}if(n<0){var s=i.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(s){var l=s.getPercentRange();t[0][a]={dataZoomId:a,start:l[0],end:l[1]}}}}),t.push(e)}function Bu(i){var e=Zr(i),t=e[e.length-1];e.length>1&&e.pop();var r={};return Cn(t,function(a,n){for(var o=e.length-1;o>=0;o--)if(a=e[o][n],a){r[n]=a;break}}),r}function Eu(i){Mn(i).snapshots=null}function Nu(i){return Zr(i).length}function Zr(i){var e=Mn(i);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Hu=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){Eu(t),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return r},e}(st);Rr({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,e){e.resetOption("recreate")});const Gu=Hu;var Wu=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Fu=function(){function i(e,t,r){var a=this;this._targetInfoList=[];var n=Fi(t,e);_($u,function(o,s){(!r||!r.include||rt(r.include,s)>=0)&&o(n,a._targetInfoList)})}return i.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(r,a,n){if((r.coordRanges||(r.coordRanges=[])).push(a),!r.coordRange){r.coordRange=a;var o=Ue[r.brushType](0,n,a);r.__rangeOffset={offset:Ui[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},i.prototype.matchOutputRanges=function(e,t,r){_(e,function(a){var n=this.findTargetInfo(a,t);n&&n!==!0&&_(n.coordSyses,function(o){var s=Ue[a.brushType](1,o,a.range,!0);r(a,s.values,o,t)})},this)},i.prototype.setInputRanges=function(e,t){_(e,function(r){var a=this.findTargetInfo(r,t);if(r.range=r.range||[],a&&a!==!0){r.panelId=a.panelId;var n=Ue[r.brushType](0,a.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?Ui[r.brushType](n.values,o.offset,Zu(n.xyMinMax,o.xyMinMax)):n.values}},this)},i.prototype.makePanelOpts=function(e,t){return O(this._targetInfoList,function(r){var a=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:oo(a),isTargetByCursor:so(a,e,r.coordSysModel),getLinearBrushOtherExtent:lo(a)}})},i.prototype.controlSeries=function(e,t,r){var a=this.findTargetInfo(e,r);return a===!0||a&&rt(a.coordSyses,t.coordinateSystem)>=0},i.prototype.findTargetInfo=function(e,t){for(var r=this._targetInfoList,a=Fi(t,e),n=0;n<r.length;n++){var o=r[n],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<$i.length;l++)if($i[l](a,o))return o}return!0},i}();function vr(i){return i[0]>i[1]&&i.reverse(),i}function Fi(i,e){return Ja(i,e,{includeMainTypes:Wu})}var $u={grid:function(i,e){var t=i.xAxisModels,r=i.yAxisModels,a=i.gridModels,n=J(),o={},s={};!t&&!r&&!a||(_(t,function(l){var u=l.axis.grid.model;n.set(u.id,u),o[u.id]=!0}),_(r,function(l){var u=l.axis.grid.model;n.set(u.id,u),s[u.id]=!0}),_(a,function(l){n.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),n.each(function(l){var u=l.coordinateSystem,h=[];_(u.getCartesians(),function(c,p){(rt(t,c.getAxis("x").model)>=0||rt(r,c.getAxis("y").model)>=0)&&h.push(c)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:h[0],coordSyses:h,getPanelRect:Zi.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(i,e){_(i.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:Zi.geo})})}},$i=[function(i,e){var t=i.xAxisModel,r=i.yAxisModel,a=i.gridModel;return!a&&t&&(a=t.axis.grid.model),!a&&r&&(a=r.axis.grid.model),a&&a===e.gridModel},function(i,e){var t=i.geoModel;return t&&t===e.geoModel}],Zi={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var i=this.coordSys,e=i.getBoundingRect().clone();return e.applyTransform(ee(i)),e}},Ue={lineX:V(Yi,0),lineY:V(Yi,1),rect:function(i,e,t,r){var a=i?e.pointToData([t[0][0],t[1][0]],r):e.dataToPoint([t[0][0],t[1][0]],r),n=i?e.pointToData([t[0][1],t[1][1]],r):e.dataToPoint([t[0][1],t[1][1]],r),o=[vr([a[0],n[0]]),vr([a[1],n[1]])];return{values:o,xyMinMax:o}},polygon:function(i,e,t,r){var a=[[1/0,-1/0],[1/0,-1/0]],n=O(t,function(o){var s=i?e.pointToData(o,r):e.dataToPoint(o,r);return a[0][0]=Math.min(a[0][0],s[0]),a[1][0]=Math.min(a[1][0],s[1]),a[0][1]=Math.max(a[0][1],s[0]),a[1][1]=Math.max(a[1][1],s[1]),s});return{values:n,xyMinMax:a}}};function Yi(i,e,t,r){var a=t.getAxis(["x","y"][i]),n=vr(O([0,1],function(s){return e?a.coordToData(a.toLocalCoord(r[s]),!0):a.toGlobalCoord(a.dataToCoord(r[s]))})),o=[];return o[i]=n,o[1-i]=[NaN,NaN],{values:n,xyMinMax:o}}var Ui={lineX:V(Xi,0),lineY:V(Xi,1),rect:function(i,e,t){return[[i[0][0]-t[0]*e[0][0],i[0][1]-t[0]*e[0][1]],[i[1][0]-t[1]*e[1][0],i[1][1]-t[1]*e[1][1]]]},polygon:function(i,e,t){return O(i,function(r,a){return[r[0]-t[0]*e[a][0],r[1]-t[1]*e[a][1]]})}};function Xi(i,e,t,r){return[e[0]-r[i]*t[0],e[1]-r[i]*t[1]]}function Zu(i,e){var t=Ki(i),r=Ki(e),a=[t[0]/r[0],t[1]/r[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function Ki(i){return i?[i[0][1]-i[0][0],i[1][1]-i[1][0]]:[NaN,NaN]}const Yr=Fu;var dr=_,Yu=Fo("toolbox-dataZoom_"),Uu=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,r,a,n){this._brushController||(this._brushController=new Fa(a.getZr()),this._brushController.on("brush",L(this._onBrush,this)).mount()),qu(t,r,this,n,a),Ku(t,r)},e.prototype.onclick=function(t,r,a){Xu[a].call(this)},e.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var r=t.areas;if(!t.isEnd||!r.length)return;var a={},n=this.ecModel;this._brushController.updateCovers([]);var o=new Yr(Ur(this.model),n,{include:["grid"]});o.matchOutputRanges(r,n,function(u,h,c){if(c.type==="cartesian2d"){var p=u.brushType;p==="rect"?(s("x",c,h[0]),s("y",c,h[1])):s({lineX:"x",lineY:"y"}[p],c,h)}}),zu(n,a),this._dispatchZoomAction(a);function s(u,h,c){var p=h.getAxis(u),v=p.model,d=l(u,v,n),f=d.findRepresentativeAxisProxy(v).getMinMaxSpan();(f.minValueSpan!=null||f.maxValueSpan!=null)&&(c=Yt(0,c.slice(),p.scale.getExtent(),0,f.minValueSpan,f.maxValueSpan)),d&&(a[d.id]={dataZoomId:d.id,startValue:c[0],endValue:c[1]})}function l(u,h,c){var p;return c.eachComponent({mainType:"dataZoom",subType:"select"},function(v){var d=v.getAxisModel(u,h.componentIndex);d&&(p=v)}),p}},e.prototype._dispatchZoomAction=function(t){var r=[];dr(t,function(a,n){r.push(E(a))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(t){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e}(st),Xu={zoom:function(){var i=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:i})},back:function(){this._dispatchZoomAction(Bu(this.ecModel))}};function Ur(i){var e={xAxisIndex:i.get("xAxisIndex",!0),yAxisIndex:i.get("yAxisIndex",!0),xAxisId:i.get("xAxisId",!0),yAxisId:i.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Ku(i,e){i.setIconStatus("back",Nu(e)>1?"emphasis":"normal")}function qu(i,e,t,r,a){var n=t._isZoomActive;r&&r.type==="takeGlobalCursor"&&(n=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),t._isZoomActive=n,i.setIconStatus("zoom",n?"emphasis":"normal");var o=new Yr(Ur(i),e,{include:["grid"]}),s=o.makePanelOpts(a,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(n&&s.length?{brushType:"auto",brushStyle:i.getModel("brushStyle").getItemStyle()}:!1)}Wo("dataZoom",function(i){var e=i.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var r=e.getModel(t),a=[],n=Ur(r),o=Ja(i,n);dr(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),dr(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,h){var c=l.componentIndex,p={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:Yu+u+c};p[h]=c,a.push(p)}return a});const ju=Uu;function ov(i){i.registerComponentModel(fu),i.registerComponentView(xu),Nt("saveAsImage",bu),Nt("magicType",Au),Nt("dataView",Vu),Nt("dataZoom",ju),Nt("restore",Gu),it(vu)}var Qu=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(q);const Ju=Qu;function In(i){var e=i.get("confine");return e!=null?!!e:i.get("renderMode")==="richText"}function Dn(i){if(j.domSupported){for(var e=document.documentElement.style,t=0,r=i.length;t<r;t++)if(i[t]in e)return i[t]}}var Ln=Dn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),th=Dn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Pn(i,e){if(!i)return e;e=tn(e,!0);var t=i.indexOf(e);return i=t===-1?e:"-"+i.slice(0,t)+"-"+e,i.toLowerCase()}function eh(i,e){var t=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return t?e?t[e]:t:null}var rh=Pn(th,"transition"),Xr=Pn(Ln,"transform"),ih="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(j.transform3dSupported?"will-change:transform;":"");function ah(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function nh(i,e,t){if(!z(t)||t==="inside")return"";var r=i.get("backgroundColor"),a=i.get("borderWidth");e=we(e);var n=ah(t),o=Math.max(Math.round(a)*1.5,6),s="",l=Xr+":",u;rt(["left","right"],n)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)");var h=u*Math.PI/180,c=o+a,p=c*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h)),v=Math.round(((p-Math.SQRT2*a)/2+Math.SQRT2*a-(p-c)/2)*100)/100;s+=";"+n+":-"+v+"px";var d=e+" solid "+a+"px;",f=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+d,"border-right:"+d,"background-color:"+r+";"];return'<div style="'+f.join("")+'"></div>'}function oh(i,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+i/2+"s "+t,a="opacity"+r+",visibility"+r;return e||(r=" "+i+"s "+t,a+=j.transformSupported?","+Xr+r:",left"+r+",top"+r),rh+":"+a}function qi(i,e,t){var r=i.toFixed(0)+"px",a=e.toFixed(0)+"px";if(!j.transformSupported)return t?"top:"+a+";left:"+r+";":[["top",a],["left",r]];var n=j.transform3dSupported,o="translate"+(n?"3d":"")+"("+r+","+a+(n?",0":"")+")";return t?"top:0;left:0;"+Xr+":"+o+";":[["top",0],["left",0],[Ln,o]]}function sh(i){var e=[],t=i.get("fontSize"),r=i.getTextColor();r&&e.push("color:"+r),e.push("font:"+i.getFont());var a=dt(i.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+a+"px");var n=i.get("textShadowColor"),o=i.get("textShadowBlur")||0,s=i.get("textShadowOffsetX")||0,l=i.get("textShadowOffsetY")||0;return n&&o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+n),_(["decoration","align"],function(u){var h=i.get(u);h&&e.push("text-"+u+":"+h)}),e.join(";")}function lh(i,e,t){var r=[],a=i.get("transitionDuration"),n=i.get("backgroundColor"),o=i.get("shadowBlur"),s=i.get("shadowColor"),l=i.get("shadowOffsetX"),u=i.get("shadowOffsetY"),h=i.getModel("textStyle"),c=en(i,"html"),p=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+p),e&&a&&r.push(oh(a,t)),n&&r.push("background-color:"+n),_(["width","color","radius"],function(v){var d="border-"+v,f=tn(d),g=i.get(f);g!=null&&r.push(d+":"+g+(v==="color"?"":"px"))}),r.push(sh(h)),c!=null&&r.push("padding:"+Oe(c).join("px ")+"px"),r.join(";")+";"}function ji(i,e,t,r,a){var n=e&&e.painter;if(t){var o=n&&n.getViewportRoot();o&&fo(i,o,t,r,a)}else{i[0]=r,i[1]=a;var s=n&&n.getViewportRootOffset();s&&(i[0]+=s.offsetLeft,i[1]+=s.offsetTop)}i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var uh=function(){function i(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,j.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var a=this._zr=e.getZr(),n=t.appendTo,o=n&&(z(n)?document.querySelector(n):or(n)?n:N(n)&&n(e.getDom()));ji(this._styleCoord,a,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(r),this._api=e,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=a.handler,h=a.painter.getViewportRoot();vo(h,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return i.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=eh(t,"position"),a=t.style;a.position!=="absolute"&&r!=="absolute"&&(a.position="relative")}var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n,this.el.className=e.get("className")||""},i.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,a=r.style,n=this._styleCoord;r.innerHTML?a.cssText=ih+lh(e,!this._firstShow,this._longHide)+qi(n[0],n[1],!0)+("border-color:"+we(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(e,t,r,a,n){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(z(n)&&r.get("trigger")==="item"&&!In(r)&&(s=nh(r,a,n)),z(e))o.innerHTML=e+s;else if(e){o.innerHTML="",P(e)||(e=[e]);for(var l=0;l<e.length;l++)or(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},i.prototype.moveTo=function(e,t){if(this.el){var r=this._styleCoord;if(ji(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var a=this.el.style,n=qi(r[0],r[1]);_(n,function(o){a[o[0]]=o[1]})}}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",j.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(L(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},i}();const hh=uh;var ch=function(){function i(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Ji(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return i.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(e,t,r,a,n){var o=this;ut(e)&&W(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new B({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:en(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),_(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),_(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=Qi(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},i.prototype.moveTo=function(e,t){var r=this.el;if(r){var a=this._styleCoord;Ji(a,this._zr,e,t),e=a[0],t=a[1];var n=r.style,o=yt(n.borderWidth||0),s=Qi(n);r.x=e+o+s.left,r.y=t+o+s.top,r.markRedraw()}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(L(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function yt(i){return Math.max(0,i)}function Qi(i){var e=yt(i.shadowBlur||0),t=yt(i.shadowOffsetX||0),r=yt(i.shadowOffsetY||0);return{left:yt(e-t),right:yt(e+t),top:yt(e-r),bottom:yt(e+r)}}function Ji(i,e,t,r){i[0]=t,i[1]=r,i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}const ph=ch;var vh=new lt({shape:{x:-1,y:-1,width:2,height:2}}),dh=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(j.node||!r.getDom())){var a=t.getComponent("tooltip"),n=this._renderMode=$o(a.get("renderMode"));this._tooltipContent=n==="richText"?new ph(r):new hh(r,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},e.prototype.render=function(t,r,a){if(!(j.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=a;var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?oe(this,"_updatePosition",50,"fixRate"):_e(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");dn("itemTooltip",this._api,L(function(a,n,o){r!=="none"&&(r.indexOf(a)>=0?this._tryShow(n,o):a==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,a=this._api,n=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&n!=="none"&&n!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&o.manuallyShowTip(t,r,a,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,a,n){if(!(n.from===this.uid||j.node||!a.getDom())){var o=ta(n,a);this._ticket="";var s=n.dataByCoordSys,l=mh(n,r,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&n.x!=null&&n.y!=null){var h=vh;h.x=n.x,h.y=n.y,h.update(),F(h).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:h},o)}else if(s)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:s,tooltipOption:n.tooltipOption},o);else if(n.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,a,n))return;var c=fn(n,r),p=c.point[0],v=c.point[1];p!=null&&v!=null&&this._tryShow({offsetX:p,offsetY:v,target:c.el,position:n.position,positionDefault:"bottom"},o)}else n.x!=null&&n.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:a.getZr().findHover(n.x,n.y).target},o))}},e.prototype.manuallyHideTip=function(t,r,a,n){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(ta(n,a))},e.prototype._manuallyAxisShowTip=function(t,r,a,n){var o=n.seriesIndex,s=n.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var h=u.getData(),c=Kt([h.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:n.position}),!0}}},e.prototype._tryShow=function(t,r){var a=t.target,n=this._tooltipModel;if(n){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(a){var s=F(a);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;rn(a,function(h){if(F(h).dataIndex!=null)return l=h,!0;if(F(h).tooltipConfig!=null)return u=h,!0},!0),l?this._showSeriesItemTooltip(t,l,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var a=t.get("showDelay");r=L(r,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(r,a):r()},e.prototype._showAxisTooltip=function(t,r){var a=this._ecModel,n=this._tooltipModel,o=[r.offsetX,r.offsetY],s=Kt([r.tooltipOption],n),l=this._renderMode,u=[],h=re("section",{blocks:[],noHeader:!0}),c=[],p=new He;_(t,function(m){_(m.dataByAxis,function(x){var S=a.getComponent(x.axisDim+"Axis",x.axisIndex),b=x.value;if(!(!S||b==null)){var w=cn(b,S.axis,a,x.seriesDataIndices,x.valueLabelOpt),A=re("section",{header:w,noHeader:!go(w),sortBlocks:!0,blocks:[]});h.blocks.push(A),_(x.seriesDataIndices,function(T){var C=a.getSeriesByIndex(T.seriesIndex),I=T.dataIndexInside,D=C.getDataParams(I);if(!(D.dataIndex<0)){D.axisDim=x.axisDim,D.axisIndex=x.axisIndex,D.axisType=x.axisType,D.axisId=x.axisId,D.axisValue=Ya(S.axis,{value:b}),D.axisValueLabel=w,D.marker=p.makeTooltipMarker("item",we(D.color),l);var R=ui(C.formatTooltip(I,!0,null)),k=R.frag;if(k){var $=Kt([C],n).get("valueFormatter");A.blocks.push($?H({valueFormatter:$},k):k)}R.text&&c.push(R.text),u.push(D)}})}})}),h.blocks.reverse(),c.reverse();var v=r.position,d=s.get("order"),f=hi(h,p,l,d,a.get("useUTC"),s.get("textStyle"));f&&c.unshift(f);var g=l==="richText"?`

`:"<br/>",y=c.join(g);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,v,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,y,u,Math.random()+"",o[0],o[1],v,null,p)})},e.prototype._showSeriesItemTooltip=function(t,r,a){var n=this._ecModel,o=F(r),s=o.seriesIndex,l=n.getSeriesByIndex(s),u=o.dataModel||l,h=o.dataIndex,c=o.dataType,p=u.getData(c),v=this._renderMode,d=t.positionDefault,f=Kt([p.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),g=f.get("trigger");if(!(g!=null&&g!=="item")){var y=u.getDataParams(h,c),m=new He;y.marker=m.makeTooltipMarker("item",we(y.color),v);var x=ui(u.formatTooltip(h,!1,c)),S=f.get("order"),b=f.get("valueFormatter"),w=x.frag,A=w?hi(b?H({valueFormatter:b},w):w,m,v,S,n.get("useUTC"),f.get("textStyle")):x.text,T="item_"+u.name+"_"+h;this._showOrMove(f,function(){this._showTooltipContent(f,A,y,T,t.offsetX,t.offsetY,t.position,t.target,m)}),a({type:"showTip",dataIndexInside:h,dataIndex:p.getRawIndex(h),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,a){var n=this._renderMode==="html",o=F(r),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(z(l)){var h=l;l={content:h,formatter:h},u=!0}u&&n&&l.content&&(l=E(l),l.content=yo(l.content));var c=[l],p=this._ecModel.getComponent(o.componentMainType,o.componentIndex);p&&c.push(p),c.push({formatter:l.content});var v=t.positionDefault,d=Kt(c,this._tooltipModel,v?{position:v}:null),f=d.get("content"),g=Math.random()+"",y=new He;this._showOrMove(d,function(){var m=E(d.get("formatterParams")||{});this._showTooltipContent(d,f,m,g,t.offsetX,t.offsetY,t.position,r,y)}),a({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,a,n,o,s,l,u,h){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var c=this._tooltipContent;c.setEnterable(t.get("enterable"));var p=t.get("formatter");l=l||t.get("position");var v=r,d=this._getNearestPoint([o,s],a,t.get("trigger"),t.get("borderColor")),f=d.color;if(p)if(z(p)){var g=t.ecModel.get("useUTC"),y=P(a)?a[0]:a,m=y&&y.axisType&&y.axisType.indexOf("time")>=0;v=p,m&&(v=Zo(y.axisValue,v,g)),v=Yo(v,a,!0)}else if(N(p)){var x=L(function(S,b){S===this._ticket&&(c.setContent(b,h,t,f,l),this._updatePosition(t,l,o,s,c,a,u))},this);this._ticket=n,v=p(a,n,x)}else v=p;c.setContent(v,h,t,f,l),c.show(t,f),this._updatePosition(t,l,o,s,c,a,u)}},e.prototype._getNearestPoint=function(t,r,a,n){if(a==="axis"||P(r))return{color:n||(this._renderMode==="html"?"#fff":"none")};if(!P(r))return{color:n||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,a,n,o,s,l){var u=this._api.getWidth(),h=this._api.getHeight();r=r||t.get("position");var c=o.getSize(),p=t.get("align"),v=t.get("verticalAlign"),d=l&&l.getBoundingRect().clone();if(l&&d.applyTransform(l.transform),N(r)&&(r=r([a,n],s,o.el,d,{viewSize:[u,h],contentSize:c.slice()})),P(r))a=G(r[0],u),n=G(r[1],h);else if(ut(r)){var f=r;f.width=c[0],f.height=c[1];var g=pt(f,{width:u,height:h});a=g.x,n=g.y,p=null,v=null}else if(z(r)&&l){var y=yh(r,d,c,t.get("borderWidth"));a=y[0],n=y[1]}else{var y=fh(a,n,o,u,h,p?null:20,v?null:20);a=y[0],n=y[1]}if(p&&(a-=ea(p)?c[0]/2:p==="right"?c[0]:0),v&&(n-=ea(v)?c[1]/2:v==="bottom"?c[1]:0),In(t)){var y=gh(a,n,o,u,h);a=y[0],n=y[1]}o.moveTo(a,n)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var a=this._lastDataByCoordSys,n=this._cbParamsList,o=!!a&&a.length===t.length;return o&&_(a,function(s,l){var u=s.dataByAxis||[],h=t[l]||{},c=h.dataByAxis||[];o=o&&u.length===c.length,o&&_(u,function(p,v){var d=c[v]||{},f=p.seriesDataIndices||[],g=d.seriesDataIndices||[];o=o&&p.value===d.value&&p.axisType===d.axisType&&p.axisId===d.axisId&&f.length===g.length,o&&_(f,function(y,m){var x=g[m];o=o&&y.seriesIndex===x.seriesIndex&&y.dataIndex===x.dataIndex}),n&&_(p.seriesDataIndices,function(y){var m=y.seriesIndex,x=r[m],S=n[m];x&&S&&S.data!==x.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){j.node||!r.getDom()||(_e(this,"_updatePosition"),this._tooltipContent.dispose(),ur("itemTooltip",r))},e.type="tooltip",e}(tt);function Kt(i,e,t){var r=e.ecModel,a;t?(a=new mt(t,r,r),a=new mt(e.option,a,r)):a=e;for(var n=i.length-1;n>=0;n--){var o=i[n];o&&(o instanceof mt&&(o=o.get("tooltip",!0)),z(o)&&(o={formatter:o}),o&&(a=new mt(o,a,r)))}return a}function ta(i,e){return i.dispatchAction||L(e.dispatchAction,e)}function fh(i,e,t,r,a,n,o){var s=t.getSize(),l=s[0],u=s[1];return n!=null&&(i+l+n+2>r?i-=l+n:i+=n),o!=null&&(e+u+o>a?e-=u+o:e+=o),[i,e]}function gh(i,e,t,r,a){var n=t.getSize(),o=n[0],s=n[1];return i=Math.min(i+o,r)-o,e=Math.min(e+s,a)-s,i=Math.max(i,0),e=Math.max(e,0),[i,e]}function yh(i,e,t,r){var a=t[0],n=t[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,h=e.height;switch(i){case"inside":s=e.x+u/2-a/2,l=e.y+h/2-n/2;break;case"top":s=e.x+u/2-a/2,l=e.y-n-o;break;case"bottom":s=e.x+u/2-a/2,l=e.y+h+o;break;case"left":s=e.x-a-o,l=e.y+h/2-n/2;break;case"right":s=e.x+u+o,l=e.y+h/2-n/2}return[s,l]}function ea(i){return i==="center"||i==="middle"}function mh(i,e,t){var r=Uo(i).queryOptionMap,a=r.keys()[0];if(!(!a||a==="series")){var n=Xo(e,a,r.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),o=n.models[0];if(o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var h=F(u).tooltipConfig;if(h&&h.name===i.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}}const xh=dh;function sv(i){it(ze),i.registerComponentModel(Ju),i.registerComponentView(xh),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},be),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},be)}var Sh=["rect","polygon","keep","clear"];function bh(i,e){var t=Or(i?i.brush:[]);if(t.length){var r=[];_(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var a=i&&i.toolbox;P(a)&&(a=a[0]),a||(a={feature:{}},i.toolbox=[a]);var n=a.feature||(a.feature={}),o=n.brush||(n.brush={}),s=o.type||(o.type=[]);s.push.apply(s,r),_h(s),e&&!s.length&&s.push.apply(s,Sh)}}function _h(i){var e={};_(i,function(t){e[t]=1}),i.length=0,_(e,function(t,r){i.push(r)})}var ra=_;function ia(i){if(i){for(var e in i)if(i.hasOwnProperty(e))return!0}}function fr(i,e,t){var r={};return ra(e,function(n){var o=r[n]=a();ra(i[n],function(s,l){if(Q.isValidType(l)){var u={type:l,visual:s};t&&t(u,n),o[l]=new Q(u),l==="opacity"&&(u=E(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new Q(u))}})}),r;function a(){var n=function(){};n.prototype.__hidden=n.prototype;var o=new n;return o}}function kn(i,e,t){var r;_(t,function(a){e.hasOwnProperty(a)&&ia(e[a])&&(r=!0)}),r&&_(t,function(a){e.hasOwnProperty(a)&&ia(e[a])?i[a]=E(e[a]):delete i[a]})}function wh(i,e,t,r,a,n){var o={};_(i,function(c){var p=Q.prepareVisualTypes(e[c]);o[c]=p});var s;function l(c){return an(t,s,c)}function u(c,p){nn(t,s,c,p)}n==null?t.each(h):t.each([n],h);function h(c,p){s=n==null?c:p;var v=t.getRawDataItem(s);if(!(v&&v.visualMap===!1))for(var d=r.call(a,c),f=e[d],g=o[d],y=0,m=g.length;y<m;y++){var x=g[y];f[x]&&f[x].applyVisual(c,l,u)}}}function Ah(i,e,t,r){var a={};return _(i,function(n){var o=Q.prepareVisualTypes(e[n]);a[n]=o}),{progress:function(o,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(b){return an(s,c,b)}function h(b,w){nn(s,c,b,w)}for(var c,p=s.getStore();(c=o.next())!=null;){var v=s.getRawDataItem(c);if(!(v&&v.visualMap===!1))for(var d=r!=null?p.get(l,c):c,f=t(d),g=e[f],y=a[f],m=0,x=y.length;m<x;m++){var S=y[m];g[S]&&g[S].applyVisual(d,u,h)}}}}}function Th(i){var e=i.brushType,t={point:function(r){return aa[e].point(r,t,i)},rect:function(r){return aa[e].rect(r,t,i)}};return t}var aa={lineX:na(0),lineY:na(1),rect:{point:function(i,e,t){return i&&t.boundingRect.contain(i[0],i[1])},rect:function(i,e,t){return i&&t.boundingRect.intersect(i)}},polygon:{point:function(i,e,t){return i&&t.boundingRect.contain(i[0],i[1])&&Xt(t.range,i[0],i[1])},rect:function(i,e,t){var r=t.range;if(!i||r.length<=1)return!1;var a=i.x,n=i.y,o=i.width,s=i.height,l=r[0];if(Xt(r,a,n)||Xt(r,a+o,n)||Xt(r,a,n+s)||Xt(r,a+o,n+s)||Cr.create(i).contain(l[0],l[1])||se(a,n,a+o,n,r)||se(a,n,a,n+s,r)||se(a+o,n,a+o,n+s,r)||se(a,n+s,a+o,n+s,r))return!0}}};function na(i){var e=["x","y"],t=["width","height"];return{point:function(r,a,n){if(r){var o=n.range,s=r[i];return qt(s,o)}},rect:function(r,a,n){if(r){var o=n.range,s=[r[e[i]],r[e[i]]+r[t[i]]];return s[1]<s[0]&&s.reverse(),qt(s[0],o)||qt(s[1],o)||qt(o[0],s)||qt(o[1],s)}}}}function qt(i,e){return e[0]<=i&&i<=e[1]}var oa=["inBrush","outOfBrush"],Xe="__ecBrushSelect",gr="__ecInBrushSelectEvent";function Rn(i){i.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new Yr(e.option,i);t.setInputRanges(e.areas,i)})}function Ch(i,e,t){var r=[],a,n;i.eachComponent({mainType:"brush"},function(o){t&&t.type==="takeGlobalCursor"&&o.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),Rn(i),i.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:E(o.areas),selected:[]};r.push(l);var u=o.option,h=u.brushLink,c=[],p=[],v=[],d=!1;s||(a=u.throttleType,n=u.throttleDelay);var f=O(o.areas,function(b){var w=Lh[b.brushType],A=Z({boundingRect:w?w(b):void 0},b);return A.selectors=Th(A),A}),g=fr(o.option,oa,function(b){b.mappingMethod="fixed"});P(h)&&_(h,function(b){c[b]=1});function y(b){return h==="all"||!!c[b]}function m(b){return!!b.length}i.eachSeries(function(b,w){var A=v[w]=[];b.subType==="parallel"?x(b,w):S(b,w,A)});function x(b,w){var A=b.coordinateSystem;d=d||A.hasAxisBrushed(),y(w)&&A.eachActiveState(b.getData(),function(T,C){T==="active"&&(p[C]=1)})}function S(b,w,A){if(!(!b.brushSelector||Dh(o,w))&&(_(f,function(C){o.brushTargetManager.controlSeries(C,b,i)&&A.push(C),d=d||m(A)}),y(w)&&m(A))){var T=b.getData();T.each(function(C){sa(b,A,T,C)&&(p[C]=1)})}}i.eachSeries(function(b,w){var A={seriesId:b.id,seriesIndex:w,seriesName:b.name,dataIndex:[]};l.selected.push(A);var T=v[w],C=b.getData(),I=y(w)?function(D){return p[D]?(A.dataIndex.push(C.getRawIndex(D)),"inBrush"):"outOfBrush"}:function(D){return sa(b,T,C,D)?(A.dataIndex.push(C.getRawIndex(D)),"inBrush"):"outOfBrush"};(y(w)?d:m(T))&&wh(oa,g,C,I)})}),Mh(e,a,n,r,t)}function Mh(i,e,t,r,a){if(a){var n=i.getZr();if(!n[gr]){n[Xe]||(n[Xe]=Ih);var o=oe(n,Xe,t,e);o(i,r)}}}function Ih(i,e){if(!i.isDisposed()){var t=i.getZr();t[gr]=!0,i.dispatchAction({type:"brushSelect",batch:e}),t[gr]=!1}}function sa(i,e,t,r){for(var a=0,n=e.length;a<n;a++){var o=e[a];if(i.brushSelector(r,t,o.selectors,o))return!0}}function Dh(i,e){var t=i.option.seriesIndex;return t!=null&&t!=="all"&&(P(t)?rt(t,e)<0:e!==t)}var Lh={rect:function(i){return la(i.range)},polygon:function(i){for(var e,t=i.range,r=0,a=t.length;r<a;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var n=t[r];n[0]<e[0][0]&&(e[0][0]=n[0]),n[0]>e[0][1]&&(e[0][1]=n[0]),n[1]<e[1][0]&&(e[1][0]=n[1]),n[1]>e[1][1]&&(e[1][1]=n[1])}return e&&la(e)}};function la(i){return new Cr(i[0][0],i[1][0],i[0][1]-i[0][0],i[1][1]-i[1][0])}var Ph=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r,this.model,(this._brushController=new Fa(r.getZr())).on("brush",L(this._onBrush,this)).mount()},e.prototype.render=function(t,r,a,n){this.model=t,this._updateController(t,r,a,n)},e.prototype.updateTransform=function(t,r,a,n){Rn(r),this._updateController(t,r,a,n)},e.prototype.updateVisual=function(t,r,a,n){this.updateTransform(t,r,a,n)},e.prototype.updateView=function(t,r,a,n){this._updateController(t,r,a,n)},e.prototype._updateController=function(t,r,a,n){(!n||n.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(a)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var r=this.model.id,a=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:E(a),$from:r}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:E(a),$from:r})},e.type="brush",e}(tt);const kh=Ph;var Rh="#ddd",Oh=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,r){var a=this.option;!r&&kn(a,t,["inBrush","outOfBrush"]);var n=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:Rh},n.hasOwnProperty("liftZ")||(n.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=O(t,function(r){return ua(this.option,r)},this))},e.prototype.setBrushOption=function(t){this.brushOption=ua(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(q);function ua(i,e){return Y({brushType:i.brushType,brushMode:i.brushMode,transformable:i.transformable,brushStyle:new mt(i.brushStyle).getItemStyle(),removeOnClick:i.removeOnClick,z:i.z},e,!0)}const Vh=Oh;var zh=["rect","polygon","lineX","lineY","keep","clear"],Bh=function(i){M(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,r,a){var n,o,s;r.eachComponent({mainType:"brush"},function(l){n=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=n,this._brushMode=o,_(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===n)?"emphasis":"normal")})},e.prototype.updateView=function(t,r,a){this.render(t,r,a)},e.prototype.getIcons=function(){var t=this.model,r=t.get("icon",!0),a={};return _(t.get("type",!0),function(n){r[n]&&(a[n]=r[n])}),a},e.prototype.onclick=function(t,r,a){var n=this._brushType,o=this._brushMode;a==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:a==="keep"?n:n===a?!1:a,brushMode:a==="keep"?o==="multiple"?"single":"multiple":o}})},e.getDefaultOption=function(t){var r={show:!0,type:zh.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return r},e}(st);const Eh=Bh;function lv(i){i.registerComponentView(kh),i.registerComponentModel(Vh),i.registerPreprocessor(bh),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,Ch),i.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},be),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},be),Nt("brush",Eh)}var Nh=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(q),Hh=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){if(this.group.removeAll(),!!t.get("show")){var n=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=dt(t.get("textBaseline"),t.get("textVerticalAlign")),h=new B({style:K(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=h.getBoundingRect(),p=t.get("subtext"),v=new B({style:K(s,{text:p,fill:s.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),f=t.get("sublink"),g=t.get("triggerEvent",!0);h.silent=!d&&!g,v.silent=!f&&!g,d&&h.on("click",function(){ci(d,"_"+t.get("target"))}),f&&v.on("click",function(){ci(f,"_"+t.get("subtarget"))}),F(h).eventData=F(v).eventData=g?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(h),p&&n.add(v);var y=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=y.width,m.height=y.height;var x=pt(m,{width:a.getWidth(),height:a.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?x.x+=x.width:l==="center"&&(x.x+=x.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?x.y+=x.height:u==="middle"&&(x.y+=x.height/2),u=u||"top"),n.x=x.x,n.y=x.y,n.markRedraw();var S={align:l,verticalAlign:u};h.setStyle(S),v.setStyle(S),y=n.getBoundingRect();var b=x.margin,w=t.getItemStyle(["color","opacity"]);w.fill=t.get("backgroundColor");var A=new lt({shape:{x:y.x-b[3],y:y.y-b[0],width:y.width+b[1]+b[3],height:y.height+b[0]+b[2],r:t.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});n.add(A)}},e.type="title",e}(tt);function uv(i){i.registerComponentModel(Nh),i.registerComponentView(Hh)}var Gh=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),this._initData()},e.prototype.mergeOption=function(t){i.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,r=t.data||[],a=t.axisType,n=this._names=[],o;a==="category"?(o=[],_(r,function(u,h){var c=te(Ko(u),""),p;ut(u)?(p=E(u),p.value=h):p=h,o.push(p),n.push(c)})):o=r;var s={category:"ordinal",time:"time",value:"number"}[a]||"number",l=this._data=new Pt([{name:"value",type:s}],this);l.initData(o,n)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(q);const ha=Gh;var On=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Ut(ha.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(ha);Pe(On,Vr.prototype);const Wh=On;var Fh=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}(tt);const $h=Fh;var Zh=function(i){M(e,i);function e(t,r,a,n){var o=i.call(this,t,r,a)||this;return o.type=n||"value",o}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(wt);const Yh=Zh;var Ke=Math.PI,ca=at(),Uh=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.api=r},e.prototype.render=function(t,r,a){if(this.model=t,this.api=a,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var n=this._layout(t,a),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(n,t);t.formatTooltip=function(u){var h=l.scale.getLabel({value:u});return re("nameValue",{noName:!0,value:h})},_(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](n,o,l,t)},this),this._renderAxisLabel(n,s,l,t),this._position(n,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,r){var a=t.get(["label","position"]),n=t.get("orient"),o=Kh(t,r),s;a==null||a==="auto"?s=n==="horizontal"?o.y+o.height/2<r.getHeight()/2?"-":"+":o.x+o.width/2<r.getWidth()/2?"+":"-":z(a)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[n][a]:s=a;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:Ke/2},c=n==="vertical"?o.height:o.width,p=t.getModel("controlStyle"),v=p.get("show",!0),d=v?p.get("itemSize"):0,f=v?p.get("itemGap"):0,g=d+f,y=t.get(["label","rotate"])||0;y=y*Ke/180;var m,x,S,b=p.get("position",!0),w=v&&p.get("showPlayBtn",!0),A=v&&p.get("showPrevBtn",!0),T=v&&p.get("showNextBtn",!0),C=0,I=c;b==="left"||b==="bottom"?(w&&(m=[0,0],C+=g),A&&(x=[C,0],C+=g),T&&(S=[I-d,0],I-=g)):(w&&(m=[I-d,0],I-=g),A&&(x=[0,0],C+=g),T&&(S=[I-d,0],I-=g));var D=[C,I];return t.get("inverse")&&D.reverse(),{viewRect:o,mainLength:c,orient:n,rotation:h[n],labelRotation:y,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[n],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[n],playPosition:m,prevBtnPosition:x,nextBtnPosition:S,axisExtent:D,controlSize:d,controlGap:f}},e.prototype._position=function(t,r){var a=this._mainGroup,n=this._labelGroup,o=t.viewRect;if(t.orient==="vertical"){var s=Tr(),l=o.x,u=o.y+o.height;Se(s,s,[-l,-u]),Ar(s,s,-Ke/2),Se(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var h=m(o),c=m(a.getBoundingRect()),p=m(n.getBoundingRect()),v=[a.x,a.y],d=[n.x,n.y];d[0]=v[0]=h[0][0];var f=t.labelPosOpt;if(f==null||z(f)){var g=f==="+"?0:1;x(v,c,h,1,g),x(d,p,h,1,1-g)}else{var g=f>=0?0:1;x(v,c,h,1,g),d[1]=v[1]+f}a.setPosition(v),n.setPosition(d),a.rotation=n.rotation=t.rotation,y(a),y(n);function y(S){S.originX=h[0][0]-S.x,S.originY=h[1][0]-S.y}function m(S){return[[S.x,S.x+S.width],[S.y,S.y+S.height]]}function x(S,b,w,A,T){S[A]+=w[A][T]-b[A][T]}},e.prototype._createAxis=function(t,r){var a=r.getData(),n=r.get("axisType"),o=Xh(r,n);o.getTicks=function(){return a.mapArray(["value"],function(u){return{value:u}})};var s=a.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new Yh("value",o,t.axisExtent,n);return l.model=r,l},e.prototype._createGroup=function(t){var r=this[t]=new et;return this.group.add(r),r},e.prototype._renderAxisLine=function(t,r,a,n){var o=a.getExtent();if(n.get(["lineStyle","show"])){var s=new Dt({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:H({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new Dt({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:Z({lineCap:"round",lineWidth:s.style.lineWidth},n.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},e.prototype._renderAxisTick=function(t,r,a,n){var o=this,s=n.getData(),l=a.scale.getTicks();this._tickSymbols=[],_(l,function(u){var h=a.dataToCoord(u.value),c=s.getItemModel(u.value),p=c.getModel("itemStyle"),v=c.getModel(["emphasis","itemStyle"]),d=c.getModel(["progress","itemStyle"]),f={x:h,y:0,onclick:L(o._changeTimeline,o,u.value)},g=pa(c,p,r,f);g.ensureState("emphasis").style=v.getItemStyle(),g.ensureState("progress").style=d.getItemStyle(),Ht(g);var y=F(g);c.get("tooltip")?(y.dataIndex=u.value,y.dataModel=n):y.dataIndex=y.dataModel=null,o._tickSymbols.push(g)})},e.prototype._renderAxisLabel=function(t,r,a,n){var o=this,s=a.getLabelModel();if(s.get("show")){var l=n.getData(),u=a.getViewLabels();this._tickLabels=[],_(u,function(h){var c=h.tickValue,p=l.getItemModel(c),v=p.getModel("label"),d=p.getModel(["emphasis","label"]),f=p.getModel(["progress","label"]),g=a.dataToCoord(h.tickValue),y=new B({x:g,y:0,rotation:t.labelRotation-t.rotation,onclick:L(o._changeTimeline,o,c),silent:!1,style:K(v,{text:h.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});y.ensureState("emphasis").style=K(d),y.ensureState("progress").style=K(f),r.add(y),Ht(y),ca(y).dataIndex=c,o._tickLabels.push(y)})}},e.prototype._renderControl=function(t,r,a,n){var o=t.controlSize,s=t.rotation,l=n.getModel("controlStyle").getItemStyle(),u=n.getModel(["emphasis","controlStyle"]).getItemStyle(),h=n.getPlayState(),c=n.get("inverse",!0);p(t.nextBtnPosition,"next",L(this._changeTimeline,this,c?"-":"+")),p(t.prevBtnPosition,"prev",L(this._changeTimeline,this,c?"+":"-")),p(t.playPosition,h?"stop":"play",L(this._handlePlayClick,this,!h),!0);function p(v,d,f,g){if(v){var y=sr(dt(n.get(["controlStyle",d+"BtnSize"]),o),o),m=[0,-y/2,y,y],x=qh(n,d+"Icon",m,{x:v[0],y:v[1],originX:o/2,originY:0,rotation:g?-s:0,rectHover:!0,style:l,onclick:f});x.ensureState("emphasis").style=u,r.add(x),Ht(x)}}},e.prototype._renderCurrentPointer=function(t,r,a,n){var o=n.getData(),s=n.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,h={onCreate:function(c){c.draggable=!0,c.drift=L(u._handlePointerDrag,u),c.ondragend=L(u._handlePointerDragend,u),va(c,u._progressLine,s,a,n,!0)},onUpdate:function(c){va(c,u._progressLine,s,a,n)}};this._currentPointer=pa(l,l,this._mainGroup,{},this._currentPointer,h)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,r,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,r){var a=this._toAxisCoord(t)[0],n=this._axis,o=ct(n.getExtent().slice());a>o[1]&&(a=o[1]),a<o[0]&&(a=o[0]),this._currentPointer.x=a,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=a,s.dirty());var l=this._findNearestTick(a),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var r=this._mainGroup.getLocalTransform();return St(t,r,!0)},e.prototype._findNearestTick=function(t){var r=this.model.getData(),a=1/0,n,o=this._axis;return r.each(["value"],function(s,l){var u=o.dataToCoord(s),h=Math.abs(u-t);h<a&&(a=h,n=l)}),n},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();t==="+"?t=r+1:t==="-"&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,a=this._tickLabels;if(r)for(var n=0;n<r.length;n++)r&&r[n]&&r[n].toggleState("progress",n<t);if(a)for(var n=0;n<a.length;n++)a&&a[n]&&a[n].toggleState("progress",ca(a[n]).dataIndex<=t)},e.type="timeline.slider",e}($h);function Xh(i,e){if(e=e||i.get("type"),e)switch(e){case"category":return new Qo({ordinalMeta:i.getCategories(),extent:[1/0,-1/0]});case"time":return new jo({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new qo}}function Kh(i,e){return pt(i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},i.get("padding"))}function qh(i,e,t,r){var a=r.style,n=ke(i.get(["controlStyle",e]),r||{},new Cr(t[0],t[1],t[2],t[3]));return a&&n.setStyle(a),n}function pa(i,e,t,r,a,n){var o=e.get("color");if(a)a.setColor(o),t.add(a),n&&n.onUpdate(a);else{var s=i.get("symbol");a=Rt(s,-1,-1,2,2,o),a.setStyle("strokeNoScale",!0),t.add(a),n&&n.onCreate(a)}var l=e.getItemStyle(["color"]);a.setStyle(l),r=Y({rectHover:!0,z2:100},r,!0);var u=Jo(i.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var h=ts(i.get("symbolOffset"),u);h&&(r.x=(r.x||0)+h[0],r.y=(r.y||0)+h[1]);var c=i.get("symbolRotate");return r.rotation=(c||0)*Math.PI/180||0,a.attr(r),a.updateTransform(),a}function va(i,e,t,r,a,n){if(!i.dragging){var o=a.getModel("checkpointStyle"),s=r.dataToCoord(a.getData().get("value",t));if(n||!o.get("animation",!0))i.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};i.stopAnimation(null,!0),i.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}const jh=Uh;function Qh(i){i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,r){var a=t.getComponent("timeline");return a&&e.currentIndex!=null&&(a.setCurrentIndex(e.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),Z({currentIndex:a.option.currentIndex},e)}),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function Jh(i){var e=i&&i.timeline;P(e)||(e=e?[e]:[]),_(e,function(t){t&&tc(t)})}function tc(i){var e=i.type,t={number:"value",time:"time"};if(t[e]&&(i.axisType=t[e],delete i.type),da(i),Mt(i,"controlPosition")){var r=i.controlStyle||(i.controlStyle={});Mt(r,"position")||(r.position=i.controlPosition),r.position==="none"&&!Mt(r,"show")&&(r.show=!1,delete r.position),delete i.controlPosition}_(i.data||[],function(a){ut(a)&&!P(a)&&(!Mt(a,"value")&&Mt(a,"name")&&(a.value=a.name),da(a))})}function da(i){var e=i.itemStyle||(i.itemStyle={}),t=e.emphasis||(e.emphasis={}),r=i.label||i.label||{},a=r.normal||(r.normal={}),n={normal:1,emphasis:1};_(r,function(o,s){!n[s]&&!Mt(a,s)&&(a[s]=o)}),t.label&&!Mt(r,"emphasis")&&(r.emphasis=t.label,delete t.label)}function Mt(i,e){return i.hasOwnProperty(e)}function hv(i){i.registerComponentModel(Wh),i.registerComponentView(jh),i.registerSubTypeDefaulter("timeline",function(){return"slider"}),Qh(i),i.registerPreprocessor(Jh)}function Kr(i,e){if(!i)return!1;for(var t=P(i)?i:[i],r=0;r<t.length;r++)if(t[r]&&t[r][e])return!0;return!1}function ce(i){es(i,"label",["show"])}var pe=at(),Vn=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),this._mergeOption(t,a,!1,!0)},e.prototype.isAnimationEnabled=function(){if(j.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,r){this._mergeOption(t,r,!1,!1)},e.prototype._mergeOption=function(t,r,a,n){var o=this.mainType;a||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=pe(s)[o];if(!l||!l.data){pe(s)[o]=null;return}u?u._mergeOption(l,r,!0):(n&&ce(l),_(l.data,function(h){h instanceof Array?(ce(h[0]),ce(h[1])):ce(h)}),u=this.createMarkerModelFromSeries(l,this,r),H(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),pe(s)[o]=u},this)},e.prototype.formatTooltip=function(t,r,a){var n=this.getData(),o=this.getRawValue(t),s=n.getName(t);return re("section",{header:this.name,blocks:[re("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,r){var a=Vr.prototype.getDataParams.call(this,t,r),n=this.__hostSeries;return n&&(a.seriesId=n.id,a.seriesName=n.name,a.seriesType=n.subType),a},e.getMarkerModelFromSeries=function(t,r){return pe(t)[r]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(q);Pe(Vn,Vr.prototype);const bt=Vn;var ec=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,a){return new e(t,r,a)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(bt);const rc=ec;function yr(i){return!(isNaN(parseFloat(i.x))&&isNaN(parseFloat(i.y)))}function ic(i){return!isNaN(parseFloat(i.x))&&!isNaN(parseFloat(i.y))}function ve(i,e,t,r,a,n){var o=[],s=ja(e,r),l=s?e.getCalculationInfo("stackResultDimension"):r,u=qr(e,l,i),h=e.indicesOfNearest(l,u)[0];o[a]=e.get(t,h),o[n]=e.get(l,h);var c=e.get(r,h),p=rs(e.get(r,h));return p=Math.min(p,20),p>=0&&(o[n]=+o[n].toFixed(p)),[o,c]}var qe={min:V(ve,"min"),max:V(ve,"max"),average:V(ve,"average"),median:V(ve,"median")};function ae(i,e){if(e){var t=i.getData(),r=i.coordinateSystem,a=r&&r.dimensions;if(!ic(e)&&!P(e.coord)&&P(a)){var n=zn(e,t,r,i);if(e=E(e),e.type&&qe[e.type]&&n.baseAxis&&n.valueAxis){var o=rt(a,n.baseAxis.dim),s=rt(a,n.valueAxis.dim),l=qe[e.type](t,n.baseDataDim,n.valueDataDim,o,s);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!P(a))e.coord=[];else for(var u=e.coord,h=0;h<2;h++)qe[u[h]]&&(u[h]=qr(t,t.mapDimension(a[h]),u[h]));return e}}function zn(i,e,t,r){var a={};return i.valueIndex!=null||i.valueDim!=null?(a.valueDataDim=i.valueIndex!=null?e.getDimension(i.valueIndex):i.valueDim,a.valueAxis=t.getAxis(ac(r,a.valueDataDim)),a.baseAxis=t.getOtherAxis(a.valueAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim)):(a.baseAxis=r.getBaseAxis(),a.valueAxis=t.getOtherAxis(a.baseAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim),a.valueDataDim=e.mapDimension(a.valueAxis.dim)),a}function ac(i,e){var t=i.getData().getDimensionInfo(e);return t&&t.coordDim}function ne(i,e){return i&&i.containData&&e.coord&&!yr(e)?i.containData(e.coord):!0}function nc(i,e,t){return i&&i.containZone&&e.coord&&t.coord&&!yr(e)&&!yr(t)?i.containZone(e.coord,t.coord):!0}function Bn(i,e){return i?function(t,r,a,n){var o=n<2?t.coord&&t.coord[n]:t.value;return Ae(o,e[n])}:function(t,r,a,n){return Ae(t.value,e[n])}}function qr(i,e,t){if(t==="average"){var r=0,a=0;return i.each(e,function(n,o){isNaN(n)||(r+=n,a++)}),r/a}else return t==="median"?i.getMedian(e):i.getDataExtent(e)[t==="max"?1:0]}var je=at(),oc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=J()},e.prototype.render=function(t,r,a){var n=this,o=this.markerGroupMap;o.each(function(s){je(s).keep=!1}),r.eachSeries(function(s){var l=bt.getMarkerModelFromSeries(s,n.type);l&&n.renderSeries(s,l,r,a)}),o.each(function(s){!je(s).keep&&n.group.remove(s.group)})},e.prototype.markKeep=function(t){je(t).keep=!0},e.prototype.toggleBlurSeries=function(t,r){var a=this;_(t,function(n){var o=bt.getMarkerModelFromSeries(n,a.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(r?is(l):as(l))})}})},e.type="marker",e}(tt);const jr=oc;function fa(i,e,t){var r=e.coordinateSystem;i.each(function(a){var n=i.getItemModel(a),o,s=G(n.get("x"),t.getWidth()),l=G(n.get("y"),t.getHeight());if(!isNaN(s)&&!isNaN(l))o=[s,l];else if(e.getMarkerPosition)o=e.getMarkerPosition(i.getValues(i.dimensions,a));else if(r){var u=i.get(r.dimensions[0],a),h=i.get(r.dimensions[1],a);o=r.dataToPoint([u,h])}isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),i.setItemLayout(a,o)})}var sc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,a){r.eachSeries(function(n){var o=bt.getMarkerModelFromSeries(n,"markPoint");o&&(fa(o.getData(),n,a),this.markerGroupMap.get(n.id).updateLayout())},this)},e.prototype.renderSeries=function(t,r,a,n){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new uo),c=lc(o,t,r);r.setData(c),fa(r.getData(),t,n),c.each(function(p){var v=c.getItemModel(p),d=v.getShallow("symbol"),f=v.getShallow("symbolSize"),g=v.getShallow("symbolRotate"),y=v.getShallow("symbolOffset"),m=v.getShallow("symbolKeepAspect");if(N(d)||N(f)||N(g)||N(y)){var x=r.getRawValue(p),S=r.getDataParams(p);N(d)&&(d=d(x,S)),N(f)&&(f=f(x,S)),N(g)&&(g=g(x,S)),N(y)&&(y=y(x,S))}var b=v.getModel("itemStyle").getItemStyle(),w=Ve(l,"color");b.fill||(b.fill=w),c.setItemVisual(p,{symbol:d,symbolSize:f,symbolRotate:g,symbolOffset:y,symbolKeepAspect:m,style:b})}),h.updateData(c),this.group.add(h.group),c.eachItemGraphicEl(function(p){p.traverse(function(v){F(v).dataModel=r})}),this.markKeep(h),h.group.silent=r.get("silent")||t.get("silent")},e.type="markPoint",e}(jr);function lc(i,e,t){var r;i?r=O(i&&i.dimensions,function(s){var l=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return H(H({},l),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var a=new Pt(r,t),n=O(t.get("data"),V(ae,e));i&&(n=_t(n,V(ne,i)));var o=Bn(!!i,r);return a.initData(n,null,o),a}const uc=sc;function cv(i){i.registerComponentModel(rc),i.registerComponentView(uc),i.registerPreprocessor(function(e){Kr(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var hc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,a){return new e(t,r,a)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(bt);const cc=hc;var de=at(),pc=function(i,e,t,r){var a=i.getData(),n;if(P(r))n=r;else{var o=r.type;if(o==="min"||o==="max"||o==="average"||o==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=e.getAxis(r.yAxis!=null?"y":"x"),l=It(r.yAxis,r.xAxis);else{var u=zn(r,a,e,i);s=u.valueAxis;var h=ns(a,u.valueDataDim);l=qr(a,h,o)}var c=s.dim==="x"?0:1,p=1-c,v=E(r),d={coord:[]};v.type=null,v.coord=[],v.coord[p]=-1/0,d.coord[p]=1/0;var f=t.get("precision");f>=0&&Mr(l)&&(l=+l.toFixed(Math.min(f,20))),v.coord[c]=d.coord[c]=l,n=[v,d,{type:o,valueIndex:r.valueIndex,value:l}]}else n=[]}var g=[ae(i,n[0]),ae(i,n[1]),H({},n[2])];return g[2].type=g[2].type||null,Y(g[2],g[0]),Y(g[2],g[1]),g};function Ie(i){return!isNaN(i)&&!isFinite(i)}function ga(i,e,t,r){var a=1-i,n=r.dimensions[i];return Ie(e[a])&&Ie(t[a])&&e[i]===t[i]&&r.getAxis(n).containData(e[i])}function vc(i,e){if(i.type==="cartesian2d"){var t=e[0].coord,r=e[1].coord;if(t&&r&&(ga(1,t,r,i)||ga(0,t,r,i)))return!0}return ne(i,e[0])&&ne(i,e[1])}function Qe(i,e,t,r,a){var n=r.coordinateSystem,o=i.getItemModel(e),s,l=G(o.get("x"),a.getWidth()),u=G(o.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(i.getValues(i.dimensions,e));else{var h=n.dimensions,c=i.get(h[0],e),p=i.get(h[1],e);s=n.dataToPoint([c,p])}if(_r(n,"cartesian2d")){var v=n.getAxis("x"),d=n.getAxis("y"),h=n.dimensions;Ie(i.get(h[0],e))?s[0]=v.toGlobalCoord(v.getExtent()[t?0:1]):Ie(i.get(h[1],e))&&(s[1]=d.toGlobalCoord(d.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}i.setItemLayout(e,s)}var dc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,a){r.eachSeries(function(n){var o=bt.getMarkerModelFromSeries(n,"markLine");if(o){var s=o.getData(),l=de(o).from,u=de(o).to;l.each(function(h){Qe(l,h,!0,n,a),Qe(u,h,!1,n,a)}),s.each(function(h){s.setItemLayout(h,[l.getItemLayout(h),u.getItemLayout(h)])}),this.markerGroupMap.get(n.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,r,a,n){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new ho);this.group.add(h.group);var c=fc(o,t,r),p=c.from,v=c.to,d=c.line;de(r).from=p,de(r).to=v,r.setData(d);var f=r.get("symbol"),g=r.get("symbolSize"),y=r.get("symbolRotate"),m=r.get("symbolOffset");P(f)||(f=[f,f]),P(g)||(g=[g,g]),P(y)||(y=[y,y]),P(m)||(m=[m,m]),c.from.each(function(S){x(p,S,!0),x(v,S,!1)}),d.each(function(S){var b=d.getItemModel(S).getModel("lineStyle").getLineStyle();d.setItemLayout(S,[p.getItemLayout(S),v.getItemLayout(S)]),b.stroke==null&&(b.stroke=p.getItemVisual(S,"style").fill),d.setItemVisual(S,{fromSymbolKeepAspect:p.getItemVisual(S,"symbolKeepAspect"),fromSymbolOffset:p.getItemVisual(S,"symbolOffset"),fromSymbolRotate:p.getItemVisual(S,"symbolRotate"),fromSymbolSize:p.getItemVisual(S,"symbolSize"),fromSymbol:p.getItemVisual(S,"symbol"),toSymbolKeepAspect:v.getItemVisual(S,"symbolKeepAspect"),toSymbolOffset:v.getItemVisual(S,"symbolOffset"),toSymbolRotate:v.getItemVisual(S,"symbolRotate"),toSymbolSize:v.getItemVisual(S,"symbolSize"),toSymbol:v.getItemVisual(S,"symbol"),style:b})}),h.updateData(d),c.line.eachItemGraphicEl(function(S){F(S).dataModel=r,S.traverse(function(b){F(b).dataModel=r})});function x(S,b,w){var A=S.getItemModel(b);Qe(S,b,w,t,n);var T=A.getModel("itemStyle").getItemStyle();T.fill==null&&(T.fill=Ve(l,"color")),S.setItemVisual(b,{symbolKeepAspect:A.get("symbolKeepAspect"),symbolOffset:dt(A.get("symbolOffset",!0),m[w?0:1]),symbolRotate:dt(A.get("symbolRotate",!0),y[w?0:1]),symbolSize:dt(A.get("symbolSize"),g[w?0:1]),symbol:dt(A.get("symbol",!0),f[w?0:1]),style:T})}this.markKeep(h),h.group.silent=r.get("silent")||t.get("silent")},e.type="markLine",e}(jr);function fc(i,e,t){var r;i?r=O(i&&i.dimensions,function(u){var h=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return H(H({},h),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var a=new Pt(r,t),n=new Pt(r,t),o=new Pt([],t),s=O(t.get("data"),V(pc,e,i,t));i&&(s=_t(s,V(vc,i)));var l=Bn(!!i,r);return a.initData(O(s,function(u){return u[0]}),null,l),n.initData(O(s,function(u){return u[1]}),null,l),o.initData(O(s,function(u){return u[2]})),o.hasItemOption=!0,{from:a,to:n,line:o}}const gc=dc;function pv(i){i.registerComponentModel(cc),i.registerComponentView(gc),i.registerPreprocessor(function(e){Kr(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var yc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,a){return new e(t,r,a)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(bt);const mc=yc;var fe=at(),xc=function(i,e,t,r){var a=r[0],n=r[1];if(!(!a||!n)){var o=ae(i,a),s=ae(i,n),l=o.coord,u=s.coord;l[0]=It(l[0],-1/0),l[1]=It(l[1],-1/0),u[0]=It(u[0],1/0),u[1]=It(u[1],1/0);var h=mo([{},o,s]);return h.coord=[o.coord,s.coord],h.x0=o.x,h.y0=o.y,h.x1=s.x,h.y1=s.y,h}};function De(i){return!isNaN(i)&&!isFinite(i)}function ya(i,e,t,r){var a=1-i;return De(e[a])&&De(t[a])}function Sc(i,e){var t=e.coord[0],r=e.coord[1],a={coord:t,x:e.x0,y:e.y0},n={coord:r,x:e.x1,y:e.y1};return _r(i,"cartesian2d")?t&&r&&(ya(1,t,r)||ya(0,t,r))?!0:nc(i,a,n):ne(i,a)||ne(i,n)}function ma(i,e,t,r,a){var n=r.coordinateSystem,o=i.getItemModel(e),s,l=G(o.get(t[0]),a.getWidth()),u=G(o.get(t[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var h=i.getValues(["x0","y0"],e),c=i.getValues(["x1","y1"],e),p=n.clampData(h),v=n.clampData(c),d=[];t[0]==="x0"?d[0]=p[0]>v[0]?c[0]:h[0]:d[0]=p[0]>v[0]?h[0]:c[0],t[1]==="y0"?d[1]=p[1]>v[1]?c[1]:h[1]:d[1]=p[1]>v[1]?h[1]:c[1],s=r.getMarkerPosition(d,t,!0)}else{var f=i.get(t[0],e),g=i.get(t[1],e),y=[f,g];n.clampData&&n.clampData(y,y),s=n.dataToPoint(y,!0)}if(_r(n,"cartesian2d")){var m=n.getAxis("x"),x=n.getAxis("y"),f=i.get(t[0],e),g=i.get(t[1],e);De(f)?s[0]=m.toGlobalCoord(m.getExtent()[t[0]==="x0"?0:1]):De(g)&&(s[1]=x.toGlobalCoord(x.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var xa=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],bc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,a){r.eachSeries(function(n){var o=bt.getMarkerModelFromSeries(n,"markArea");if(o){var s=o.getData();s.each(function(l){var u=O(xa,function(c){return ma(s,l,c,n,a)});s.setItemLayout(l,u);var h=s.getItemGraphicEl(l);h.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,r,a,n){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,{group:new et});this.group.add(h.group),this.markKeep(h);var c=_c(o,t,r);r.setData(c),c.each(function(p){var v=O(xa,function(T){return ma(c,p,T,t,n)}),d=o.getAxis("x").scale,f=o.getAxis("y").scale,g=d.getExtent(),y=f.getExtent(),m=[d.parse(c.get("x0",p)),d.parse(c.get("x1",p))],x=[f.parse(c.get("y0",p)),f.parse(c.get("y1",p))];ct(m),ct(x);var S=!(g[0]>m[1]||g[1]<m[0]||y[0]>x[1]||y[1]<x[0]),b=!S;c.setItemLayout(p,{points:v,allClipped:b});var w=c.getItemModel(p).getModel("itemStyle").getItemStyle(),A=Ve(l,"color");w.fill||(w.fill=A,z(w.fill)&&(w.fill=ai(w.fill,.4))),w.stroke||(w.stroke=A),c.setItemVisual(p,"style",w)}),c.diff(fe(h).data).add(function(p){var v=c.getItemLayout(p);if(!v.allClipped){var d=new Te({shape:{points:v.points}});c.setItemGraphicEl(p,d),h.group.add(d)}}).update(function(p,v){var d=fe(h).data.getItemGraphicEl(v),f=c.getItemLayout(p);f.allClipped?d&&h.group.remove(d):(d?Re(d,{shape:{points:f.points}},r,p):d=new Te({shape:{points:f.points}}),c.setItemGraphicEl(p,d),h.group.add(d))}).remove(function(p){var v=fe(h).data.getItemGraphicEl(p);h.group.remove(v)}).execute(),c.eachItemGraphicEl(function(p,v){var d=c.getItemModel(v),f=c.getItemVisual(v,"style");p.useStyle(c.getItemVisual(v,"style")),on(p,os(d),{labelFetcher:r,labelDataIndex:v,defaultText:c.getName(v)||"",inheritColor:z(f.fill)?ai(f.fill,1):"#000"}),ss(p,d),ls(p,null,null,d.get(["emphasis","disabled"])),F(p).dataModel=r}),fe(h).data=c,h.group.silent=r.get("silent")||t.get("silent")},e.type="markArea",e}(jr);function _c(i,e,t){var r,a,n=["x0","y0","x1","y1"];if(i){var o=O(i&&i.dimensions,function(u){var h=e.getData(),c=h.getDimensionInfo(h.mapDimension(u))||{};return H(H({},c),{name:u,ordinalMeta:null})});a=O(n,function(u,h){return{name:u,type:o[h%2].type}}),r=new Pt(a,t)}else a=[{name:"value",type:"float"}],r=new Pt(a,t);var s=O(t.get("data"),V(xc,e,i,t));i&&(s=_t(s,V(Sc,i)));var l=i?function(u,h,c,p){var v=u.coord[Math.floor(p/2)][p%2];return Ae(v,a[p])}:function(u,h,c,p){return Ae(u.value,a[p])};return r.initData(s,null,l),r.hasItemOption=!0,r}const wc=bc;function vv(i){i.registerComponentModel(mc),i.registerComponentView(wc),i.registerPreprocessor(function(e){Kr(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var Ac=function(i,e){if(e==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},Tc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,a=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),P(r)&&_(r,function(n,o){z(n)&&(n={type:n}),r[o]=Y(n,Ac(a,n.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,a=0;a<t.length;a++){var n=t[a].get("name");if(this.isSelected(n)){this.select(n),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],a=[];t.eachRawSeries(function(l){var u=l.name;a.push(u);var h;if(l.legendVisualProvider){var c=l.legendVisualProvider,p=c.getAllNames();t.isSeriesFiltered(l)||(a=a.concat(p)),p.length?r=r.concat(p):h=!0}else h=!0;h&&us(l)&&r.push(l.name)}),this._availableNames=a;var n=this.get("data")||r,o=J(),s=O(n,function(l){return(z(l)||Mr(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new mt(l,this,this.ecModel))},this);this._data=_t(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,a=this.get("selectedMode");if(a==="single"){var n=this._data;_(n,function(o){r[o.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;_(t,function(a){r[a.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;_(t,function(a){var n=a.get("name",!0);r.hasOwnProperty(n)||(r[n]=!0),r[n]=!r[n]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&rt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(q);const mr=Tc;var zt=V,xr=_,ge=et,Cc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new ge),this.group.add(this._selectorGroup=new ge),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,a){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,r,a,l,s,u);var h=t.getBoxLayoutParams(),c={width:a.getWidth(),height:a.getHeight()},p=t.get("padding"),v=pt(h,c,p),d=this.layoutInner(t,o,v,n,l,u),f=pt(Z({width:d.width,height:d.height},h),c,p);this.group.x=f.x-d.x,this.group.y=f.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Tn(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,a,n,o,s,l){var u=this.getContentGroup(),h=J(),c=r.get("selectedMode"),p=[];a.eachRawSeries(function(v){!v.get("legendHoverLink")&&p.push(v.id)}),xr(r.getData(),function(v,d){var f=v.get("name");if(!this.newlineDisabled&&(f===""||f===`
`)){var g=new ge;g.newline=!0,u.add(g);return}var y=a.getSeriesByName(f)[0];if(!h.get(f))if(y){var m=y.getData(),x=m.getVisual("legendLineStyle")||{},S=m.getVisual("legendIcon"),b=m.getVisual("style"),w=this._createItem(y,f,d,v,r,t,x,b,S,c,n);w.on("click",zt(Sa,f,null,n,p)).on("mouseover",zt(Sr,y.name,null,n,p)).on("mouseout",zt(br,y.name,null,n,p)),a.ssr&&w.eachChild(function(A){var T=F(A);T.seriesIndex=y.seriesIndex,T.dataIndex=d,T.ssrType="legend"}),h.set(f,!0)}else a.eachRawSeries(function(A){if(!h.get(f)&&A.legendVisualProvider){var T=A.legendVisualProvider;if(!T.containName(f))return;var C=T.indexOfName(f),I=T.getItemVisual(C,"style"),D=T.getItemVisual(C,"legendIcon"),R=xo(I.fill);R&&R[3]===0&&(R[3]=.2,I=H(H({},I),{fill:So(R,"rgba")}));var k=this._createItem(A,f,d,v,r,t,{},I,D,c,n);k.on("click",zt(Sa,null,f,n,p)).on("mouseover",zt(Sr,null,f,n,p)).on("mouseout",zt(br,null,f,n,p)),a.ssr&&k.eachChild(function($){var U=F($);U.seriesIndex=A.seriesIndex,U.dataIndex=d,U.ssrType="legend"}),h.set(f,!0)}},this)},this),o&&this._createSelector(o,r,n,s,l)},e.prototype._createSelector=function(t,r,a,n,o){var s=this.getSelectorGroup();xr(t,function(u){var h=u.type,c=new B({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(c);var p=r.getModel("selectorLabel"),v=r.getModel(["emphasis","selectorLabel"]);on(c,{normal:p,emphasis:v},{defaultText:u.title}),Ht(c)})},e.prototype._createItem=function(t,r,a,n,o,s,l,u,h,c,p){var v=t.visualDrawType,d=o.get("itemWidth"),f=o.get("itemHeight"),g=o.isSelected(r),y=n.get("symbolRotate"),m=n.get("symbolKeepAspect"),x=n.get("icon");h=x||h||"roundRect";var S=Mc(h,n,l,u,v,g,p),b=new ge,w=n.getModel("textStyle");if(N(t.getLegendIcon)&&(!x||x==="inherit"))b.add(t.getLegendIcon({itemWidth:d,itemHeight:f,icon:h,iconRotate:y,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:m}));else{var A=x==="inherit"&&t.getData().getVisual("symbol")?y==="inherit"?t.getData().getVisual("symbolRotate"):y:0;b.add(Ic({itemWidth:d,itemHeight:f,icon:h,iconRotate:A,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:m}))}var T=s==="left"?d+5:-5,C=s,I=o.get("formatter"),D=r;z(I)&&I?D=I.replace("{name}",r??""):N(I)&&(D=I(r));var R=g?w.getTextColor():n.get("inactiveColor");b.add(new B({style:K(w,{text:D,x:T,y:f/2,fill:R,align:C,verticalAlign:"middle"},{inheritColor:R})}));var k=new lt({shape:b.getBoundingRect(),style:{fill:"transparent"}}),$=n.getModel("tooltip");return $.get("show")&&Pr({el:k,componentModel:o,itemName:r,itemTooltipOption:$.option}),b.add(k),b.eachChild(function(U){U.silent=!0}),k.silent=!c,this.getContentGroup().add(b),Ht(b),b.__legendDataIndex=a,b},e.prototype.layoutInner=function(t,r,a,n,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Lt(t.get("orient"),l,t.get("itemGap"),a.width,a.height);var h=l.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),o){Lt("horizontal",u,t.get("selectorItemGap",!0));var p=u.getBoundingRect(),v=[-p.x,-p.y],d=t.get("selectorButtonGap",!0),f=t.getOrient().index,g=f===0?"width":"height",y=f===0?"height":"width",m=f===0?"y":"x";s==="end"?v[f]+=h[g]+d:c[f]+=p[g]+d,v[1-f]+=h[y]/2-p[y]/2,u.x=v[0],u.y=v[1],l.x=c[0],l.y=c[1];var x={x:0,y:0};return x[g]=h[g]+d+p[g],x[y]=Math.max(h[y],p[y]),x[m]=Math.min(0,p[m]+v[1-f]),x}else return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(tt);function Mc(i,e,t,r,a,n,o){function s(g,y){g.lineWidth==="auto"&&(g.lineWidth=y.lineWidth>0?2:0),xr(g,function(m,x){g[x]==="inherit"&&(g[x]=y[x])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),h=i.lastIndexOf("empty",0)===0?"fill":"stroke",c=l.getShallow("decal");u.decal=!c||c==="inherit"?r.decal:hs(c,o),u.fill==="inherit"&&(u.fill=r[a]),u.stroke==="inherit"&&(u.stroke=r[h]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?r:t).opacity),s(u,r);var p=e.getModel("lineStyle"),v=p.getLineStyle();if(s(v,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),v.stroke==="auto"&&(v.stroke=r.fill),!n){var d=e.get("inactiveBorderWidth"),f=u[h];u.lineWidth=d==="auto"?r.lineWidth>0&&f?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),v.stroke=p.get("inactiveColor"),v.lineWidth=p.get("inactiveWidth")}return{itemStyle:u,lineStyle:v}}function Ic(i){var e=i.icon||"roundRect",t=Rt(e,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return t.setStyle(i.itemStyle),t.rotation=(i.iconRotate||0)*Math.PI/180,t.setOrigin([i.itemWidth/2,i.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Sa(i,e,t,r){br(i,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:i??e}),Sr(i,e,t,r)}function En(i){for(var e=i.getZr().storage.getDisplayList(),t,r=0,a=e.length;r<a&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function Sr(i,e,t,r){En(t)||t.dispatchAction({type:"highlight",seriesName:i,name:e,excludeSeriesId:r})}function br(i,e,t,r){En(t)||t.dispatchAction({type:"downplay",seriesName:i,name:e,excludeSeriesId:r})}const Nn=Cc;function Dc(i){var e=i.findComponents({mainType:"legend"});e&&e.length&&i.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function jt(i,e,t){var r=i==="allSelect"||i==="inverseSelect",a={},n=[];t.eachComponent({mainType:"legend",query:e},function(s){r?s[i]():s[i](e.name),ba(s,a),n.push(s.componentIndex)});var o={};return t.eachComponent("legend",function(s){_(a,function(l,u){s[l?"select":"unSelect"](u)}),ba(s,o)}),r?{selected:o,legendIndex:n}:{name:e.name,selected:o}}function ba(i,e){var t=e||{};return _(i.getData(),function(r){var a=r.get("name");if(!(a===`
`||a==="")){var n=i.isSelected(a);Ft(t,a)?t[a]=t[a]&&n:t[a]=n}}),t}function Lc(i){i.registerAction("legendToggleSelect","legendselectchanged",V(jt,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",V(jt,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",V(jt,"inverseSelect")),i.registerAction("legendSelect","legendselected",V(jt,"select")),i.registerAction("legendUnSelect","legendunselected",V(jt,"unSelect"))}function Hn(i){i.registerComponentModel(mr),i.registerComponentView(Nn),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,Dc),i.registerSubTypeDefaulter("legend",function(){return"plain"}),Lc(i)}var Pc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,a){var n=Dr(t);i.prototype.init.call(this,t,r,a),_a(this,t,n)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),_a(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Ut(mr.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(mr);function _a(i,e,t){var r=i.getOrient(),a=[1,1];a[r.index]=0,Lr(e,t,{type:"box",ignoreSize:!!a})}const kc=Pc;var wa=et,Je=["width","height"],tr=["x","y"],Rc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new wa),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new wa)},e.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,a,n,o,s,l){var u=this;i.prototype.renderInner.call(this,t,r,a,n,o,s,l);var h=this._controllerGroup,c=r.get("pageIconSize",!0),p=P(c)?c:[c,c];d("pagePrev",0);var v=r.getModel("pageTextStyle");h.add(new B({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1);function d(f,g){var y=f+"DataIndex",m=ke(r.get("pageIcons",!0)[r.getOrient().name][g],{onclick:L(u._pageGo,u,y,r,n)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});m.name=f,h.add(m)}},e.prototype.layoutInner=function(t,r,a,n,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,h=Je[u],c=tr[u],p=Je[1-u],v=tr[1-u];o&&Lt("horizontal",l,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),f=l.getBoundingRect(),g=[-f.x,-f.y],y=E(a);o&&(y[h]=a[h]-f[h]-d);var m=this._layoutContentAndController(t,n,y,u,h,p,v,c);if(o){if(s==="end")g[u]+=m[h]+d;else{var x=f[h]+d;g[u]-=x,m[c]-=x}m[h]+=f[h]+d,g[1-u]+=m[v]+m[p]/2-f[p]/2,m[p]=Math.max(m[p],f[p]),m[v]=Math.min(m[v],f[v]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,r,a,n,o,s,l,u){var h=this.getContentGroup(),c=this._containerGroup,p=this._controllerGroup;Lt(t.get("orient"),h,t.get("itemGap"),n?a.width:null,n?null:a.height),Lt("horizontal",p,t.get("pageButtonItemGap",!0));var v=h.getBoundingRect(),d=p.getBoundingRect(),f=this._showController=v[o]>a[o],g=[-v.x,-v.y];r||(g[n]=h[u]);var y=[0,0],m=[-d.x,-d.y],x=dt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(f){var S=t.get("pageButtonPosition",!0);S==="end"?m[n]+=a[o]-d[o]:y[n]+=d[o]+x}m[1-n]+=v[s]/2-d[s]/2,h.setPosition(g),c.setPosition(y),p.setPosition(m);var b={x:0,y:0};if(b[o]=f?a[o]:v[o],b[s]=Math.max(v[s],d[s]),b[l]=Math.min(0,d[l]+m[1-n]),c.__rectSize=a[o],f){var w={x:0,y:0};w[o]=Math.max(a[o]-d[o]-x,0),w[s]=b[s],c.setClipPath(new lt({shape:w})),c.__rectSize=w[o]}else p.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(t);return A.pageIndex!=null&&Re(h,{x:A.contentPosition[0],y:A.contentPosition[1]},f?t:null),this._updatePageInfoView(t,A),b},e.prototype._pageGo=function(t,r,a){var n=this._getPageInfo(r)[t];n!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var a=this._controllerGroup;_(["pagePrev","pageNext"],function(h){var c=h+"DataIndex",p=r[c]!=null,v=a.childOfName(h);v&&(v.setStyle("fill",p?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),v.cursor=p?"pointer":"default")});var n=a.childOfName("pageText"),o=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;n&&o&&n.setStyle("text",z(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),a=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,s=Je[o],l=tr[o],u=this._findTargetItemIndex(r),h=a.children(),c=h[u],p=h.length,v=p?1:0,d={contentPosition:[a.x,a.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return d;var f=S(c);d.contentPosition[o]=-f.s;for(var g=u+1,y=f,m=f,x=null;g<=p;++g)x=S(h[g]),(!x&&m.e>y.s+n||x&&!b(x,y.s))&&(m.i>y.i?y=m:y=x,y&&(d.pageNextDataIndex==null&&(d.pageNextDataIndex=y.i),++d.pageCount)),m=x;for(var g=u-1,y=f,m=f,x=null;g>=-1;--g)x=S(h[g]),(!x||!b(m,x.s))&&y.i<m.i&&(m=y,d.pagePrevDataIndex==null&&(d.pagePrevDataIndex=y.i),++d.pageCount,++d.pageIndex),y=x;return d;function S(w){if(w){var A=w.getBoundingRect(),T=A[l]+w[l];return{s:T,e:T+A[s],i:w.__legendDataIndex}}}function b(w,A){return w.e>=A&&w.s<=A+n}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,a=this.getContentGroup(),n;return a.eachChild(function(o,s){var l=o.__legendDataIndex;n==null&&l!=null&&(n=s),l===t&&(r=s)}),r??n},e.type="legend.scroll",e}(Nn);const Oc=Rc;function Vc(i){i.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(r)})})}function zc(i){it(Hn),i.registerComponentModel(kc),i.registerComponentView(Oc),Vc(i)}function dv(i){it(Hn),it(zc)}var Bc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Ut(ie.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(ie);const Ec=Bc;var Qr=at();function Nc(i,e,t){Qr(i).coordSysRecordMap.each(function(r){var a=r.dataZoomInfoMap.get(e.uid);a&&(a.getRange=t)})}function Hc(i,e){for(var t=Qr(i).coordSysRecordMap,r=t.keys(),a=0;a<r.length;a++){var n=r[a],o=t.get(n),s=o.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||Gn(t,o))}}}function Gn(i,e){if(e){i.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function Gc(i,e){var t={model:e,containsPoint:V(Fc,e),dispatchAction:V(Wc,i),dataZoomInfoMap:null,controller:null},r=t.controller=new co(i.getZr());return _(["pan","zoom","scrollMove"],function(a){r.on(a,function(n){var o=[];t.dataZoomInfoMap.each(function(s){if(n.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[a],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,n);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&t.dispatchAction(o)})}),t}function Wc(i,e){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function Fc(i,e,t,r){return i.coordinateSystem.containPoint([t,r])}function $c(i){var e,t="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return i.each(function(n){var o=n.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[t+s]>r[t+e]&&(e=s),a=a&&o.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function Zc(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=Qr(t),a=r.coordSysRecordMap||(r.coordSysRecordMap=J());a.each(function(n){n.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(n){var o=_n(n);_(o.infoList,function(s){var l=s.model.uid,u=a.get(l)||a.set(l,Gc(t,s.model)),h=u.dataZoomInfoMap||(u.dataZoomInfoMap=J());h.set(n.uid,{dzReferCoordSysInfo:s,model:n,getRange:null})})}),a.each(function(n){var o=n.controller,s,l=n.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){Gn(a,n);return}var h=$c(l);o.enable(h.controlType,h.opt),o.setPointerChecker(n.containsPoint),oe(n,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var Yc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,a){if(i.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),Nc(a,t,{pan:L(er.pan,this),zoom:L(er.zoom,this),scrollMove:L(er.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Hc(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(Fr),er={zoom:function(i,e,t,r){var a=this.range,n=a.slice(),o=i.axisModels[0];if(o){var s=rr[e](null,[r.originX,r.originY],o,t,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/r.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Yt(0,n,[0,100],0,h.minSpan,h.maxSpan),this.range=n,a[0]!==n[0]||a[1]!==n[1])return n}},pan:Aa(function(i,e,t,r,a,n){var o=rr[r]([n.oldX,n.oldY],[n.newX,n.newY],e,a,t);return o.signal*(i[1]-i[0])*o.pixel/o.pixelLength}),scrollMove:Aa(function(i,e,t,r,a,n){var o=rr[r]([0,0],[n.scrollDelta,n.scrollDelta],e,a,t);return o.signal*(i[1]-i[0])*n.scrollDelta})};function Aa(i){return function(e,t,r,a){var n=this.range,o=n.slice(),s=e.axisModels[0];if(s){var l=i(o,s,e,t,r,a);if(Yt(l,o,[0,100],"all"),this.range=o,n[0]!==o[0]||n[1]!==o[1])return o}}}var rr={grid:function(i,e,t,r,a){var n=t.axis,o={},s=a.model.coordinateSystem.getRect();return i=i||[0,0],n.dim==="x"?(o.pixel=e[0]-i[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=n.inverse?1:-1):(o.pixel=e[1]-i[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=n.inverse?-1:1),o},polar:function(i,e,t,r,a){var n=t.axis,o={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(o.pixel=e[0]-i[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=n.inverse?1:-1):(o.pixel=e[1]-i[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=n.inverse?-1:1),o},singleAxis:function(i,e,t,r,a){var n=t.axis,o=a.model.coordinateSystem.getRect(),s={};return i=i||[0,0],n.orient==="horizontal"?(s.pixel=e[0]-i[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=n.inverse?1:-1):(s.pixel=e[1]-i[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=n.inverse?-1:1),s}};const Uc=Yc;function Xc(i){$r(i),i.registerComponentModel(Ec),i.registerComponentView(Uc),Zc(i)}var Kc=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Ut(ie.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(ie);const qc=Kc;var Qt=lt,Ta=7,jc=1,ir=30,Qc=7,Jt="horizontal",Ca="vertical",Jc=5,tp=["line","bar","candlestick","scatter"],ep={easing:"cubicOut",duration:100,delay:0},rp=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=L(this._onBrush,this),this._onBrushEnd=L(this._onBrushEnd,this)},e.prototype.render=function(t,r,a,n){if(i.prototype.render.apply(this,arguments),oe(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!n||n.type!=="dataZoom"||n.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){_e(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new et;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,a=t.get("brushSelect"),n=a?Qc:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===Jt?{right:s.width-o.x-o.width,top:s.height-ir-Ta-n,width:o.width,height:ir}:{right:Ta,top:o.y,width:ir,height:o.height},u=Dr(t.option);_(["right","top","width","height"],function(c){u[c]==="ph"&&(u[c]=l[c])});var h=pt(u,s);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===Ca&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,a=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a===Jt&&!o?{scaleY:l?1:-1,scaleX:1}:a===Jt&&o?{scaleY:l?1:-1,scaleX:-1}:a===Ca&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=r.x-u.x,t.y=r.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,a=this._displayables.sliderGroup,n=t.get("brushSelect");a.add(new Qt({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new Qt({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:L(this._onClickPanel,this)}),s=this.api.getZr();n?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),a.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,a=this._shadowSize||[],n=t.series,o=n.getRawData(),s=n.getShadowDim&&n.getShadowDim(),l=s&&o.getDimensionInfo(s)?n.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,h=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==a[0]||r[1]!==a[1]){var c=o.getDataExtent(l),p=(c[1]-c[0])*.3;c=[c[0]-p,c[1]+p];var v=[0,r[1]],d=[0,r[0]],f=[[r[0],0],[0,0]],g=[],y=d[1]/(o.count()-1),m=0,x=Math.round(o.count()/r[0]),S;o.each([l],function(C,I){if(x>0&&I%x){m+=y;return}var D=C==null||isNaN(C)||C==="",R=D?0:X(C,c,v,!0);D&&!S&&I?(f.push([f[f.length-1][0],0]),g.push([g[g.length-1][0],0])):!D&&S&&(f.push([m,0]),g.push([m,0])),f.push([m,R]),g.push([m,R]),m+=y,S=D}),u=this._shadowPolygonPts=f,h=this._shadowPolylinePts=g}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var b=this.dataZoomModel;function w(C){var I=b.getModel(C?"selectedDataBackground":"dataBackground"),D=new et,R=new Te({shape:{points:u},segmentIgnoreThreshold:1,style:I.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),k=new Qa({shape:{points:h},segmentIgnoreThreshold:1,style:I.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return D.add(R),D.add(k),D}for(var A=0;A<3;A++){var T=w(A===1);this._displayables.sliderGroup.add(T),this._displayables.dataShadowSegs.push(T)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var a,n=this.ecModel;return t.eachTargetAxis(function(o,s){var l=t.getAxisProxy(o,s).getTargetSeriesModels();_(l,function(u){if(!a&&!(r!==!0&&rt(tp,u.get("type"))<0)){var h=n.getComponent(xt(o),s).axis,c=ip(o),p,v=u.coordinateSystem;c!=null&&v.getOtherAxis&&(p=v.getOtherAxis(h).inverse),c=u.getData().mapDimension(c),a={thisAxis:h,series:u,thisDim:o,otherDim:c,otherAxisInverse:p}}},this)},this),a}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,a=r.handles=[null,null],n=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,c=l.get("brushSelect"),p=r.filler=new Qt({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(p),o.add(new Qt({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:jc,fill:"rgba(0,0,0,0)"}})),_([0,1],function(x){var S=l.get("handleIcon");!cs[S]&&S.indexOf("path://")<0&&S.indexOf("image://")<0&&(S="path://"+S);var b=Rt(S,-1,0,2,2,null,!0);b.attr({cursor:Ma(this._orient),draggable:!0,drift:L(this._onDragMove,this,x),ondragend:L(this._onDragEnd,this),onmouseover:L(this._showDataInfo,this,!0),onmouseout:L(this._showDataInfo,this,!1),z2:5});var w=b.getBoundingRect(),A=l.get("handleSize");this._handleHeight=G(A,this._size[1]),this._handleWidth=w.width/w.height*this._handleHeight,b.setStyle(l.getModel("handleStyle").getItemStyle()),b.style.strokeNoScale=!0,b.rectHover=!0,b.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Ht(b);var T=l.get("handleColor");T!=null&&(b.style.fill=T),o.add(a[x]=b);var C=l.getModel("textStyle"),I=l.get("handleLabel")||{},D=I.show||!1;t.add(n[x]=new B({silent:!0,invisible:!D,style:K(C,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:C.getTextColor(),font:C.getFont()}),z2:10}))},this);var v=p;if(c){var d=G(l.get("moveHandleSize"),s[1]),f=r.moveHandle=new lt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:d}}),g=d*.8,y=r.moveHandleIcon=Rt(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);y.silent=!0,y.y=s[1]+d/2-.5,f.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(s[1]/2,Math.max(d,10));v=r.moveZone=new lt({invisible:!0,shape:{y:s[1]-m,height:d+m}}),v.on("mouseover",function(){u.enterEmphasis(f)}).on("mouseout",function(){u.leaveEmphasis(f)}),o.add(f),o.add(y),o.add(v)}v.attr({draggable:!0,cursor:Ma(this._orient),drift:L(this._onDragMove,this,"all"),ondragstart:L(this._showDataInfo,this,!0),ondragend:L(this._onDragEnd,this),onmouseover:L(this._showDataInfo,this,!0),onmouseout:L(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[X(t[0],[0,100],r,!0),X(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var a=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Yt(r,n,o,a.get("zoomLock")?"all":t,s.minSpan!=null?X(s.minSpan,l,o,!0):null,s.maxSpan!=null?X(s.maxSpan,l,o,!0):null);var u=this._range,h=this._range=ct([X(n[0],o,l,!0),X(n[1],o,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},e.prototype._updateView=function(t){var r=this._displayables,a=this._handleEnds,n=ct(a.slice()),o=this._size;_([0,1],function(v){var d=r.handles[v],f=this._handleHeight;d.attr({scaleX:f/2,scaleY:f/2,x:a[v]+(v?-1:1),y:o[1]/2-f/2})},this),r.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]});var s={x:n[0],width:n[1]-n[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,n[0],n[1],o[0]],h=0;h<l.length;h++){var c=l[h],p=c.getClipPath();p||(p=new lt,c.setClipPath(p)),p.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,a=this._displayables,n=a.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,c=t?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var p=ct(this._handleEnds.slice());v.call(this,0),v.call(this,1);function v(d){var f=ee(a.handles[d].parent,this.group),g=sn(d===0?"right":"left",f),y=this._handleWidth/2+Jc,m=St([p[d]+(d===0?-y:y),this._size[1]/2],f);n[d].setStyle({x:m[0],y:m[1],verticalAlign:o===Jt?"middle":g,align:o===Jt?g:"center",text:s[d]})}},e.prototype._formatLabel=function(t,r){var a=this.dataZoomModel,n=a.get("labelFormatter"),o=a.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return N(n)?n(t,s):z(n)?n.replace("{value}",s):s},e.prototype._showDataInfo=function(t){var r=this.dataZoomModel.get("handleLabel")||{},a=r.show||!1,n=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=n.get("show")||!1,s=t||this._dragging?o:a,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,r,a,n){this._dragging=!0,Wt(n.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=St([r,a],o,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(a[0]<0||a[0]>r[0]||a[1]<0||a[1]>r[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,s=this._updateInterval("all",a[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,a=t.offsetY;this._brushStart=new bo(r,a),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var a=r.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(a.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=ct([X(a.x,o,s,!0),X(a.x+a.width,o,s,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Wt(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var a=this._displayables,n=this.dataZoomModel,o=a.brushRect;o||(o=a.brushRect=new Qt({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,r),h=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),o.setShape({x:h[0],y:0,width:u[0]-h[0],height:c[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?ep:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=_n(this.dataZoomModel).infoList;if(!t&&r.length){var a=r[0].model.coordinateSystem;t=a.getRect&&a.getRect()}if(!t){var n=this.api.getWidth(),o=this.api.getHeight();t={x:n*.2,y:o*.2,width:n*.6,height:o*.6}}return t},e.type="dataZoom.slider",e}(Fr);function ip(i){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[i]}function Ma(i){return i==="vertical"?"ns-resize":"ew-resize"}const ap=rp;function np(i){i.registerComponentModel(qc),i.registerComponentView(ap),$r(i)}function fv(i){it(Xc),it(np)}var op={get:function(i,e,t){var r=E((sp[i]||{})[e]);return t&&P(r)?r[r.length-1]:r}},sp={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const Wn=op;var Ia=Q.mapVisual,lp=Q.eachVisual,up=P,Da=_,hp=ct,cp=X,pp=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a)},e.prototype.optionUpdated=function(t,r){var a=this.option;!r&&kn(a,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=L(t,this),this.controllerVisuals=fr(this.option.controller,r,t),this.targetVisuals=fr(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return t==null||t==="all"?this.ecModel.eachSeries(function(a,n){r.push(n)}):r=Or(t),r},e.prototype.eachTargetSeries=function(t,r){_(this.getTargetSeriesIndices(),function(a){var n=this.ecModel.getSeriesByIndex(a);n&&t.call(r,n)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(a){a===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,a){var n=this.option,o=n.precision,s=this.dataBound,l=n.formatter,u;a=a||["<",">"],P(t)&&(t=t.slice(),u=!0);var h=r?t:u?[c(t[0]),c(t[1])]:c(t);if(z(l))return l.replace("{value}",u?h[0]:h).replace("{value2}",u?h[1]:h);if(N(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===s[0]?a[0]+" "+h[1]:t[1]===s[1]?a[1]+" "+h[0]:h[0]+" - "+h[1];return h;function c(p){return p===s[0]?"min":p===s[1]?"max":(+p).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,r=hp([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var a=t.dimensions,n=a.length-1;n>=0;n--){var o=a[n],s=t.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,a={inRange:r.inRange,outOfRange:r.outOfRange},n=r.target||(r.target={}),o=r.controller||(r.controller={});Y(n,a),Y(o,a);var s=this.isCategory();l.call(this,n),l.call(this,o),u.call(this,n,"inRange","outOfRange"),h.call(this,o);function l(c){up(r.color)&&!c.inRange&&(c.inRange={color:r.color.slice().reverse()}),c.inRange=c.inRange||{color:t.get("gradientColor")}}function u(c,p,v){var d=c[p],f=c[v];d&&!f&&(f=c[v]={},Da(d,function(g,y){if(Q.isValidType(y)){var m=Wn.get(y,"inactive",s);m!=null&&(f[y]=m,y==="color"&&!f.hasOwnProperty("opacity")&&!f.hasOwnProperty("colorAlpha")&&(f.opacity=[0,0]))}}))}function h(c){var p=(c.inRange||{}).symbol||(c.outOfRange||{}).symbol,v=(c.inRange||{}).symbolSize||(c.outOfRange||{}).symbolSize,d=this.get("inactiveColor"),f=this.getItemSymbol(),g=f||"roundRect";Da(this.stateList,function(y){var m=this.itemSize,x=c[y];x||(x=c[y]={color:s?d:[d]}),x.symbol==null&&(x.symbol=p&&E(p)||(s?g:[g])),x.symbolSize==null&&(x.symbolSize=v&&E(v)||(s?m[0]:[m[0],m[0]])),x.symbol=Ia(x.symbol,function(w){return w==="none"?g:w});var S=x.symbolSize;if(S!=null){var b=-1/0;lp(S,function(w){w>b&&(b=w)}),x.symbolSize=Ia(S,function(w){return cp(w,[0,b],[0,m[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(q);const Le=pp;var La=[20,140],vp=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=La[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=La[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):P(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),_(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=ct((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,a=this.getExtent();return(r[0]<=a[0]||r[0]<=t)&&(r[1]>=a[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(a){var n=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(s,l){t[0]<=s&&s<=t[1]&&n.push(l)},this),r.push({seriesId:a.id,dataIndex:n})},this),r},e.prototype.getVisualMeta=function(t){var r=Pa(this,"outOfRange",this.getExtent()),a=Pa(this,"inRange",this.option.range.slice()),n=[];function o(v,d){n.push({value:v,color:t(v,d)})}for(var s=0,l=0,u=a.length,h=r.length;l<h&&(!a.length||r[l]<=a[0]);l++)r[l]<a[s]&&o(r[l],"outOfRange");for(var c=1;s<u;s++,c=0)c&&n.length&&o(a[s],"outOfRange"),o(a[s],"inRange");for(var c=1;l<h;l++)(!a.length||a[a.length-1]<r[l])&&(c&&(n.length&&o(n[n.length-1].value,"outOfRange"),c=0),o(r[l],"outOfRange"));var p=n.length;return{stops:n,outerColors:[p?n[0].color:"transparent",p?n[p-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Ut(Le.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(Le);function Pa(i,e,t){if(t[0]===t[1])return t.slice();for(var r=200,a=(t[1]-t[0])/r,n=t[0],o=[],s=0;s<=r&&n<t[1];s++)o.push(n),n+=a;return o.push(t[1]),o}const dp=vp;var fp=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,a,n){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,a,n)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,a=Oe(r.get("padding")||0),n=t.getBoundingRect();t.add(new lt({z2:-1,silent:!0,shape:{x:n.x-a[3],y:n.y-a[0],width:n.width+a[3]+a[1],height:n.height+a[0]+a[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,a){a=a||{};var n=a.forceState,o=this.visualMapModel,s={};if(r==="color"){var l=o.get("contentColor");s.color=l}function u(v){return s[v]}function h(v,d){s[v]=d}var c=o.controllerVisuals[n||o.getValueState(t)],p=Q.prepareVisualTypes(c);return _(p,function(v){var d=c[v];a.convertOpacityToAlpha&&v==="opacity"&&(v="colorAlpha",d=c.__alphaForOpacity),Q.dependsOn(v,r)&&d&&d.applyVisual(t,u,h)}),s[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,a=this.api;kr(t,r.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},e.prototype.doRender=function(t,r,a,n){},e.type="visualMap",e}(tt);const Fn=fp;var ka=[["left","right","width"],["top","bottom","height"]];function $n(i,e,t){var r=i.option,a=r.align;if(a!=null&&a!=="auto")return a;for(var n={width:e.getWidth(),height:e.getHeight()},o=r.orient==="horizontal"?1:0,s=ka[o],l=[0,null,10],u={},h=0;h<3;h++)u[ka[1-o][h]]=l[h],u[s[h]]=h===2?t[0]:r[s[h]];var c=[["x","width",3],["y","height",0]][o],p=pt(u,n,r.padding);return s[(p.margin[c[2]]||0)+p[c[0]]+p[c[1]]*.5<n[c[1]]*.5?0:1]}function xe(i,e){return _(i||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),i}var ht=X,gp=_,Ra=Math.min,ar=Math.max,yp=12,mp=6,xp=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,r){i.prototype.init.call(this,t,r),this._hoverLinkFromSeriesMouseOver=L(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=L(this._hideIndicator,this)},e.prototype.doRender=function(t,r,a,n){(!n||n.type!=="selectDataRange"||n.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var a=t.get("text");this._renderEndsText(r,a,0),this._renderEndsText(r,a,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,a){if(r){var n=r[1-a];n=n!=null?n+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,h=this._applyTransform([l[0]/2,a===0?-s:l[1]+s],u),c=this._applyTransform(a===0?"bottom":"top",u),p=this._orient,v=this.visualMapModel.textStyleModel;this.group.add(new B({style:K(v,{x:h[0],y:h[1],verticalAlign:p==="horizontal"?"middle":c,align:p==="horizontal"?c:"center",text:n})}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,a=this._shapes,n=r.itemSize,o=this._orient,s=this._useHandle,l=$n(r,this.api,n),u=a.mainGroup=this._createBarGroup(l),h=new et;u.add(h),h.add(a.outOfRange=Oa()),h.add(a.inRange=Oa(null,s?za(this._orient):null,L(this._dragHandle,this,"all",!1),L(this._dragHandle,this,"all",!0))),h.setClipPath(new lt({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var c=r.textStyleModel.getTextRect(""),p=ar(c.width,c.height);s&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(r,u,0,n,p,o),this._createHandle(r,u,1,n,p,o)),this._createIndicator(r,u,n,p,o),t.add(u)},e.prototype._createHandle=function(t,r,a,n,o,s){var l=L(this._dragHandle,this,a,!1),u=L(this._dragHandle,this,a,!0),h=sr(t.get("handleSize"),n[0]),c=Rt(t.get("handleIcon"),-h/2,-h/2,h,h,null,!0),p=za(this._orient);c.attr({cursor:p,draggable:!0,drift:l,ondragend:u,onmousemove:function(y){Wt(y.event)}}),c.x=n[0]/2,c.useStyle(t.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),ps(c,!0),r.add(c);var v=this.visualMapModel.textStyleModel,d=new B({cursor:p,draggable:!0,drift:l,onmousemove:function(y){Wt(y.event)},ondragend:u,style:K(v,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var f=[h,0],g=this._shapes;g.handleThumbs[a]=c,g.handleLabelPoints[a]=f,g.handleLabels[a]=d},e.prototype._createIndicator=function(t,r,a,n,o){var s=sr(t.get("indicatorSize"),a[0]),l=Rt(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:a[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Za){var h=l.style;l.useStyle(H({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else l.useStyle(u);r.add(l);var c=this.visualMapModel.textStyleModel,p=new B({silent:!0,invisible:!0,style:K(c,{x:0,y:0,text:""})});this.group.add(p);var v=[(o==="horizontal"?n/2:mp)+a[0]/2,0],d=this._shapes;d.indicator=l,d.indicatorLabel=p,d.indicatorLabelPoint=v,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,a,n){if(this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([a,n],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():Va(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),a=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[ht(r[0],a,n,!0),ht(r[1],a,n,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var a=this.visualMapModel,n=this._handleEnds,o=[0,a.itemSize[1]];Yt(r,n,o,t,0);var s=a.getExtent();this._dataInterval=[ht(n[0],o,s,!0),ht(n[1],o,s,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,a=r.getExtent(),n=this._shapes,o=[0,r.itemSize[1]],s=t?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,a,s,"inRange"),u=this._createBarVisual(a,a,o,"outOfRange");n.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),n.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,r,a,n){var o={forceState:n,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),l=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],u=this._createBarPoints(a,l);return{barColor:new vs(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var a=100,n=[],o=(t[1]-t[0])/a;n.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var s=1;s<a;s++){var l=t[0]+o*s;if(l>t[1])break;n.push({color:this.getControllerVisual(l,"color",r),offset:s/a})}return n.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),n},e.prototype._createBarPoints=function(t,r){var a=this.visualMapModel.itemSize;return[[a[0]-r[0],t[0]],[a[0],t[0]],[a[0],t[1]],[a[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,a=this.visualMapModel.get("inverse");return new et(r==="horizontal"&&!a?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&a?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!a?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(this._useHandle){var a=this._shapes,n=this.visualMapModel,o=a.handleThumbs,s=a.handleLabels,l=n.itemSize,u=n.getExtent(),h=this._applyTransform("left",a.mainGroup);gp([0,1],function(c){var p=o[c];p.setStyle("fill",r.handlesColor[c]),p.y=t[c];var v=ht(t[c],[0,l[1]],u,!0),d=this.getControllerVisual(v,"symbolSize");p.scaleX=p.scaleY=d/l[0],p.x=l[0]-d/2;var f=St(a.handleLabelPoints[c],ee(p,this.group));if(this._orient==="horizontal"){var g=h==="left"||h==="top"?(l[0]-d)/2:(l[0]-d)/-2;f[1]+=g}s[c].setStyle({x:f[0],y:f[1],text:n.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",a.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,a,n){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],h=this._shapes,c=h.indicator;if(c){c.attr("invisible",!1);var p={convertOpacityToAlpha:!0},v=this.getControllerVisual(t,"color",p),d=this.getControllerVisual(t,"symbolSize"),f=ht(t,s,u,!0),g=l[0]-d/2,y={x:c.x,y:c.y};c.y=f,c.x=g;var m=St(h.indicatorLabelPoint,ee(c,this.group)),x=h.indicatorLabel;x.attr("invisible",!1);var S=this._applyTransform("left",h.mainGroup),b=this._orient,w=b==="horizontal";x.setStyle({text:(a||"")+o.formatValueText(r),verticalAlign:w?S:"middle",align:w?"center":S});var A={x:g,y:f,style:{fill:v}},T={style:{x:m[0],y:m[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var C={duration:100,easing:"cubicInOut",additive:!0};c.x=y.x,c.y=y.y,c.animateTo(A,C),x.animateTo(T,C)}else c.attr(A),x.attr(T);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var D=0;D<I.length;D++)this.api.enterBlur(I[D])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var a=t.visualMapModel.itemSize,n=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);n[1]=Ra(ar(0,n[1]),a[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=a[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var a=this.visualMapModel,n=a.itemSize;if(a.option.hoverLink){var o=[0,n[1]],s=a.getExtent();t=Ra(ar(o[0],t),o[1]);var l=Sp(a,s,o),u=[t-l,t+l],h=ht(t,o,s,!0),c=[ht(u[0],o,s,!0),ht(u[1],o,s,!0)];u[0]<o[0]&&(c[0]=-1/0),u[1]>o[1]&&(c[1]=1/0),r&&(c[0]===-1/0?this._showIndicator(h,c[1],"< ",l):c[1]===1/0?this._showIndicator(h,c[0],"> ",l):this._showIndicator(h,h," ",l));var p=this._hoverLinkDataIndices,v=[];(r||Va(a))&&(v=this._hoverLinkDataIndices=a.findTargetDataIndices(c));var d=ds(p,v);this._dispatchHighDown("downplay",xe(d[0],a)),this._dispatchHighDown("highlight",xe(d[1],a))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(rn(t.target,function(l){var u=F(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var a=this.ecModel.getSeriesByIndex(r.seriesIndex),n=this.visualMapModel;if(n.isTargetSeries(a)){var o=a.getData(r.dataType),s=o.getStore().get(n.getDataDimensionIndex(o),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var a=0;a<r.length;a++)this.api.leaveBlur(r[a])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",xe(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,a,n){var o=ee(r,n?null:this.group);return P(t)?St(t,o,a):sn(t,o,a)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Fn);function Oa(i,e,t,r){return new Te({shape:{points:i},draggable:!!t,cursor:e,drift:t,onmousemove:function(a){Wt(a.event)},ondragend:r})}function Sp(i,e,t){var r=yp/2,a=i.get("hoverLinkDataSize");return a&&(r=ht(a,e,t,!0)/2),r}function Va(i){var e=i.get("hoverLinkOnHandle");return!!(e??i.get("realtime"))}function za(i){return i==="vertical"?"ns-resize":"ew-resize"}const bp=xp;var _p={type:"selectDataRange",event:"dataRangeSelected",update:"update"},wp=function(i,e){e.eachComponent({mainType:"visualMap",query:i},function(t){t.setSelected(i.selected)})},Ap=[{createOnAllSeries:!0,reset:function(i,e){var t=[];return e.eachComponent("visualMap",function(r){var a=i.pipelineContext;!r.isTargetSeries(i)||a&&a.large||t.push(Ah(r.stateList,r.targetVisuals,L(r.getValueState,r),r.getDataDimensionIndex(i.getData())))}),t}},{createOnAllSeries:!0,reset:function(i,e){var t=i.getData(),r=[];e.eachComponent("visualMap",function(a){if(a.isTargetSeries(i)){var n=a.getVisualMeta(L(Tp,null,i,a))||{stops:[],outerColors:[]},o=a.getDataDimensionIndex(t);o>=0&&(n.dimension=o,r.push(n))}}),i.getData().setVisual("visualMeta",r)}}];function Tp(i,e,t,r){for(var a=e.targetVisuals[r],n=Q.prepareVisualTypes(a),o={color:Ve(i.getData(),"color")},s=0,l=n.length;s<l;s++){var u=n[s],h=a[u==="opacity"?"__alphaForOpacity":u];h&&h.applyVisual(t,c,p)}return o.color;function c(v){return o[v]}function p(v,d){o[v]=d}}var Ba=_;function Cp(i){var e=i&&i.visualMap;P(e)||(e=e?[e]:[]),Ba(e,function(t){if(t){Bt(t,"splitList")&&!Bt(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&P(r)&&Ba(r,function(a){ut(a)&&(Bt(a,"start")&&!Bt(a,"min")&&(a.min=a.start),Bt(a,"end")&&!Bt(a,"max")&&(a.max=a.end))})}})}function Bt(i,e){return i&&i.hasOwnProperty&&i.hasOwnProperty(e)}var Ea=!1;function Zn(i){Ea||(Ea=!0,i.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),i.registerAction(_p,wp),_(Ap,function(e){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,e)}),i.registerPreprocessor(Cp))}function Mp(i){i.registerComponentModel(dp),i.registerComponentView(bp),Zn(i)}var Ip=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var a=this._mode=this._determineMode();this._pieceList=[],Dp[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var n=this.option.categories;this.resetVisual(function(o,s){a==="categories"?(o.mappingMethod="category",o.categories=E(n)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=O(this._pieceList,function(l){return l=E(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},a=Q.listVisualTypes(),n=this.isCategory();_(t.pieces,function(s){_(a,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),_(r,function(s,l){var u=!1;_(this.stateList,function(h){u=u||o(t,h,l)||o(t.target,h,l)},this),!u&&_(this.stateList,function(h){(t[h]||(t[h]={}))[l]=Wn.get(l,h==="inRange"?"active":"inactive",n)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}i.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var a=this.option,n=this._pieceList,o=(r?a:t).selected||{};if(a.selected=o,_(n,function(l,u){var h=this.getSelectedMapKey(l);o.hasOwnProperty(h)||(o[h]=!0)},this),a.selectedMode==="single"){var s=!1;_(n,function(l,u){var h=this.getSelectedMapKey(l);o[h]&&(s?o[h]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=E(t)},e.prototype.getValueState=function(t){var r=Q.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],a=this._pieceList;return this.eachTargetSeries(function(n){var o=[],s=n.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var h=Q.findPieceIndex(l,a);h===t&&o.push(u)},this),r.push({seriesId:n.id,dataIndex:o})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var a=t.interval||[];r=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],a=["",""],n=this;function o(h,c){var p=n.getRepresentValue({interval:h});c||(c=n.getValueState(p));var v=t(p,c);h[0]===-1/0?a[0]=v:h[1]===1/0?a[1]=v:r.push({value:h[0],color:v},{value:h[1],color:v})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return _(s,function(h){var c=h.interval;c&&(c[0]>u&&o([u,c[0]],"outOfRange"),o(c.slice()),u=c[1])},this),{stops:r,outerColors:a}},e.type="visualMap.piecewise",e.defaultOption=Ut(Le.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(Le),Dp={splitNumber:function(i){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;for(var n=(r[1]-r[0])/a;+n.toFixed(t)!==n&&t<5;)t++;e.precision=t,n=+n.toFixed(t),e.minOpen&&i.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<a;s+=n,o++){var l=o===a-1?r[1]:s+n;i.push({interval:[s,l],close:[1,1]})}e.maxOpen&&i.push({interval:[r[1],1/0],close:[0,0]}),pi(i),_(i,function(u,h){u.index=h,u.text=this.formatValueText(u.interval)},this)},categories:function(i){var e=this.option;_(e.categories,function(t){i.push({text:this.formatValueText(t,!0),value:t})},this),Na(e,i)},pieces:function(i){var e=this.option;_(e.pieces,function(t,r){ut(t)||(t={value:t});var a={text:"",index:r};if(t.label!=null&&(a.text=t.label),t.hasOwnProperty("value")){var n=a.value=t.value;a.interval=[n,n],a.close=[1,1]}else{for(var o=a.interval=[],s=a.close=[0,0],l=[1,0,1],u=[-1/0,1/0],h=[],c=0;c<2;c++){for(var p=[["gte","gt","min"],["lte","lt","max"]][c],v=0;v<3&&o[c]==null;v++)o[c]=t[p[v]],s[c]=l[v],h[c]=v===2;o[c]==null&&(o[c]=u[c])}h[0]&&o[1]===1/0&&(s[0]=0),h[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(a.value=o[0])}a.visual=Q.retrieveVisuals(t),i.push(a)},this),Na(e,i),pi(i),_(i,function(t){var r=t.close,a=[["<",""][r[1]],[">",""][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,a)},this)}};function Na(i,e){var t=i.inverse;(i.orient==="vertical"?!t:t)&&e.reverse()}const Lp=Ip;var Pp=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,a=r.get("textGap"),n=r.textStyleModel,o=n.getFont(),s=n.getTextColor(),l=this._getItemAlign(),u=r.itemSize,h=this._getViewData(),c=h.endsText,p=It(r.get("showLabel",!0),!c),v=!r.get("selectedMode");c&&this._renderEndsText(t,c[0],u,p,l),_(h.viewPieceList,function(d){var f=d.piece,g=new et;g.onclick=L(this._onItemClick,this,f),this._enableHoverLink(g,d.indexInModelPieceList);var y=r.getRepresentValue(f);if(this._createItemSymbol(g,y,[0,0,u[0],u[1]],v),p){var m=this.visualMapModel.getValueState(y);g.add(new B({style:{x:l==="right"?-a:u[0]+a,y:u[1]/2,text:f.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:m==="outOfRange"?.5:1},silent:v}))}t.add(g)},this),c&&this._renderEndsText(t,c[1],u,p,l),Lt(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var a=this;t.on("mouseover",function(){return n("highlight")}).on("mouseout",function(){return n("downplay")});var n=function(o){var s=a.visualMapModel;s.option.hoverLink&&a.api.dispatchAction({type:o,batch:xe(s.findTargetDataIndices(r),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return $n(t,this.api,t.itemSize);var a=r.align;return(!a||a==="auto")&&(a="left"),a},e.prototype._renderEndsText=function(t,r,a,n,o){if(r){var s=new et,l=this.visualMapModel.textStyleModel;s.add(new B({style:K(l,{x:n?o==="right"?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:n?o:"center",text:r})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=O(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),a=t.get("text"),n=t.get("orient"),o=t.get("inverse");return(n==="horizontal"?o:!o)?r.reverse():a&&(a=a.slice().reverse()),{viewPieceList:r,endsText:a}},e.prototype._createItemSymbol=function(t,r,a,n){var o=Rt(this.getControllerVisual(r,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(r,"color"));o.silent=n,t.add(o)},e.prototype._onItemClick=function(t){var r=this.visualMapModel,a=r.option,n=a.selectedMode;if(n){var o=E(a.selected),s=r.getSelectedMapKey(t);n==="single"||n===!0?(o[s]=!0,_(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e}(Fn);const kp=Pp;function Rp(i){i.registerComponentModel(Lp),i.registerComponentView(kp),Zn(i)}function gv(i){it(Mp),it(Rp)}var Op={label:{enabled:!0},decal:{show:!1}},Ha=at(),Vp={};function zp(i,e){var t=i.getModel("aria");if(!t.get("enabled"))return;var r=E(Op);Y(r.label,i.getLocaleModel().get("aria"),!1),Y(t.option,r,!1),a(),n();function a(){var u=t.getModel("decal"),h=u.get("show");if(h){var c=J();i.eachSeries(function(p){if(!p.isColorBySeries()){var v=c.get(p.type);v||(v={},c.set(p.type,v)),Ha(p).scope=v}}),i.eachRawSeries(function(p){if(i.isSeriesFiltered(p))return;if(N(p.enableAriaDecal)){p.enableAriaDecal();return}var v=p.getData();if(p.isColorBySeries()){var m=vi(p.ecModel,p.name,Vp,i.getSeriesCount()),x=v.getVisual("decal");v.setVisual("decal",S(x,m))}else{var d=p.getRawData(),f={},g=Ha(p).scope;v.each(function(b){var w=v.getRawIndex(b);f[w]=b});var y=d.count();d.each(function(b){var w=f[b],A=d.getName(b)||b+"",T=vi(p.ecModel,A,g,y),C=v.getItemVisual(w,"decal");v.setItemVisual(w,"decal",S(C,T))})}function S(b,w){var A=b?H(H({},w),b):w;return A.dirty=!0,A}})}}function n(){var u=e.getZr().dom;if(u){var h=i.getLocaleModel().get("aria"),c=t.getModel("label");if(c.option=Z(c.option,h),!!c.get("enabled")){if(u.setAttribute("role","img"),c.get("description")){u.setAttribute("aria-label",c.get("description"));return}var p=i.getSeriesCount(),v=c.get(["data","maxCount"])||10,d=c.get(["series","maxCount"])||10,f=Math.min(p,d),g;if(!(p<1)){var y=s();if(y){var m=c.get(["general","withTitle"]);g=o(m,{title:y})}else g=c.get(["general","withoutTitle"]);var x=[],S=p>1?c.get(["series","multiple","prefix"]):c.get(["series","single","prefix"]);g+=o(S,{seriesCount:p}),i.eachSeries(function(T,C){if(C<f){var I=void 0,D=T.get("name"),R=D?"withName":"withoutName";I=p>1?c.get(["series","multiple",R]):c.get(["series","single",R]),I=o(I,{seriesId:T.seriesIndex,seriesName:T.get("name"),seriesType:l(T.subType)});var k=T.getData();if(k.count()>v){var $=c.get(["data","partialData"]);I+=o($,{displayCnt:v})}else I+=c.get(["data","allData"]);for(var U=c.get(["data","separator","middle"]),Ot=c.get(["data","separator","end"]),At=c.get(["data","excludeDimensionId"]),gt=[],nt=0;nt<k.count();nt++)if(nt<v){var Tt=k.getName(nt),Ee=At?_t(k.getValues(nt),function(ti,Un){return rt(At,Un)===-1}):k.getValues(nt),Vt=c.get(["data",Tt?"withName":"withoutName"]);gt.push(o(Vt,{name:Tt,value:Ee.join(U)}))}I+=gt.join(U)+Ot,x.push(I)}});var b=c.getModel(["series","multiple","separator"]),w=b.get("middle"),A=b.get("end");g+=x.join(w)+A,u.setAttribute("aria-label",g)}}}}function o(u,h){if(!z(u))return u;var c=u;return _(h,function(p,v){c=c.replace(new RegExp("\\{\\s*"+v+"\\s*\\}","g"),p)}),c}function s(){var u=i.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var h=i.getLocaleModel().get(["series","typeNames"]);return h[u]||h.chart}}function Bp(i){if(!(!i||!i.aria)){var e=i.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},_(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function yv(i){i.registerPreprocessor(Bp),i.registerVisual(i.PRIORITY.VISUAL.ARIA,zp)}var Ga={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Ep=function(){function i(e){var t=this._condVal=z(e)?new RegExp(e):wo(e)?e:null;if(t==null){var r="";W(r)}}return i.prototype.evaluate=function(e){var t=typeof e;return z(t)?this._condVal.test(e):Mr(t)?this._condVal.test(e+""):!1},i}(),Np=function(){function i(){}return i.prototype.evaluate=function(){return this.value},i}(),Hp=function(){function i(){}return i.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},i}(),Gp=function(){function i(){}return i.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},i}(),Wp=function(){function i(){}return i.prototype.evaluate=function(){return!this.child.evaluate()},i}(),Fp=function(){function i(){}return i.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,r=t(this.valueGetterParam),a=e?this.valueParser(r):null,n=0;n<this.subCondList.length;n++)if(!this.subCondList[n].evaluate(e?a:r))return!1;return!0},i}();function Jr(i,e){if(i===!0||i===!1){var t=new Np;return t.value=i,t}var r="";return Yn(i)||W(r),i.and?Wa("and",i,e):i.or?Wa("or",i,e):i.not?$p(i,e):Zp(i,e)}function Wa(i,e,t){var r=e[i],a="";P(r)||W(a),r.length||W(a);var n=i==="and"?new Hp:new Gp;return n.children=O(r,function(o){return Jr(o,t)}),n.children.length||W(a),n}function $p(i,e){var t=i.not,r="";Yn(t)||W(r);var a=new Wp;return a.child=Jr(t,e),a.child||W(r),a}function Zp(i,e){for(var t="",r=e.prepareGetValue(i),a=[],n=$a(i),o=i.parser,s=o?ln(o):null,l=0;l<n.length;l++){var u=n[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var h=Ft(Ga,u)?Ga[u]:u,c=i[u],p=s?s(c):c,v=fs(h,p)||h==="reg"&&new Ep(p);v||W(t),a.push(v)}}a.length||W(t);var d=new Fp;return d.valueGetterParam=r,d.valueParser=s,d.getValue=e.getValue,d.subCondList=a,d}function Yn(i){return ut(i)&&!_o(i)}var Yp=function(){function i(e,t){this._cond=Jr(e,t)}return i.prototype.evaluate=function(){return this._cond.evaluate()},i}();function Up(i,e){return new Yp(i,e)}var Xp={type:"echarts:filter",transform:function(i){for(var e=i.upstream,t,r=Up(i.config,{valueGetterAttrMap:J({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;Ft(s,"dimension")||W(l);var h=e.getDimensionInfo(u);return h||W(l),{dimIdx:h.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),a=[],n=0,o=e.count();n<o;n++)t=e.getRawDataItem(n),r.evaluate()&&a.push(t);return{data:a}}},Kp={type:"echarts:sort",transform:function(i){var e=i.upstream,t=i.config,r="",a=Or(t);a.length||W(r);var n=[];_(a,function(h){var c=h.dimension,p=h.order,v=h.parser,d=h.incomparable;if(c==null&&W(r),p!=="asc"&&p!=="desc"&&W(r),d&&d!=="min"&&d!=="max"){var f="";W(f)}if(p!=="asc"&&p!=="desc"){var g="";W(g)}var y=e.getDimensionInfo(c);y||W(r);var m=v?ln(v):null;v&&!m&&W(r),n.push({dimIdx:y.index,parser:m,comparator:new gs(p,d)})});var o=e.sourceFormat;o!==ys&&o!==ms&&W(r);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort(function(h,c){for(var p=0;p<n.length;p++){var v=n[p],d=e.retrieveValueFromItem(h,v.dimIdx),f=e.retrieveValueFromItem(c,v.dimIdx);v.parser&&(d=v.parser(d),f=v.parser(f));var g=v.comparator.evaluate(d,f);if(g!==0)return g}return 0}),{data:s}}};function mv(i){i.registerTransform(Xp),i.registerTransform(Kp)}var qp=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,r,a){i.prototype.init.call(this,t,r,a),this._sourceManager=new xs(this),di(this)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),di(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Ss},e}(q),jp=function(i){M(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e}(tt);function xv(i){i.registerComponentModel(qp),i.registerComponentView(jp)}export{yv as AriaComponent,ze as AxisPointerComponent,lv as BrushComponent,av as CalendarComponent,fv as DataZoomComponent,Xc as DataZoomInsideComponent,np as DataZoomSliderComponent,xv as DatasetComponent,_v as GeoComponent,nv as GraphicComponent,ev as GridComponent,jn as GridSimpleComponent,dv as LegendComponent,Hn as LegendPlainComponent,zc as LegendScrollComponent,vv as MarkAreaComponent,pv as MarkLineComponent,cv as MarkPointComponent,wv as ParallelComponent,rv as PolarComponent,Av as RadarComponent,iv as SingleAxisComponent,hv as TimelineComponent,uv as TitleComponent,ov as ToolboxComponent,sv as TooltipComponent,mv as TransformComponent,gv as VisualMapComponent,Mp as VisualMapContinuousComponent,Rp as VisualMapPiecewiseComponent};
