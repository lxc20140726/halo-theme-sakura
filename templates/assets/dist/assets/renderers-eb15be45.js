import{F as M,k as ae,H as K,I as ke,J as Gt,m as V,K as B,l as Ae,C as Ve,e as vt,i as Q,L as Be,M as Me,a as Y,N as ne,P as Oe,p as Ee,O as se,Q as De,S as He,T as Ge,U as ze,V as Ue,W as Fe,X as j,Y as je,_ as lt,$ as qe,a0 as zt,a1 as Xe,o as Ze,f as Ke,a2 as Ye,a3 as $e,a4 as Je,a5 as Qe,a6 as We,a7 as ti,a8 as ei,a9 as oe,aa as Tt,ab as ii,ac as ri,ad as ai,ae as ni,h as si,b as fe,af as F,ag as oi,ah as fi,ai as hi,aj as he,B as st,ak as Lt,al as vi,am as ui,an as ve,ao as li,ap as di,aq as ci,ar as _i,as as ot,E as pi,at as gi,D as yi,s as ft,au as mi,q as xi}from"./graphic-ca490178.js";var yt=Math.sin,mt=Math.cos,ue=Math.PI,E=Math.PI*2,wi=180/ue,Li=function(){function i(){}return i.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},i.prototype.moveTo=function(t,e){this._add("M",t,e)},i.prototype.lineTo=function(t,e){this._add("L",t,e)},i.prototype.bezierCurveTo=function(t,e,r,a,n,s){this._add("C",t,e,r,a,n,s)},i.prototype.quadraticCurveTo=function(t,e,r,a){this._add("Q",t,e,r,a)},i.prototype.arc=function(t,e,r,a,n,s){this.ellipse(t,e,r,r,0,a,n,s)},i.prototype.ellipse=function(t,e,r,a,n,s,f,o){var h=f-s,u=!o,v=Math.abs(h),l=M(v-E)||(u?h>=E:-h>=E),c=h>0?h%E:h%E+E,_=!1;l?_=!0:M(v)?_=!1:_=c>=ue==!!u;var d=t+r*mt(s),p=e+a*yt(s);this._start&&this._add("M",d,p);var y=Math.round(n*wi);if(l){var g=1/this._p,m=(u?1:-1)*(E-g);this._add("A",r,a,y,1,+u,t+r*mt(s+m),e+a*yt(s+m)),g>.01&&this._add("A",r,a,y,0,+u,d,p)}else{var x=t+r*mt(f),C=e+a*yt(f);this._add("A",r,a,y,+_,+u,x,C)}},i.prototype.rect=function(t,e,r,a){this._add("M",t,e),this._add("l",r,0),this._add("l",0,a),this._add("l",-r,0),this._add("Z")},i.prototype.closePath=function(){this._d.length>0&&this._add("Z")},i.prototype._add=function(t,e,r,a,n,s,f,o,h){for(var u=[],v=this._p,l=1;l<arguments.length;l++){var c=arguments[l];if(isNaN(c)){this._invalid=!0;return}u.push(Math.round(c*v)/v)}this._d.push(t+u.join(" ")),this._start=t==="Z"},i.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},i.prototype.getStr=function(){return this._str},i}();const le=Li;var Z="none",Si=Math.round;function Ii(i){var t=i.fill;return t!=null&&t!==Z}function bi(i){var t=i.stroke;return t!=null&&t!==Z}var St=["lineCap","miterLimit","lineJoin"],Ti=V(St,function(i){return"stroke-"+i.toLowerCase()});function Pi(i,t,e,r){var a=t.opacity==null?1:t.opacity;if(e instanceof ae){i("opacity",a);return}if(Ii(t)){var n=K(t.fill);i("fill",n.color);var s=t.fillOpacity!=null?t.fillOpacity*n.opacity*a:n.opacity*a;(r||s<1)&&i("fill-opacity",s)}else i("fill",Z);if(bi(t)){var f=K(t.stroke);i("stroke",f.color);var o=t.strokeNoScale?e.getLineScale():1,h=o?(t.lineWidth||0)/o:0,u=t.strokeOpacity!=null?t.strokeOpacity*f.opacity*a:f.opacity*a,v=t.strokeFirst;if((r||h!==1)&&i("stroke-width",h),(r||v)&&i("paint-order",v?"stroke":"fill"),(r||u<1)&&i("stroke-opacity",u),t.lineDash){var l=ke(e),c=l[0],_=l[1];c&&(_=Si(_||0),i("stroke-dasharray",c.join(",")),(_||r)&&i("stroke-dashoffset",_))}else r&&i("stroke-dasharray",Z);for(var d=0;d<St.length;d++){var p=St[d];if(r||t[p]!==Gt[p]){var y=t[p]||Gt[p];y&&i(Ti[d],y)}}}else r&&i("stroke",Z)}var de="http://www.w3.org/2000/svg",ce="http://www.w3.org/1999/xlink",Ri="http://www.w3.org/2000/xmlns/",Ci="http://www.w3.org/XML/1998/namespace",Ut="ecmeta_";function _e(i){return document.createElementNS(de,i)}function b(i,t,e,r,a){return{tag:i,attrs:e||{},children:r,text:a,key:t}}function Ni(i,t){var e=[];if(t)for(var r in t){var a=t[r],n=r;a!==!1&&(a!==!0&&a!=null&&(n+='="'+a+'"'),e.push(n))}return"<"+i+" "+e.join(" ")+">"}function ki(i){return"</"+i+">"}function Pt(i,t){t=t||{};var e=t.newline?`
`:"";function r(a){var n=a.children,s=a.tag,f=a.attrs,o=a.text;return Ni(s,f)+(s!=="style"?Ae(o):o||"")+(n?""+e+V(n,function(h){return r(h)}).join(e)+e:"")+ki(s)}return r(i)}function Ai(i,t,e){e=e||{};var r=e.newline?`
`:"",a=" {"+r,n=r+"}",s=V(B(i),function(o){return o+a+V(B(i[o]),function(h){return h+":"+i[o][h]+";"}).join(r)+n}).join(r),f=V(B(t),function(o){return"@keyframes "+o+a+V(B(t[o]),function(h){return h+a+V(B(t[o][h]),function(u){var v=t[o][h][u];return u==="d"&&(v='path("'+v+'")'),u+":"+v+";"}).join(r)+n}).join(r)+n}).join(r);return!s&&!f?"":["<![CDATA[",s,f,"]]>"].join(r)}function It(i){return{zrId:i,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Ft(i,t,e,r){return b("svg","root",{width:i,height:t,xmlns:de,"xmlns:xlink":ce,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+i+" "+t:!1},e)}var Vi=0;function pe(){return Vi++}var jt={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},H="transform-origin";function Bi(i,t,e){var r=Y({},i.shape);Y(r,t),i.buildPath(e,r);var a=new le;return a.reset(se(i)),e.rebuildPath(a,1),a.generateStr(),a.getStr()}function Mi(i,t){var e=t.originX,r=t.originY;(e||r)&&(i[H]=e+"px "+r+"px")}var Oi={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function ge(i,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=i,e}function Ei(i,t,e){var r=i.shape.paths,a={},n,s;if(vt(r,function(o){var h=It(e.zrId);h.animation=!0,dt(o,{},h,!0);var u=h.cssAnims,v=h.cssNodes,l=B(u),c=l.length;if(c){s=l[c-1];var _=u[s];for(var d in _){var p=_[d];a[d]=a[d]||{d:""},a[d].d+=p.d||""}for(var y in v){var g=v[y].animation;g.indexOf(s)>=0&&(n=g)}}}),!!n){t.d=!1;var f=ge(a,e);return n.replace(s,f)}}function qt(i){return Q(i)?jt[i]?"cubic-bezier("+jt[i]+")":Be(i)?i:"":""}function dt(i,t,e,r){var a=i.animators,n=a.length,s=[];if(i instanceof Ve){var f=Ei(i,t,e);if(f)s.push(f);else if(!n)return}else if(!n)return;for(var o={},h=0;h<n;h++){var u=a[h],v=[u.getMaxTime()/1e3+"s"],l=qt(u.getClip().easing),c=u.getDelay();l?v.push(l):v.push("linear"),c&&v.push(c/1e3+"s"),u.getLoop()&&v.push("infinite");var _=v.join(" ");o[_]=o[_]||[_,[]],o[_][1].push(u)}function d(g){var m=g[1],x=m.length,C={},N={},w={},I="animation-timing-function";function T(tt,et,Ot){for(var it=tt.getTracks(),Ne=tt.getMaxTime(),_t=0;_t<it.length;_t++){var pt=it[_t];if(pt.needsAnimate()){var Et=pt.keyframes,rt=pt.propName;if(Ot&&(rt=Ot(rt)),rt)for(var gt=0;gt<Et.length;gt++){var at=Et[gt],nt=Math.round(at.time/Ne*100)+"%",Dt=qt(at.easing),Ht=at.rawValue;(Q(Ht)||De(Ht))&&(et[nt]=et[nt]||{},et[nt][rt]=at.rawValue,Dt&&(et[nt][I]=Dt))}}}}for(var L=0;L<x;L++){var R=m[L],P=R.targetName;P?P==="shape"&&T(R,N):!r&&T(R,C)}for(var S in C){var k={};Me(k,i),Y(k,C[S]);var q=ne(k),O=C[S][I];w[S]=q?{transform:q}:{},Mi(w[S],k),O&&(w[S][I]=O)}var z,At=!0;for(var S in N){w[S]=w[S]||{};var Vt=!z,O=N[S][I];Vt&&(z=new Oe);var Te=z.len();z.reset(),w[S].d=Bi(i,N[S],z);var Pe=z.len();if(!Vt&&Te!==Pe){At=!1;break}O&&(w[S][I]=O)}if(!At)for(var S in w)delete w[S].d;if(!r)for(var L=0;L<x;L++){var R=m[L],P=R.targetName;P==="style"&&T(R,w,function(it){return Oi[it]})}for(var W=B(w),Bt=!0,ct,L=1;L<W.length;L++){var Mt=W[L-1],Re=W[L];if(w[Mt][H]!==w[Re][H]){Bt=!1;break}ct=w[Mt][H]}if(Bt&&ct){for(var S in w)w[S][H]&&delete w[S][H];t[H]=ct}if(Ee(W,function(tt){return B(w[tt]).length>0}).length){var Ce=ge(w,e);return Ce+" "+g[0]+" both"}}for(var p in o){var f=d(o[p]);f&&s.push(f)}if(s.length){var y=e.zrId+"-cls-"+pe();e.cssNodes["."+y]={animation:s.join(",")},t.class=y}}function Di(i,t,e){if(!i.ignore)if(i.isSilent()){var r={"pointer-events":"none"};Xt(r,t,e,!0)}else{var a=i.states.emphasis&&i.states.emphasis.style?i.states.emphasis.style:{},n=a.fill;if(!n){var s=i.style&&i.style.fill,f=i.states.select&&i.states.select.style&&i.states.select.style.fill,o=i.currentStates.indexOf("select")>=0&&f||s;o&&(n=He(o))}var h=a.lineWidth;if(h){var u=!a.strokeNoScale&&i.transform?i.transform[0]:1;h=h/u}var r={cursor:"pointer"};n&&(r.fill=n),a.stroke&&(r.stroke=a.stroke),h&&(r["stroke-width"]=h),Xt(r,t,e,!0)}}function Xt(i,t,e,r){var a=JSON.stringify(i),n=e.cssStyleCache[a];n||(n=e.zrId+"-cls-"+pe(),e.cssStyleCache[a]=n,e.cssNodes["."+n+(r?":hover":"")]=i),t.class=t.class?t.class+" "+n:n}var $=Math.round;function ye(i){return i&&Q(i.src)}function me(i){return i&&Ke(i.toDataURL)}function Rt(i,t,e,r){Pi(function(a,n){var s=a==="fill"||a==="stroke";s&&oe(n)?we(t,i,a,r):s&&Tt(n)?Le(e,i,a,r):i[a]=n,s&&r.ssr&&n==="none"&&(i["pointer-events"]="visible")},t,e,!1),qi(e,i,r)}function Ct(i,t){var e=ii(t);e&&(e.each(function(r,a){r!=null&&(i[(Ut+a).toLowerCase()]=r+"")}),t.isSilent()&&(i[Ut+"silent"]="true"))}function Zt(i){return M(i[0]-1)&&M(i[1])&&M(i[2])&&M(i[3]-1)}function Hi(i){return M(i[4])&&M(i[5])}function Nt(i,t,e){if(t&&!(Hi(t)&&Zt(t))){var r=e?10:1e4;i.transform=Zt(t)?"translate("+$(t[4]*r)/r+" "+$(t[5]*r)/r+")":ri(t)}}function Kt(i,t,e){for(var r=i.points,a=[],n=0;n<r.length;n++)a.push($(r[n][0]*e)/e),a.push($(r[n][1]*e)/e);t.points=a.join(" ")}function Yt(i){return!i.smooth}function Gi(i){var t=V(i,function(e){return typeof e=="string"?[e,e]:e});return function(e,r,a){for(var n=0;n<t.length;n++){var s=t[n],f=e[s[0]];f!=null&&(r[s[1]]=$(f*a)/a)}}}var zi={circle:[Gi(["cx","cy","r"])],polyline:[Kt,Yt],polygon:[Kt,Yt]};function Ui(i){for(var t=i.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function xe(i,t){var e=i.style,r=i.shape,a=zi[i.type],n={},s=t.animation,f="path",o=i.style.strokePercent,h=t.compress&&se(i)||4;if(a&&!t.willUpdate&&!(a[1]&&!a[1](r))&&!(s&&Ui(i))&&!(o<1)){f=i.type;var u=Math.pow(10,h);a[0](r,n,u)}else{var v=!i.path||i.shapeChanged();i.path||i.createPathProxy();var l=i.path;v&&(l.beginPath(),i.buildPath(l,i.shape),i.pathUpdated());var c=l.getVersion(),_=i,d=_.__svgPathBuilder;(_.__svgPathVersion!==c||!d||o!==_.__svgPathStrokePercent)&&(d||(d=_.__svgPathBuilder=new le),d.reset(h),l.rebuildPath(d,o),d.generateStr(),_.__svgPathVersion=c,_.__svgPathStrokePercent=o),n.d=d.getStr()}return Nt(n,i.transform),Rt(n,e,i,t),Ct(n,i),t.animation&&dt(i,n,t),t.emphasis&&Di(i,n,t),b(f,i.id+"",n)}function Fi(i,t){var e=i.style,r=e.image;if(r&&!Q(r)&&(ye(r)?r=r.src:me(r)&&(r=r.toDataURL())),!!r){var a=e.x||0,n=e.y||0,s=e.width,f=e.height,o={href:r,width:s,height:f};return a&&(o.x=a),n&&(o.y=n),Nt(o,i.transform),Rt(o,e,i,t),Ct(o,i),t.animation&&dt(i,o,t),b("image",i.id+"",o)}}function ji(i,t){var e=i.style,r=e.text;if(r!=null&&(r+=""),!(!r||isNaN(e.x)||isNaN(e.y))){var a=e.font||Ye,n=e.x||0,s=$e(e.y||0,Je(a),e.textBaseline),f=Qe[e.textAlign]||e.textAlign,o={"dominant-baseline":"central","text-anchor":f};if(We(e)){var h="",u=e.fontStyle,v=ti(e.fontSize);if(!parseFloat(v))return;var l=e.fontFamily||ei,c=e.fontWeight;h+="font-size:"+v+";font-family:"+l+";",u&&u!=="normal"&&(h+="font-style:"+u+";"),c&&c!=="normal"&&(h+="font-weight:"+c+";"),o.style=h}else o.style="font: "+a;return r.match(/\s/)&&(o["xml:space"]="preserve"),n&&(o.x=n),s&&(o.y=s),Nt(o,i.transform),Rt(o,e,i,t),Ct(o,i),t.animation&&dt(i,o,t),b("text",i.id+"",o,void 0,r)}}function $t(i,t){if(i instanceof Ge)return xe(i,t);if(i instanceof ae)return Fi(i,t);if(i instanceof ze)return ji(i,t)}function qi(i,t,e){var r=i.style;if(ai(r)){var a=ni(i),n=e.shadowCache,s=n[a];if(!s){var f=i.getGlobalScale(),o=f[0],h=f[1];if(!o||!h)return;var u=r.shadowOffsetX||0,v=r.shadowOffsetY||0,l=r.shadowBlur,c=K(r.shadowColor),_=c.opacity,d=c.color,p=l/2/o,y=l/2/h,g=p+" "+y;s=e.zrId+"-s"+e.shadowIdx++,e.defs[s]=b("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[b("feDropShadow","",{dx:u/o,dy:v/h,stdDeviation:g,"flood-color":d,"flood-opacity":_})]),n[a]=s}t.filter=lt(s)}}function we(i,t,e,r){var a=i[e],n,s={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(Ue(a))n="linearGradient",s.x1=a.x,s.y1=a.y,s.x2=a.x2,s.y2=a.y2;else if(Fe(a))n="radialGradient",s.cx=j(a.x,.5),s.cy=j(a.y,.5),s.r=j(a.r,.5);else return;for(var f=a.colorStops,o=[],h=0,u=f.length;h<u;++h){var v=je(f[h].offset)*100+"%",l=f[h].color,c=K(l),_=c.color,d=c.opacity,p={offset:v};p["stop-color"]=_,d<1&&(p["stop-opacity"]=d),o.push(b("stop",h+"",p))}var y=b(n,"",s,o),g=Pt(y),m=r.gradientCache,x=m[g];x||(x=r.zrId+"-g"+r.gradientIdx++,m[g]=x,s.id=x,r.defs[x]=b(n,x,s,o)),t[e]=lt(x)}function Le(i,t,e,r){var a=i.style[e],n=i.getBoundingRect(),s={},f=a.repeat,o=f==="no-repeat",h=f==="repeat-x",u=f==="repeat-y",v;if(qe(a)){var l=a.imageWidth,c=a.imageHeight,_=void 0,d=a.image;if(Q(d)?_=d:ye(d)?_=d.src:me(d)&&(_=d.toDataURL()),typeof Image>"u"){var p="Image width/height must been given explictly in svg-ssr renderer.";zt(l,p),zt(c,p)}else if(l==null||c==null){var y=function(L,R){if(L){var P=L.elm,S=l||R.width,k=c||R.height;L.tag==="pattern"&&(h?(k=1,S/=n.width):u&&(S=1,k/=n.height)),L.attrs.width=S,L.attrs.height=k,P&&(P.setAttribute("width",S),P.setAttribute("height",k))}},g=Xe(_,null,i,function(L){o||y(N,L),y(v,L)});g&&g.width&&g.height&&(l=l||g.width,c=c||g.height)}v=b("image","img",{href:_,width:l,height:c}),s.width=l,s.height=c}else a.svgElement&&(v=Ze(a.svgElement),s.width=a.svgWidth,s.height=a.svgHeight);if(v){var m,x;o?m=x=1:h?(x=1,m=s.width/n.width):u?(m=1,x=s.height/n.height):s.patternUnits="userSpaceOnUse",m!=null&&!isNaN(m)&&(s.width=m),x!=null&&!isNaN(x)&&(s.height=x);var C=ne(a);C&&(s.patternTransform=C);var N=b("pattern","",s,[v]),w=Pt(N),I=r.patternCache,T=I[w];T||(T=r.zrId+"-p"+r.patternIdx++,I[w]=T,s.id=T,N=r.defs[T]=b("pattern",T,s,[v])),t[e]=lt(T)}}function Xi(i,t,e){var r=e.clipPathCache,a=e.defs,n=r[i.id];if(!n){n=e.zrId+"-c"+e.clipPathIdx++;var s={id:n};r[i.id]=n,a[n]=b("clipPath",n,s,[xe(i,e)])}t["clip-path"]=lt(n)}function Jt(i){return document.createTextNode(i)}function G(i,t,e){i.insertBefore(t,e)}function Qt(i,t){i.removeChild(t)}function Wt(i,t){i.appendChild(t)}function Se(i){return i.parentNode}function Ie(i){return i.nextSibling}function xt(i,t){i.textContent=t}var te=58,Zi=120,Ki=b("","");function bt(i){return i===void 0}function A(i){return i!==void 0}function Yi(i,t,e){for(var r={},a=t;a<=e;++a){var n=i[a].key;n!==void 0&&(r[n]=a)}return r}function X(i,t){var e=i.key===t.key,r=i.tag===t.tag;return r&&e}function J(i){var t,e=i.children,r=i.tag;if(A(r)){var a=i.elm=_e(r);if(kt(Ki,i),si(e))for(t=0;t<e.length;++t){var n=e[t];n!=null&&Wt(a,J(n))}else A(i.text)&&!fe(i.text)&&Wt(a,Jt(i.text))}else i.elm=Jt(i.text);return i.elm}function be(i,t,e,r,a){for(;r<=a;++r){var n=e[r];n!=null&&G(i,J(n),t)}}function ut(i,t,e,r){for(;e<=r;++e){var a=t[e];if(a!=null)if(A(a.tag)){var n=Se(a.elm);Qt(n,a.elm)}else Qt(i,a.elm)}}function kt(i,t){var e,r=t.elm,a=i&&i.attrs||{},n=t.attrs||{};if(a!==n){for(e in n){var s=n[e],f=a[e];f!==s&&(s===!0?r.setAttribute(e,""):s===!1?r.removeAttribute(e):e==="style"?r.style.cssText=s:e.charCodeAt(0)!==Zi?r.setAttribute(e,s):e==="xmlns:xlink"||e==="xmlns"?r.setAttributeNS(Ri,e,s):e.charCodeAt(3)===te?r.setAttributeNS(Ci,e,s):e.charCodeAt(5)===te?r.setAttributeNS(ce,e,s):r.setAttribute(e,s))}for(e in a)e in n||r.removeAttribute(e)}}function $i(i,t,e){for(var r=0,a=0,n=t.length-1,s=t[0],f=t[n],o=e.length-1,h=e[0],u=e[o],v,l,c,_;r<=n&&a<=o;)s==null?s=t[++r]:f==null?f=t[--n]:h==null?h=e[++a]:u==null?u=e[--o]:X(s,h)?(U(s,h),s=t[++r],h=e[++a]):X(f,u)?(U(f,u),f=t[--n],u=e[--o]):X(s,u)?(U(s,u),G(i,s.elm,Ie(f.elm)),s=t[++r],u=e[--o]):X(f,h)?(U(f,h),G(i,f.elm,s.elm),f=t[--n],h=e[++a]):(bt(v)&&(v=Yi(t,r,n)),l=v[h.key],bt(l)?G(i,J(h),s.elm):(c=t[l],c.tag!==h.tag?G(i,J(h),s.elm):(U(c,h),t[l]=void 0,G(i,c.elm,s.elm))),h=e[++a]);(r<=n||a<=o)&&(r>n?(_=e[o+1]==null?null:e[o+1].elm,be(i,_,e,a,o)):ut(i,t,r,n))}function U(i,t){var e=t.elm=i.elm,r=i.children,a=t.children;i!==t&&(kt(i,t),bt(t.text)?A(r)&&A(a)?r!==a&&$i(e,r,a):A(a)?(A(i.text)&&xt(e,""),be(e,null,a,0,a.length-1)):A(r)?ut(e,r,0,r.length-1):A(i.text)&&xt(e,""):i.text!==t.text&&(A(r)&&ut(e,r,0,r.length-1),xt(e,t.text)))}function Ji(i,t){if(X(i,t))U(i,t);else{var e=i.elm,r=Se(e);J(t),r!==null&&(G(r,t.elm,Ie(e)),ut(r,[i],0,0))}return t}var Qi=0,Wi=function(){function i(t,e,r){if(this.type="svg",this.refreshHover=ee(),this.configLayer=ee(),this.storage=e,this._opts=r=Y({},r),this.root=t,this._id="zr"+Qi++,this._oldVNode=Ft(r.width,r.height),t&&!r.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var n=this._svgDom=this._oldVNode.elm=_e("svg");kt(null,this._oldVNode),a.appendChild(n),t.appendChild(a)}this.resize(r.width,r.height)}return i.prototype.getType=function(){return this.type},i.prototype.getViewportRoot=function(){return this._viewport},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.getSvgDom=function(){return this._svgDom},i.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",Ji(this._oldVNode,t),this._oldVNode=t}},i.prototype.renderOneToVNode=function(t){return $t(t,It(this._id))},i.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),r=this._width,a=this._height,n=It(this._id);n.animation=t.animation,n.willUpdate=t.willUpdate,n.compress=t.compress,n.emphasis=t.emphasis,n.ssr=this._opts.ssr;var s=[],f=this._bgVNode=tr(r,a,this._backgroundColor,n);f&&s.push(f);var o=t.compress?null:this._mainVNode=b("g","main",{},[]);this._paintList(e,n,o?o.children:s),o&&s.push(o);var h=V(B(n.defs),function(l){return n.defs[l]});if(h.length&&s.push(b("defs","defs",{},h)),t.animation){var u=Ai(n.cssNodes,n.cssAnims,{newline:!0});if(u){var v=b("style","stl",{},[],u);s.push(v)}}return Ft(r,a,s,t.useViewBox)},i.prototype.renderToString=function(t){return t=t||{},Pt(this.renderToVNode({animation:j(t.cssAnimation,!0),emphasis:j(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:j(t.useViewBox,!0)}),{newline:!0})},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t},i.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},i.prototype._paintList=function(t,e,r){for(var a=t.length,n=[],s=0,f,o,h=0,u=0;u<a;u++){var v=t[u];if(!v.invisible){var l=v.__clipPaths,c=l&&l.length||0,_=o&&o.length||0,d=void 0;for(d=Math.max(c-1,_-1);d>=0&&!(l&&o&&l[d]===o[d]);d--);for(var p=_-1;p>d;p--)s--,f=n[s-1];for(var y=d+1;y<c;y++){var g={};Xi(l[y],g,e);var m=b("g","clip-g-"+h++,g,[]);(f?f.children:r).push(m),n[s++]=m,f=m}o=l;var x=$t(v,e);x&&(f?f.children:r).push(x)}}},i.prototype.resize=function(t,e){var r=this._opts,a=this.root,n=this._viewport;if(t!=null&&(r.width=t),e!=null&&(r.height=e),a&&n&&(n.style.display="none",t=F(a,0,r),e=F(a,1,r),n.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,n){var s=n.style;s.width=t+"px",s.height=e+"px"}if(Tt(this._backgroundColor))this.refresh();else{var f=this._svgDom;f&&(f.setAttribute("width",t),f.setAttribute("height",e));var o=this._bgVNode&&this._bgVNode.elm;o&&(o.setAttribute("width",t),o.setAttribute("height",e))}}},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},i.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},i.prototype.toDataURL=function(t){var e=this.renderToString(),r="data:image/svg+xml;";return t?(e=oi(e),e&&r+"base64,"+e):r+"charset=UTF-8,"+encodeURIComponent(e)},i}();function ee(i){return function(){}}function tr(i,t,e,r){var a;if(e&&e!=="none")if(a=b("rect","bg",{width:i,height:t,x:"0",y:"0"}),oe(e))we({fill:e},a.attrs,"fill",r);else if(Tt(e))Le({style:{fill:e},dirty:fi,getBoundingRect:function(){return{width:i,height:t}}},a.attrs,"fill",r);else{var n=K(e),s=n.color,f=n.opacity;a.attrs.fill=s,f<1&&(a.attrs["fill-opacity"]=f)}return a}const er=Wi;function hr(i){i.registerPainter("svg",er)}function ie(i,t,e){var r=ui.createCanvas(),a=t.getWidth(),n=t.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=a+"px",s.height=n+"px",r.setAttribute("data-zr-dom-id",i)),r.width=a*e,r.height=n*e,r}var ir=function(i){hi(t,i);function t(e,r,a){var n=i.call(this)||this;n.motionBlur=!1,n.lastFrameAlpha=.7,n.dpr=1,n.virtual=!1,n.config={},n.incremental=!1,n.zlevel=0,n.maxRepaintRectCount=5,n.__dirty=!0,n.__firstTimePaint=!0,n.__used=!1,n.__drawIndex=0,n.__startIndex=0,n.__endIndex=0,n.__prevStartIndex=null,n.__prevEndIndex=null;var s;a=a||ve,typeof e=="string"?s=ie(e,r,a):fe(e)&&(s=e,e=s.id),n.id=e,n.dom=s;var f=s.style;return f&&(he(s),s.onselectstart=function(){return!1},f.padding="0",f.margin="0",f.borderWidth="0"),n.painter=r,n.dpr=a,n}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=ie("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,r,a,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],f=this.maxRepaintRectCount,o=!1,h=new st(0,0,0,0);function u(g){if(!(!g.isFinite()||g.isZero()))if(s.length===0){var m=new st(0,0,0,0);m.copy(g),s.push(m)}else{for(var x=!1,C=1/0,N=0,w=0;w<s.length;++w){var I=s[w];if(I.intersect(g)){var T=new st(0,0,0,0);T.copy(I),T.union(g),s[w]=T,x=!0;break}else if(o){h.copy(g),h.union(I);var L=g.width*g.height,R=I.width*I.height,P=h.width*h.height,S=P-L-R;S<C&&(C=S,N=w)}}if(o&&(s[N].union(g),x=!0),!x){var m=new st(0,0,0,0);m.copy(g),s.push(m)}o||(o=s.length>=f)}}for(var v=this.__startIndex;v<this.__endIndex;++v){var l=e[v];if(l){var c=l.shouldBePainted(a,n,!0,!0),_=l.__isRendered&&(l.__dirty&Lt||!c)?l.getPrevPaintRect():null;_&&u(_);var d=c&&(l.__dirty&Lt||!l.__isRendered)?l.getPaintRect():null;d&&u(d)}}for(var v=this.__prevStartIndex;v<this.__prevEndIndex;++v){var l=r[v],c=l&&l.shouldBePainted(a,n,!0,!0);if(l&&(!c||!l.__zr)&&l.__isRendered){var _=l.getPrevPaintRect();_&&u(_)}}var p;do{p=!1;for(var v=0;v<s.length;){if(s[v].isZero()){s.splice(v,1);continue}for(var y=v+1;y<s.length;)s[v].intersect(s[y])?(p=!0,s[v].union(s[y]),s.splice(y,1)):y++;v++}}while(p);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,r){var a=this.dpr,n=this.dom,s=n.style,f=this.domBack;s&&(s.width=e+"px",s.height=r+"px"),n.width=e*a,n.height=r*a,f&&(f.width=e*a,f.height=r*a,a!==1&&this.ctxBack.scale(a,a))},t.prototype.clear=function(e,r,a){var n=this.dom,s=this.ctx,f=n.width,o=n.height;r=r||this.clearColor;var h=this.motionBlur&&!e,u=this.lastFrameAlpha,v=this.dpr,l=this;h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,f/v,o/v));var c=this.domBack;function _(d,p,y,g){if(s.clearRect(d,p,y,g),r&&r!=="transparent"){var m=void 0;if(li(r)){var x=r.global||r.__width===y&&r.__height===g;m=x&&r.__canvasGradient||di(s,r,{x:0,y:0,width:y,height:g}),r.__canvasGradient=m,r.__width=y,r.__height=g}else ci(r)&&(r.scaleX=r.scaleX||v,r.scaleY=r.scaleY||v,m=_i(s,r,{dirty:function(){l.setUnpainted(),l.painter.refresh()}}));s.save(),s.fillStyle=m||r,s.fillRect(d,p,y,g),s.restore()}h&&(s.save(),s.globalAlpha=u,s.drawImage(c,d,p,y,g),s.restore())}!a||h?_(0,0,f,o):a.length&&vt(a,function(d){_(d.x*v,d.y*v,d.width*v,d.height*v)})},t}(vi);const wt=ir;var re=1e5,D=314159,ht=.01,rr=.001;function ar(i){return i?i.__builtin__?!0:!(typeof i.resize!="function"||typeof i.refresh!="function"):!1}function nr(i,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+i+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var sr=function(){function i(t,e,r,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var n=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=Y({},r||{}),this.dpr=r.devicePixelRatio||ve,this._singleCanvas=n,this.root=t;var s=t.style;s&&(he(t),t.innerHTML=""),this.storage=e;var f=this._zlevelList;this._prevDisplayList=[];var o=this._layers;if(n){var u=t,v=u.width,l=u.height;r.width!=null&&(v=r.width),r.height!=null&&(l=r.height),this.dpr=r.devicePixelRatio||1,u.width=v*this.dpr,u.height=l*this.dpr,this._width=v,this._height=l;var c=new wt(u,this,this.dpr);c.__builtin__=!0,c.initContext(),o[D]=c,c.zlevel=D,f.push(D),this._domRoot=t}else{this._width=F(t,0,r),this._height=F(t,1,r);var h=this._domRoot=nr(this._width,this._height);t.appendChild(h)}}return i.prototype.getType=function(){return"canvas"},i.prototype.isSingleCanvas=function(){return this._singleCanvas},i.prototype.getViewportRoot=function(){return this._domRoot},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),r=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,r,t,this._redrawId);for(var n=0;n<a.length;n++){var s=a[n],f=this._layers[s];if(!f.__builtin__&&f.refresh){var o=n===0?this._backgroundColor:null;f.refresh(o)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},i.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},i.prototype._paintHoverList=function(t){var e=t.length,r=this._hoverlayer;if(r&&r.clear(),!!e){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},n,s=0;s<e;s++){var f=t[s];f.__inHover&&(r||(r=this._hoverlayer=this.getLayer(re)),n||(n=r.ctx,n.save()),ot(n,f,a,s===e-1))}n&&n.restore()}},i.prototype.getHoverLayer=function(){return this.getLayer(re)},i.prototype.paintOne=function(t,e){pi(t,e)},i.prototype._paintList=function(t,e,r,a){if(this._redrawId===a){r=r||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e,r),s=n.finished,f=n.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),f&&this._paintHoverList(t),s)this.eachLayer(function(h){h.afterBrush&&h.afterBrush()});else{var o=this;gi(function(){o._paintList(t,e,r,a)})}}},i.prototype._compositeManually=function(){var t=this.getLayer(D).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer(function(a){a.virtual&&t.drawImage(a.dom,0,0,e,r)})},i.prototype._doPaintList=function(t,e,r){for(var a=this,n=[],s=this._opts.useDirtyRect,f=0;f<this._zlevelList.length;f++){var o=this._zlevelList[f],h=this._layers[o];h.__builtin__&&h!==this._hoverlayer&&(h.__dirty||r)&&n.push(h)}for(var u=!0,v=!1,l=function(d){var p=n[d],y=p.ctx,g=s&&p.createRepaintRects(t,e,c._width,c._height),m=r?p.__startIndex:p.__drawIndex,x=!r&&p.incremental&&Date.now,C=x&&Date.now(),N=p.zlevel===c._zlevelList[0]?c._backgroundColor:null;if(p.__startIndex===p.__endIndex)p.clear(!1,N,g);else if(m===p.__startIndex){var w=t[m];(!w.incremental||!w.notClear||r)&&p.clear(!1,N,g)}m===-1&&(console.error("For some unknown reason. drawIndex is -1"),m=p.__startIndex);var I,T=function(S){var k={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(I=m;I<p.__endIndex;I++){var q=t[I];if(q.__inHover&&(v=!0),a._doPaintEl(q,p,s,S,k,I===p.__endIndex-1),x){var O=Date.now()-C;if(O>15)break}}k.prevElClipPaths&&y.restore()};if(g)if(g.length===0)I=p.__endIndex;else for(var L=c.dpr,R=0;R<g.length;++R){var P=g[R];y.save(),y.beginPath(),y.rect(P.x*L,P.y*L,P.width*L,P.height*L),y.clip(),T(P),y.restore()}else y.save(),T(),y.restore();p.__drawIndex=I,p.__drawIndex<p.__endIndex&&(u=!1)},c=this,_=0;_<n.length;_++)l(_);return yi.wxa&&vt(this._layers,function(d){d&&d.ctx&&d.ctx.draw&&d.ctx.draw()}),{finished:u,needsRefreshHover:v}},i.prototype._doPaintEl=function(t,e,r,a,n,s){var f=e.ctx;if(r){var o=t.getPaintRect();(!a||o&&o.intersect(a))&&(ot(f,t,n,s),t.setPrevPaintRect(o))}else ot(f,t,n,s)},i.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=D);var r=this._layers[t];return r||(r=new wt("zr_"+t,this,this.dpr),r.zlevel=t,r.__builtin__=!0,this._layerConfig[t]?ft(r,this._layerConfig[t],!0):this._layerConfig[t-ht]&&ft(r,this._layerConfig[t-ht],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},i.prototype.insertLayer=function(t,e){var r=this._layers,a=this._zlevelList,n=a.length,s=this._domRoot,f=null,o=-1;if(!r[t]&&ar(e)){if(n>0&&t>a[0]){for(o=0;o<n-1&&!(a[o]<t&&a[o+1]>t);o++);f=r[a[o]]}if(a.splice(o+1,0,t),r[t]=e,!e.virtual)if(f){var h=f.dom;h.nextSibling?s.insertBefore(e.dom,h.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom);e.painter||(e.painter=this)}},i.prototype.eachLayer=function(t,e){for(var r=this._zlevelList,a=0;a<r.length;a++){var n=r[a];t.call(e,this._layers[n],n)}},i.prototype.eachBuiltinLayer=function(t,e){for(var r=this._zlevelList,a=0;a<r.length;a++){var n=r[a],s=this._layers[n];s.__builtin__&&t.call(e,s,n)}},i.prototype.eachOtherLayer=function(t,e){for(var r=this._zlevelList,a=0;a<r.length;a++){var n=r[a],s=this._layers[n];s.__builtin__||t.call(e,s,n)}},i.prototype.getLayers=function(){return this._layers},i.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(v,l){v.__dirty=v.__used=!1});function e(v){n&&(n.__endIndex!==v&&(n.__dirty=!0),n.__endIndex=v)}if(this._singleCanvas)for(var r=1;r<t.length;r++){var a=t[r];if(a.zlevel!==t[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var n=null,s=0,f,o;for(o=0;o<t.length;o++){var a=t[o],h=a.zlevel,u=void 0;f!==h&&(f=h,s=0),a.incremental?(u=this.getLayer(h+rr,this._needsManuallyCompositing),u.incremental=!0,s=1):u=this.getLayer(h+(s>0?ht:0),this._needsManuallyCompositing),u.__builtin__||mi("ZLevel "+h+" has been used by unkown layer "+u.id),u!==n&&(u.__used=!0,u.__startIndex!==o&&(u.__dirty=!0),u.__startIndex=o,u.incremental?u.__drawIndex=-1:u.__drawIndex=o,e(o),n=u),a.__dirty&Lt&&!a.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=o))}e(o),this.eachBuiltinLayer(function(v,l){!v.__used&&v.getElementCount()>0&&(v.__dirty=!0,v.__startIndex=v.__endIndex=v.__drawIndex=0),v.__dirty&&v.__drawIndex<0&&(v.__drawIndex=v.__startIndex)})},i.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},i.prototype._clearLayer=function(t){t.clear()},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t,vt(this._layers,function(e){e.setUnpainted()})},i.prototype.configLayer=function(t,e){if(e){var r=this._layerConfig;r[t]?ft(r[t],e,!0):r[t]=e;for(var a=0;a<this._zlevelList.length;a++){var n=this._zlevelList[a];if(n===t||n===t+ht){var s=this._layers[n];ft(s,r[t],!0)}}}},i.prototype.delLayer=function(t){var e=this._layers,r=this._zlevelList,a=e[t];a&&(a.dom.parentNode.removeChild(a.dom),delete e[t],r.splice(xi(r,t),1))},i.prototype.resize=function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts,n=this.root;if(t!=null&&(a.width=t),e!=null&&(a.height=e),t=F(n,0,a),e=F(n,1,a),r.style.display="",this._width!==t||e!==this._height){r.style.width=t+"px",r.style.height=e+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(D).resize(t,e)}return this},i.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},i.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},i.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[D].dom;var e=new wt("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var r=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var a=e.dom.width,n=e.dom.height;this.eachLayer(function(v){v.__builtin__?r.drawImage(v.dom,0,0,a,n):v.renderToCanvas&&(r.save(),v.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},f=this.storage.getDisplayList(!0),o=0,h=f.length;o<h;o++){var u=f[o];ot(r,u,s,o===h-1)}return e.dom},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i}();const or=sr;function vr(i){i.registerPainter("canvas",or)}export{vr as CanvasRenderer,hr as SVGRenderer};
