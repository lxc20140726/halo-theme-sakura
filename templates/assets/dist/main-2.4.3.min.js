var mr=Object.defineProperty;var vr=(i,e,t)=>e in i?mr(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var L=(i,e,t)=>(vr(i,typeof e!="symbol"?e+"":e,t),t);import{g as yr}from"./assets/_commonjsHelpers-de833af9.js";const br="modulepreload",wr=function(i){return"/themes/theme-sakura/assets/dist/"+i},Rt={},I=function(e,t,r){if(!t||t.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=wr(o),o in Rt)return;Rt[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!r)for(let c=n.length-1;c>=0;c--){const l=n[c];if(l.href===o&&(!a||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":br,a||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),a)return new Promise((c,l)=>{f.addEventListener("load",c),f.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})},Sr=(i,e)=>{const t=i[e];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((r,n)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})},z=class z{static async retry(e,t=3,r=1e3){try{return await e()}catch(n){if(t>0)return await new Promise(o=>setTimeout(o,r)),await z.retry(e,t-1,r);throw n}}static jsonToMap(e){try{let t=e;e instanceof String&&(t=JSON.parse(e.toString()));const r=Object.entries(t);return new Map(r)}catch(t){throw new Error(`解析 JSON 失败：${t.message}`)}}static generateColor(){const e=Math.floor(Math.random()*360),t=Math.floor(Math.random()*50)+50,r=Math.floor(Math.random()*40)+50,n=e/60,o=t/100,a=r/100,s=(1-Math.abs(2*a-1))*o,u=s*(1-Math.abs(n%2-1)),f=a-s/2;let c,l,g;0<=n&&n<1?[c,l,g]=[s,u,0]:1<=n&&n<2?[c,l,g]=[u,s,0]:2<=n&&n<3?[c,l,g]=[0,s,u]:3<=n&&n<4?[c,l,g]=[0,u,s]:4<=n&&n<5?[c,l,g]=[u,0,s]:[c,l,g]=[s,0,u],c=Math.round((c+f)*255),l=Math.round((l+f)*255),g=Math.round((g+f)*255);const d=c.toString(16).padStart(2,"0"),h=l.toString(16).padStart(2,"0"),v=g.toString(16).padStart(2,"0");return`#${d}${h}${v}`}static getWordCount(e){var t,r;return((r=(t=e.textContent)==null?void 0:t.normalize().match(z.wordPattern))==null?void 0:r.length)??0}static caclEstimateReadTime(e,t=3){t=Math.min(6,Math.max(1,t));var n=400+(t-1)*100;return Math.ceil(e/n*60)}};L(z,"PatternString",{cjk:"\\p{Script=Han}|\\p{Script=Kana}|\\p{Script=Hira}|\\p{Script=Hangul}",word:"[\\p{L}|\\p{N}|._]+"}),L(z,"wordPattern",new RegExp(`${z.PatternString.cjk}|${z.PatternString.word}`,"gu"));let ot=z;const Ve=class Ve{static addEventListener(e,t,r){let n=Ve.throttle(t,r),o=this.eventThrottles.get(e);o||(o=new Set,this.eventThrottles.set(e,o)),o.add(n),window.addEventListener(e,n)}static throttle(e,t){let r=null;return(...n)=>{r||(e.apply(this,n),r=window.setTimeout(()=>{r=null},t))}}};L(Ve,"eventThrottles",new Map);let Ne=Ve;const Y=class Y{constructor(){L(this,"isAuthenticated",!1);L(this,"loginUrl","/login");L(this,"allowedPaths",["/login","/register","/forgot-password"]);L(this,"excludedPaths",["/api","/assets","/static"]);this.checkAuthStatus()}static getInstance(){return Y.instance||(Y.instance=new Y),Y.instance}async checkAuthStatus(){try{await this.checkAuthViaAPI(),this.isAuthenticated||this.checkAuthViaDOM(),console.log("认证状态检查完成:",this.isAuthenticated?"已登录":"未登录")}catch(e){console.error("检查认证状态失败:",e),this.isAuthenticated=!1}}checkAuthViaDOM(){try{const e=document.querySelector('[sec\\:authorize="isAuthenticated()"]'),t=document.querySelector('[sec\\:authorize="isAnonymous()"]'),r=document.querySelector(".header-user-menu"),n=r==null?void 0:r.querySelector('a[href*="login"]'),o=r==null?void 0:r.querySelector('a[href*="logout"]'),a=document.querySelector(".herder-user-name-u");e&&!t?(this.isAuthenticated=!0,console.log("DOM检测: 发现认证元素，用户已登录")):t&&!e?(this.isAuthenticated=!1,console.log("DOM检测: 发现匿名元素，用户未登录")):o&&!n?(this.isAuthenticated=!0,console.log("DOM检测: 发现登出链接，用户已登录")):n&&!o?(this.isAuthenticated=!1,console.log("DOM检测: 发现登录链接，用户未登录")):a&&a.textContent&&a.textContent.trim()!==""?(this.isAuthenticated=!0,console.log("DOM检测: 发现用户信息，用户已登录")):(this.isAuthenticated=!1,console.log("DOM检测: 未找到明确的认证标识，默认为未登录"))}catch(e){console.error("DOM认证检查失败:",e),this.isAuthenticated=!1}}async checkAuthViaAPI(){try{console.log("开始API认证检查...");const e=await fetch("/apis/api.halo.run/v1alpha1/users/profile",{method:"GET",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(e.ok){const t=await e.json();t&&t.metadata&&t.metadata.name?(this.isAuthenticated=!0,console.log("API检测: 用户已登录，用户名:",t.metadata.name)):(this.isAuthenticated=!1,console.log("API检测: 响应数据无效"))}else this.isAuthenticated=!1,console.log("API检测: 响应状态码:",e.status)}catch(e){console.error("API认证检查失败:",e),this.isAuthenticated=!1}}isPathAllowed(e){var a,s;const t=(a=w.getThemeConfig("security","allowed_paths",String))==null?void 0:a.valueOf(),r=(s=w.getThemeConfig("security","excluded_paths",String))==null?void 0:s.valueOf(),n=t?t.split(",").map(u=>u.trim()):this.allowedPaths,o=r?r.split(",").map(u=>u.trim()):this.excludedPaths;for(const u of o)if(e.startsWith(u))return!0;for(const u of n)if(e===u||e.startsWith(u+"/"))return!0;return!1}async intercept(){const e=window.location.pathname;if(this.isPathAllowed(e)){console.log("路径允许访问:",e);return}await this.refreshAuthStatus(),this.isAuthenticated?console.log("用户已登录，允许访问:",e):(console.log("用户未登录，准备重定向到登录页面"),this.redirectToLogin())}async refreshAuthStatus(){console.log("刷新认证状态..."),await this.checkAuthStatus()}redirectToLogin(){var o;const e=encodeURIComponent(window.location.href),n=`${((o=w.getThemeConfig("security","login_url",String))==null?void 0:o.valueOf())||this.loginUrl}?redirect_uri=${e}`;this.showLoginRequiredMessage(),setTimeout(()=>{window.location.href=n},2e3)}showLoginRequiredMessage(){if(document.getElementById("auth-interceptor-message"))return;const e=document.createElement("div");e.id="auth-interceptor-message",e.innerHTML=`
      <div class="auth-message">
        <h3>🔒 需要登录</h3>
        <p>您需要登录后才能访问此页面</p>
        <div class="redirect-text">
          正在跳转到登录页面<span class="loading-dots"></span>
        </div>
        <div style="margin-top: 10px; font-size: 12px; opacity: 0.7;">
          调试信息: 认证状态检测失败，请检查控制台日志
        </div>
      </div>
    `,document.body.appendChild(e)}setLoginUrl(e){this.loginUrl=e}addAllowedPath(e){this.allowedPaths.includes(e)||this.allowedPaths.push(e)}addExcludedPath(e){this.excludedPaths.includes(e)||this.excludedPaths.push(e)}getAuthStatus(){return this.isAuthenticated}updateAuthStatus(e){this.isAuthenticated=e,console.log("手动更新认证状态:",e?"已登录":"未登录")}getDebugInfo(){return{isAuthenticated:this.isAuthenticated,loginUrl:this.loginUrl,allowedPaths:this.allowedPaths,excludedPaths:this.excludedPaths,currentPath:window.location.pathname,userAgent:navigator.userAgent}}};L(Y,"instance");let at=Y;const Z=class Z{constructor(){L(this,"authInterceptor");L(this,"isInitialized",!1);this.authInterceptor=at.getInstance()}static getInstance(){return Z.instance||(Z.instance=new Z),Z.instance}init(){this.isInitialized||(window.addEventListener("pjax:send",this.handlePjaxSend.bind(this)),window.addEventListener("pjax:success",this.handlePjaxSuccess.bind(this)),window.addEventListener("pjax:error",this.handlePjaxError.bind(this)),this.checkAuthOnPageLoad(),this.isInitialized=!0,console.log("PJAX认证拦截器已初始化"))}async handlePjaxSend(e){const t=e.request,r=new URL(t.responseURL||window.location.href);!this.authInterceptor.getAuthStatus()&&!this.isPathAllowed(r.pathname)&&(e.preventDefault(),e.stopPropagation(),await this.authInterceptor.intercept())}handlePjaxSuccess(e){setTimeout(()=>{this.checkAuthOnPageLoad()},100)}handlePjaxError(e){e.request.status===401&&this.authInterceptor.intercept()}async checkAuthOnPageLoad(){setTimeout(async()=>{await this.authInterceptor.intercept()},200)}isPathAllowed(e){var a,s;const t=(a=w.getThemeConfig("security","allowed_paths",String))==null?void 0:a.valueOf(),r=(s=w.getThemeConfig("security","excluded_paths",String))==null?void 0:s.valueOf(),n=t?t.split(",").map(u=>u.trim()):["/login","/register","/forgot-password","/api","/assets","/static"],o=r?r.split(",").map(u=>u.trim()):["/api","/assets","/static"];for(const u of o)if(e.startsWith(u))return!0;for(const u of n)if(e===u||e.startsWith(u+"/"))return!0;return!1}interceptLinks(){document.addEventListener("click",e=>{const r=e.target.closest("a");if(r&&r.href){const n=new URL(r.href);n.origin===window.location.origin&&!this.authInterceptor.getAuthStatus()&&!this.isPathAllowed(n.pathname)&&(e.preventDefault(),this.authInterceptor.intercept())}})}interceptForms(){document.addEventListener("submit",e=>{const t=e.target;if(t&&t.action){const r=new URL(t.action,window.location.origin);r.origin===window.location.origin&&!this.authInterceptor.getAuthStatus()&&!this.isPathAllowed(r.pathname)&&(e.preventDefault(),this.authInterceptor.intercept())}})}getAuthInterceptor(){return this.authInterceptor}};L(Z,"instance");let st=Z;var Or=Object.defineProperty,xr=Object.getOwnPropertyDescriptor,_=(i,e,t,r)=>{for(var n=r>1?void 0:r?xr(e,t):e,o=i.length-1,a;o>=0;o--)(a=i[o])&&(n=(r?a(e,t,n):a(n))||n);return r&&n&&Or(e,t,n),n};class j{initAuthInterceptor(){var t;if((t=w.getThemeConfig("security","enable_auth_interceptor",Boolean))==null?void 0:t.valueOf()){const r=st.getInstance();r.init(),r.interceptLinks(),r.interceptForms();const n=r.getAuthInterceptor();typeof window<"u"&&(window.authInterceptorDebug={refresh:()=>n.refreshAuthStatus(),getStatus:()=>n.getAuthStatus(),getDebugInfo:()=>n.getDebugInfo(),setStatus:o=>n.updateAuthStatus(o)}),console.log("认证拦截器已启用"),console.log("调试命令: window.authInterceptorDebug")}}searchModal(){const e=document.querySelector(".searchbox");if(!e)return;if(!w.getPageConfig("showSearchModal")){e.addEventListener("click",()=>{SearchWidget.open()});return}const t=document.querySelector(".search-form.search-form-modal");if(!t)return;e.addEventListener("click",()=>{t.classList.add("is-visible")});const r=a=>{if(!w.$pjax)return;a.preventDefault();const s=a.target;if(!(s&&s instanceof HTMLFormElement))return;const u=s.action,f=s.keyword;w.$pjax.loadUrl(`${u}?${f.name}=${f.value}`),t.classList.remove("is-visible"),w.$pjax.refresh(),this.closeMobileNav()};document.querySelectorAll(".search-form").forEach(a=>{a.addEventListener("submit",r)});const o=document.querySelector(".search-close");o&&o.addEventListener("click",()=>{t.classList.remove("is-visible")})}registerScrollEvent(){var c;const e=((c=document.querySelector(".site-header"))==null?void 0:c.offsetHeight)||75,t=document.querySelector(".cd-top"),r=document.querySelector(".m-cd-top"),n=document.querySelector(".change-skin-gear"),o=document.querySelector(".mobile-change-skin"),a=l=>{t&&(l?t.classList.add("cd-is-visible"):t.classList.remove("cd-is-visible"))},s=()=>{if(t){const l=t.offsetHeight||0;document.documentElement.scrollTop>e?t.style.top=l>window.innerHeight?`${window.innerHeight-l-e}px`:"0":t.style.top="-900px"}},u=()=>{n&&(n.style.bottom=document.documentElement.scrollTop>e?"0":"-100px")},f=()=>{document.documentElement.scrollTop>0?(r==null||r.classList.add("cd-is-visible"),o==null||o.classList.add("cd-is-visible")):(r==null||r.classList.remove("cd-is-visible"),o==null||o.classList.remove("cd-is-visible"))};window.addEventListener("scroll",()=>{a(document.documentElement.scrollTop>e),s(),u(),f()})}registerBackToTopEvent(){document.querySelectorAll(".cd-top, .m-cd-top").forEach(t=>{t.addEventListener("click",r=>{r.preventDefault(),window.pageYOffset>0&&window.scrollTo({top:0,behavior:"smooth"})})})}registerCopyEvent(){Ne.addEventListener("copy",()=>{w.$toast&&w.$toast.create(w.translate("common.events.copy","复制成功！<br>Copied to clipboard successfully!"),2e3)},2e3)}registerCodeBlockZoomEvent(){document.querySelectorAll("pre").forEach(t=>{t.addEventListener("dblclick",r=>{var n;r.target===t&&(t.classList.toggle("code-block-fullscreen"),(n=document.querySelector("html"))==null||n.classList.toggle("code-block-fullscreen-html-scroll"))})})}registerNavigationChangeEvent(){window.addEventListener("hashchange",e=>{if(e.oldURL.includes("#gallery-"))return;const r=location.hash.substring(1);if(!r.match(/^[A-z0-9_-]+$/))return;const n=document.getElementById(r);n&&(n.tagName.match(/^(?:a|select|input|button|textarea)$/i)||(n.tabIndex=-1),n.focus())},!1)}registerMobileNav(){var t,r,n;const e=document.querySelectorAll(".container, .site-nav-toggle, .site-sidebar");(t=document.querySelector(".nav-toggle"))==null||t.addEventListener("click",o=>{o.stopPropagation(),o.preventDefault(),e.forEach(a=>{a.classList.add("open")})}),(r=document.querySelector(".sidebar-close"))==null||r.addEventListener("click",o=>{o.stopPropagation(),this.closeMobileNav()}),(n=document.querySelector(".container"))==null||n.addEventListener("click",o=>{const a=document.querySelector(".site-sidebar");a&&a.classList.contains("open")&&(o.stopPropagation(),o.preventDefault(),this.closeMobileNav())}),document.querySelectorAll(".menu-root .menu-item").forEach(o=>{o.addEventListener("click",()=>{this.closeMobileNav()})})}closeMobileNav(){document.querySelectorAll(".container, .site-nav-toggle, .site-sidebar").forEach(t=>{t.classList.remove("open")})}registerHeaderEvent(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;window.addEventListener("scroll",()=>{const r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n=document.querySelector(".site-header");r===0?n==null||n.classList.remove("yya"):n==null||n.classList.add("yya"),r>t?n==null||n.classList.remove("sabit"):n==null||n.classList.add("sabit"),t=r,I(()=>import("./assets/nprogress-191f6e31.js").then(o=>o.n),["assets/nprogress-191f6e31.js","assets/_commonjsHelpers-de833af9.js"]).then(o=>{o.default.configure({minimum:0,template:`
          <div class="bar" role="bar">
            <div class="peg"></div>
          </div>`});const a=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=r/a;o.default.set(s)})})}registerPostListPaginationEvent(){const e=document.getElementById("pagination");if(!e)return;const t=e.querySelector("a");t&&t.addEventListener("click",r=>{r.preventDefault();const n=document.getElementById("main");if(!n)return;const o=r.target,a=o.href;return o.classList.add("loading"),o.textContent="",fetch(a,{method:"GET"}).then(s=>s.text()).then(s=>{const f=new DOMParser().parseFromString(s,"text/html"),c=f.querySelectorAll("#main .post");c&&c.length>0&&c.forEach(g=>{n.appendChild(g)}),w.$pjax&&w.$pjax.refresh(n);const l=f.querySelector("#pagination a");l?o.href=l.href:e.innerHTML=`<span>${w.translate("page.theend","没有更多文章了")}</span>`}).catch(s=>{console.error(s)}).finally(()=>{o.classList.remove("loading"),o.textContent=w.translate("page.next","下一页"),w.$localize&&w.$localize(".post")}),!1})}registerThemeChangeEvent(){document.querySelectorAll(".theme-change-js").forEach(t=>{t.addEventListener("click",()=>{var r;(r=document.querySelector(".skin-menu"))==null||r.classList.toggle("show")})})}registerThemeItemClickEventAndDefaultTheme(){const e=document.querySelector(".skin-menu"),t=e==null?void 0:e.querySelectorAll(".skin-menu .menu-item");t==null||t.forEach(r=>{const n=JSON.parse(r.getAttribute("data-item")||"{}");n.bg_isdefault&&this.registerThemeRevert(n),r.addEventListener("click",()=>{this.registerThemeRevert(n),localStorage.setItem("sakuraTheme",JSON.stringify(n)),e==null||e.classList.remove("show"),localStorage.setItem("systemMode","false")})}),Ne.addEventListener("scroll",()=>{e==null||e.classList.remove("show")},200)}registerThemeRevert(e){if(!e){const r=localStorage.getItem("sakuraTheme");if(!r)return;e=JSON.parse(r)}const t=document.querySelector("body");switch(e!=null&&e.bg_url?t.style.backgroundImage=`url(${e==null?void 0:e.bg_url})`:t.style.backgroundImage="",e!=null&&e.bg_night?t.classList.add("dark"):t.classList.remove("dark"),e==null?void 0:e.bg_img_strategy){case"cover":t.style.backgroundSize="cover";break;case"no-repeat":case"repeat":t.style.backgroundRepeat=e.bg_img_strategy;break;default:t.style.backgroundSize="auto",t.style.backgroundRepeat="auto";break}}registerSystemDarkModeChangeEvent(){const e=document.querySelector("body"),t=localStorage.getItem("systemMode"),r=window.matchMedia("(prefers-color-scheme: dark)");(!t||t==="true")&&(r.matches?e.classList.add("dark"):e.classList.remove("dark")),window.matchMedia("(prefers-color-scheme: dark)").onchange=n=>{n.matches?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("systemMode","true")}}}_([C(!1)],j.prototype,"initAuthInterceptor",1);_([C(!1)],j.prototype,"searchModal",1);_([C(!1)],j.prototype,"registerScrollEvent",1);_([C(!1)],j.prototype,"registerBackToTopEvent",1);_([C(!1)],j.prototype,"registerCopyEvent",1);_([C()],j.prototype,"registerCodeBlockZoomEvent",1);_([C(!1)],j.prototype,"registerNavigationChangeEvent",1);_([C(!1)],j.prototype,"registerMobileNav",1);_([C(!1)],j.prototype,"registerHeaderEvent",1);_([C()],j.prototype,"registerPostListPaginationEvent",1);_([C(!1)],j.prototype,"registerThemeChangeEvent",1);_([C(!1)],j.prototype,"registerThemeItemClickEventAndDefaultTheme",1);_([C(!1)],j.prototype,"registerThemeRevert",1);_([C(!1)],j.prototype,"registerSystemDarkModeChangeEvent",1);var Lr=Object.defineProperty,kr=Object.getOwnPropertyDescriptor,G=(i,e,t,r)=>{for(var n=r>1?void 0:r?kr(e,t):e,o=i.length-1,a;o>=0;o--)(a=i[o])&&(n=(r?a(e,t,n):a(n))||n);return r&&n&&Lr(e,t,n),n};class Q{loadHeaderAnimationCss(){const e=document.querySelectorAll(".menu-item .animation");e&&e.length>0&&I(()=>Promise.resolve({}),["css/font-awesome-animation.min-2.4.3.min.css"])}registerFixedAPlayer(){var u,f,c,l,g;if(!((u=w.getThemeConfig("additional","aplayer_float",Boolean))==null?void 0:u.valueOf()))return;const t=(f=w.getThemeConfig("additional","aplayer_host",String))==null?void 0:f.valueOf(),r=(c=w.getThemeConfig("additional","aplayer_server",String))==null?void 0:c.valueOf(),n=(l=w.getThemeConfig("additional","aplayer_type",String))==null?void 0:l.valueOf(),o=(g=w.getThemeConfig("additional","aplayer_id",String))==null?void 0:g.valueOf(),a=`${t}?server=${r}&type=${n}&id=${o}&r=${Math.random()}`;fetch(a).then(d=>d.json()).then(d=>{I(()=>import("./assets/APlayer.min-04c51f3c.js").then(h=>h.A),["assets/APlayer.min-04c51f3c.js","assets/_commonjsHelpers-de833af9.js"]).then(async h=>{var b,S,x,O,k,T;await I(()=>Promise.resolve({}),["css/APlayer.min-2.4.3.min.css"]);const v=h.default,y=s(),p={container:y,mini:!0,fixed:!0,autoplay:((b=w.getThemeConfig("additional","aplayer_autoplay",Boolean))==null?void 0:b.valueOf())||!1,mutex:!0,lrcType:3,preload:((S=w.getThemeConfig("additional","aplayer_preload",String))==null?void 0:S.valueOf())||"auto",theme:((x=w.getThemeConfig("additional","aplayer_theme",String))==null?void 0:x.valueOf())||"#2980b9",loop:"all",order:((O=w.getThemeConfig("additional","aplayer_order",String))==null?void 0:O.valueOf())||"list",volume:((k=w.getThemeConfig("additional","aplayer_volume",Number))==null?void 0:k.valueOf())||null,listFolded:!1,listMaxHeight:"250px",customAudioType:null,storageName:"sakura",audio:{}};p.audio=d;const m=new v(p);m.lrc.hide(),(T=y.querySelector(".aplayer-body"))==null||T.classList.add("ap-hover"),y.addEventListener("click",()=>{m.lrc.show()},{once:!0})})}).catch(d=>{console.error("APlayer API Error: ",d)});const s=()=>{if(document.querySelector("#aplayer-float"))return document.querySelector("#aplayer-float");const d=document.createElement("div");return d.id="aplayer-float",d.classList.add("aplayer"),d.classList.add("aplayer-float"),document.body.appendChild(d),d}}registerHeaderClass(){const e=document.querySelector(".container");w.getPageConfig("_templateId")==="index"?e.classList.add("is-homepage"):e.classList.remove("is-homepage")}wrapTableWithBox(){const e=document.querySelector(".entry-content"),t=e==null?void 0:e.querySelectorAll("table");t==null||t.forEach(r=>{var o,a;if((o=r.parentElement)!=null&&o.classList.contains("table-wrapper"))return;const n=document.createElement("div");n.classList.add("table-wrapper"),(a=r.parentNode)==null||a.insertBefore(n,r),n.appendChild(r)})}wrapWithFancybox(){const e=document.querySelectorAll(".fancybox-content");e==null||e.forEach(t=>{t.classList.contains("gallery")||(this.wrapImageWithBox(t),this.wrapVideoWithBox(t),I(()=>import("./assets/index.esm-9dd2b8be.js"),[]).then(async r=>{await I(()=>Promise.resolve({}),["css/fancybox-2.4.3.min.css"]),await r.Fancybox.bind(t,'[data-fancybox="gallery"]')}))})}wrapVideoWithBox(e){const t=e==null?void 0:e.querySelectorAll("video");t&&t.forEach(r=>{this.buildFancybox(r).classList.add("video-wrapper")})}wrapImageWithBox(e){const t=e==null?void 0:e.querySelectorAll("img:not(.avatar)");t&&t.forEach(r=>{this.buildFancybox(r).classList.add("image-wrapper")})}buildFancybox(e){var r;const t=document.createElement("a");return t.setAttribute("data-fancybox","gallery"),e.getAttribute("data-src")?t.setAttribute("href",e.getAttribute("data-src")||""):t.setAttribute("href",e.getAttribute("src")||""),(r=e.parentNode)==null||r.insertBefore(t,e),e.classList.add("gallery"),t.appendChild(e),t}registerHighlight(){document.querySelectorAll("pre").forEach(t=>{t.classList.add("highlight-wrap"),t.setAttribute("autocomplete","off"),t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false"),t.setAttribute("contenteditable","false");const r=t.querySelector("code");I(()=>import("./assets/index-64b8d913.js"),["assets/index-64b8d913.js","assets/_commonjsHelpers-de833af9.js"]).then(async n=>{var u;let o="";if(r.classList.forEach(f=>{f.startsWith("language-")&&(o=f.replace("language-",""))}),!n.default.getLanguage(o)){r.classList.remove(`language-${o}`);const f=n.default.highlightAuto(r.textContent||"");f.language?o=f.language:o="text",r.classList.add(`language-${o}`)}if(r.setAttribute("data-rel",o.toUpperCase()),r.classList.add(o.toLowerCase()),n.default.highlightElement(r),(u=w.getThemeConfig("post","code_line",Boolean))==null?void 0:u.valueOf()){const f=await I(()=>import("./libs/highlightjs-line-numbers-2.4.3.min.js"),[]);f.registerHljsLineNumbers(n.default),f.injectHljsLineNumbersCss(),n.default.lineNumbersBlock(r)}})})}registerCopyCode(){document.querySelectorAll("pre code").forEach(t=>{const r=document.createElement("span");r.classList.add("copy-code"),r.classList.add("flex-child-center"),r.setAttribute("title",w.translate("common.copy_code","复制代码")),r.innerHTML='<span class="iconify" data-icon="fa:clipboard"></span>',t.after(r),I(()=>import("./assets/clipboard-4680c9b1.js").then(n=>n.c),["assets/clipboard-4680c9b1.js","assets/_commonjsHelpers-de833af9.js"]).then(n=>{new n.default(r,{target:()=>t})})})}registerToc(){const e=document.querySelectorAll(".toc-container"),t=75;e==null||e.forEach(r=>{I(()=>import("./assets/index-577338c5.js"),[]).then(n=>{var u;const o=r.querySelector(".toc"),a=r.getBoundingClientRect().top+window.pageYOffset,s=(u=w.getThemeConfig("post","toc_depth",Number))==null?void 0:u.valueOf();o&&n.default.init({tocElement:o,contentSelector:[".entry-content",".links"],headingSelector:"h1, h2, h3, h4, h5",collapseDepth:s,scrollSmooth:!0,headingsOffset:-(a-t),scrollSmoothOffset:-t,disableTocScrollSync:!0})})})}}G([C(!1)],Q.prototype,"loadHeaderAnimationCss",1);G([C(!1)],Q.prototype,"registerFixedAPlayer",1);G([C()],Q.prototype,"registerHeaderClass",1);G([C()],Q.prototype,"wrapTableWithBox",1);G([C()],Q.prototype,"wrapWithFancybox",1);G([C()],Q.prototype,"registerHighlight",1);G([C()],Q.prototype,"registerCopyCode",1);G([C()],Q.prototype,"registerToc",1);/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt or license.gpl.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 3.1.1
*/const wn=Object.freeze({left:0,top:0,width:16,height:16}),Fe=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Se=Object.freeze({...wn,...Fe}),ut=Object.freeze({...Se,body:"",hidden:!1});function Pr(i,e){const t={};!i.hFlip!=!e.hFlip&&(t.hFlip=!0),!i.vFlip!=!e.vFlip&&(t.vFlip=!0);const r=((i.rotate||0)+(e.rotate||0))%4;return r&&(t.rotate=r),t}function Nt(i,e){const t=Pr(i,e);for(const r in ut)r in Fe?r in i&&!(r in t)&&(t[r]=Fe[r]):r in e?t[r]=e[r]:r in i&&(t[r]=i[r]);return t}function Cr(i,e){const t=i.icons,r=i.aliases||Object.create(null),n=Object.create(null);function o(a){if(t[a])return n[a]=[];if(!(a in n)){n[a]=null;const s=r[a]&&r[a].parent,u=s&&o(s);u&&(n[a]=[s].concat(u))}return n[a]}return(e||Object.keys(t).concat(Object.keys(r))).forEach(o),n}function Er(i,e,t){const r=i.icons,n=i.aliases||Object.create(null);let o={};function a(s){o=Nt(r[s]||n[s],o)}return a(e),t.forEach(a),Nt(i,o)}function Sn(i,e){const t=[];if(typeof i!="object"||typeof i.icons!="object")return t;i.not_found instanceof Array&&i.not_found.forEach(n=>{e(n,null),t.push(n)});const r=Cr(i);for(const n in r){const o=r[n];o&&(e(n,Er(i,n,o)),t.push(n))}return t}const pe=/^[a-z0-9]+(-[a-z0-9]+)*$/,ae=(i,e,t,r="")=>{const n=i.split(":");if(i.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;r=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const s=n.pop(),u=n.pop(),f={provider:n.length>0?n[0]:r,prefix:u,name:s};return e&&!je(f)?null:f}const o=n[0],a=o.split("-");if(a.length>1){const s={provider:r,prefix:a.shift(),name:a.join("-")};return e&&!je(s)?null:s}if(t&&r===""){const s={provider:r,prefix:"",name:o};return e&&!je(s,t)?null:s}return null},je=(i,e)=>i?!!((i.provider===""||i.provider.match(pe))&&(e&&i.prefix===""||i.prefix.match(pe))&&i.name.match(pe)):!1,Tr={provider:"",aliases:{},not_found:{},...wn};function et(i,e){for(const t in e)if(t in i&&typeof i[t]!=typeof e[t])return!1;return!0}function On(i){if(typeof i!="object"||i===null)return null;const e=i;if(typeof e.prefix!="string"||!i.icons||typeof i.icons!="object"||!et(i,Tr))return null;const t=e.icons;for(const n in t){const o=t[n];if(!n.match(pe)||typeof o.body!="string"||!et(o,ut))return null}const r=e.aliases||Object.create(null);for(const n in r){const o=r[n],a=o.parent;if(!n.match(pe)||typeof a!="string"||!t[a]&&!r[a]||!et(o,ut))return null}return e}const De=Object.create(null);function Ar(i,e){return{provider:i,prefix:e,icons:Object.create(null),missing:new Set}}function U(i,e){const t=De[i]||(De[i]=Object.create(null));return t[e]||(t[e]=Ar(i,e))}function St(i,e){return On(e)?Sn(e,(t,r)=>{r?i.icons[t]=r:i.missing.add(t)}):[]}function Ir(i,e,t){try{if(typeof t.body=="string")return i.icons[e]={...t},!0}catch{}return!1}function _r(i,e){let t=[];return(typeof i=="string"?[i]:Object.keys(De)).forEach(n=>{(typeof n=="string"&&typeof e=="string"?[e]:Object.keys(De[n]||{})).forEach(a=>{const s=U(n,a);t=t.concat(Object.keys(s.icons).map(u=>(n!==""?"@"+n+":":"")+a+":"+u))})}),t}let be=!1;function jr(i){return typeof i=="boolean"&&(be=i),be}function Oe(i){const e=typeof i=="string"?ae(i,!0,be):i;if(e){const t=U(e.provider,e.prefix),r=e.name;return t.icons[r]||(t.missing.has(r)?null:void 0)}}function xn(i,e){const t=ae(i,!0,be);if(!t)return!1;const r=U(t.provider,t.prefix);return Ir(r,t.name,e)}function Ln(i,e){if(typeof i!="object")return!1;if(typeof e!="string"&&(e=i.provider||""),be&&!e&&!i.prefix){let n=!1;return On(i)&&(i.prefix="",Sn(i,(o,a)=>{a&&xn(o,a)&&(n=!0)})),n}const t=i.prefix;if(!je({provider:e,prefix:t,name:"a"}))return!1;const r=U(e,t);return!!St(r,i)}function Rr(i){return!!Oe(i)}function Nr(i){const e=Oe(i);return e?{...Se,...e}:null}const kn=Object.freeze({width:null,height:null}),Pn=Object.freeze({...kn,...Fe}),Fr=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Dr=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ct(i,e,t){if(e===1)return i;if(t=t||100,typeof i=="number")return Math.ceil(i*e*t)/t;if(typeof i!="string")return i;const r=i.split(Fr);if(r===null||!r.length)return i;const n=[];let o=r.shift(),a=Dr.test(o);for(;;){if(a){const s=parseFloat(o);isNaN(s)?n.push(o):n.push(Math.ceil(s*e*t)/t)}else n.push(o);if(o=r.shift(),o===void 0)return n.join("");a=!a}}const qr=i=>i==="unset"||i==="undefined"||i==="none";function Be(i,e){const t={...Se,...i},r={...Pn,...e},n={left:t.left,top:t.top,width:t.width,height:t.height};let o=t.body;[t,r].forEach(h=>{const v=[],y=h.hFlip,p=h.vFlip;let m=h.rotate;y?p?m+=2:(v.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),v.push("scale(-1 1)"),n.top=n.left=0):p&&(v.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),v.push("scale(1 -1)"),n.top=n.left=0);let b;switch(m<0&&(m-=Math.floor(m/4)*4),m=m%4,m){case 1:b=n.height/2+n.top,v.unshift("rotate(90 "+b.toString()+" "+b.toString()+")");break;case 2:v.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:b=n.width/2+n.left,v.unshift("rotate(-90 "+b.toString()+" "+b.toString()+")");break}m%2===1&&(n.left!==n.top&&(b=n.left,n.left=n.top,n.top=b),n.width!==n.height&&(b=n.width,n.width=n.height,n.height=b)),v.length&&(o='<g transform="'+v.join(" ")+'">'+o+"</g>")});const a=r.width,s=r.height,u=n.width,f=n.height;let c,l;a===null?(l=s===null?"1em":s==="auto"?f:s,c=ct(l,u/f)):(c=a==="auto"?u:a,l=s===null?ct(c,f/u):s==="auto"?f:s);const g={},d=(h,v)=>{qr(v)||(g[h]=v.toString())};return d("width",c),d("height",l),g.viewBox=n.left.toString()+" "+n.top.toString()+" "+u.toString()+" "+f.toString(),{attributes:g,body:o}}const Mr=/\sid="(\S+)"/g,$r="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Ur=0;function Cn(i,e=$r){const t=[];let r;for(;r=Mr.exec(i);)t.push(r[1]);if(!t.length)return i;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(o=>{const a=typeof e=="function"?e(o):e+(Ur++).toString(),s=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");i=i.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+a+n+"$3")}),i=i.replace(new RegExp(n,"g"),""),i}const X={local:!0,session:!0},En={local:new Set,session:new Set};let Ot=!1;function Hr(i){Ot=i}const Ft="iconify2",we="iconify",Tn=we+"-count",Dt=we+"-version",An=36e5,Vr=168;function lt(i,e){try{return i.getItem(e)}catch{}}function xt(i,e,t){try{return i.setItem(e,t),!0}catch{}}function qt(i,e){try{i.removeItem(e)}catch{}}function ft(i,e){return xt(i,Tn,e.toString())}function dt(i){return parseInt(lt(i,Tn))||0}let Te=typeof window>"u"?{}:window;function In(i){const e=i+"Storage";try{if(Te&&Te[e]&&typeof Te[e].length=="number")return Te[e]}catch{}X[i]=!1}function _n(i,e){const t=In(i);if(!t)return;const r=lt(t,Dt);if(r!==Ft){if(r){const s=dt(t);for(let u=0;u<s;u++)qt(t,we+u.toString())}xt(t,Dt,Ft),ft(t,0);return}const n=Math.floor(Date.now()/An)-Vr,o=s=>{const u=we+s.toString(),f=lt(t,u);if(typeof f=="string"){try{const c=JSON.parse(f);if(typeof c=="object"&&typeof c.cached=="number"&&c.cached>n&&typeof c.provider=="string"&&typeof c.data=="object"&&typeof c.data.prefix=="string"&&e(c,s))return!0}catch{}qt(t,u)}};let a=dt(t);for(let s=a-1;s>=0;s--)o(s)||(s===a-1?(a--,ft(t,a)):En[i].add(s))}function jn(){if(!Ot){Hr(!0);for(const i in X)_n(i,e=>{const t=e.data,r=e.provider,n=t.prefix,o=U(r,n);if(!St(o,t).length)return!1;const a=t.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,a):a,!0})}}function Rn(i,e){switch(i){case"local":case"session":X[i]=e;break;case"all":for(const t in X)X[t]=e;break}}const gt=Object.create(null);function Nn(i,e){gt[i]=e}function ht(i){return gt[i]||gt[""]}function Lt(i){let e;if(typeof i.resources=="string")e=[i.resources];else if(e=i.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:i.path||"/",maxURL:i.maxURL||500,rotate:i.rotate||750,timeout:i.timeout||5e3,random:i.random===!0,index:i.index||0,dataAfterTimeout:i.dataAfterTimeout!==!1}}const ze=Object.create(null),fe=["https://api.simplesvg.com","https://api.unisvg.com"],Re=[];for(;fe.length>0;)fe.length===1||Math.random()>.5?Re.push(fe.shift()):Re.push(fe.pop());ze[""]=Lt({resources:["https://api.iconify.design"].concat(Re)});function Fn(i,e){const t=Lt(e);return t===null?!1:(ze[i]=t,!0)}function Ke(i){return ze[i]}function Br(){return Object.keys(ze)}const zr=()=>{let i;try{if(i=fetch,typeof i=="function")return i}catch{}};let qe=zr();function Kr(i){qe=i}function Jr(){return qe}function Wr(i,e){const t=Ke(i);if(!t)return 0;let r;if(!t.maxURL)r=0;else{let n=0;t.resources.forEach(a=>{n=Math.max(n,a.length)});const o=e+".json?icons=";r=t.maxURL-n-t.path.length-o.length}return r}function Gr(i){return i===404}const Qr=(i,e,t)=>{const r=[],n=Wr(i,e),o="icons";let a={type:o,provider:i,prefix:e,icons:[]},s=0;return t.forEach((u,f)=>{s+=u.length+1,s>=n&&f>0&&(r.push(a),a={type:o,provider:i,prefix:e,icons:[]},s=u.length),a.icons.push(u)}),r.push(a),r};function Yr(i){if(typeof i=="string"){const e=Ke(i);if(e)return e.path}return"/"}const Zr=(i,e,t)=>{if(!qe){t("abort",424);return}let r=Yr(e.provider);switch(e.type){case"icons":{const o=e.prefix,s=e.icons.join(","),u=new URLSearchParams({icons:s});r+=o+".json?"+u.toString();break}case"custom":{const o=e.uri;r+=o.slice(0,1)==="/"?o.slice(1):o;break}default:t("abort",400);return}let n=503;qe(i+r).then(o=>{const a=o.status;if(a!==200){setTimeout(()=>{t(Gr(a)?"abort":"next",a)});return}return n=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?t("abort",o):t("next",n)});return}setTimeout(()=>{t("success",o)})}).catch(()=>{t("next",n)})},Xr={prepare:Qr,send:Zr};function ei(i){const e={loaded:[],missing:[],pending:[]},t=Object.create(null);i.sort((n,o)=>n.provider!==o.provider?n.provider.localeCompare(o.provider):n.prefix!==o.prefix?n.prefix.localeCompare(o.prefix):n.name.localeCompare(o.name));let r={provider:"",prefix:"",name:""};return i.forEach(n=>{if(r.name===n.name&&r.prefix===n.prefix&&r.provider===n.provider)return;r=n;const o=n.provider,a=n.prefix,s=n.name,u=t[o]||(t[o]=Object.create(null)),f=u[a]||(u[a]=U(o,a));let c;s in f.icons?c=e.loaded:a===""||f.missing.has(s)?c=e.missing:c=e.pending;const l={provider:o,prefix:a,name:s};c.push(l)}),e}function Dn(i,e){i.forEach(t=>{const r=t.loaderCallbacks;r&&(t.loaderCallbacks=r.filter(n=>n.id!==e))})}function ti(i){i.pendingCallbacksFlag||(i.pendingCallbacksFlag=!0,setTimeout(()=>{i.pendingCallbacksFlag=!1;const e=i.loaderCallbacks?i.loaderCallbacks.slice(0):[];if(!e.length)return;let t=!1;const r=i.provider,n=i.prefix;e.forEach(o=>{const a=o.icons,s=a.pending.length;a.pending=a.pending.filter(u=>{if(u.prefix!==n)return!0;const f=u.name;if(i.icons[f])a.loaded.push({provider:r,prefix:n,name:f});else if(i.missing.has(f))a.missing.push({provider:r,prefix:n,name:f});else return t=!0,!0;return!1}),a.pending.length!==s&&(t||Dn([i],o.id),o.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),o.abort))})}))}let ni=0;function ri(i,e,t){const r=ni++,n=Dn.bind(null,t,r);if(!e.pending.length)return n;const o={id:r,icons:e,callback:i,abort:n};return t.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(o)}),n}function ii(i,e=!0,t=!1){const r=[];return i.forEach(n=>{const o=typeof n=="string"?ae(n,e,t):n;o&&r.push(o)}),r}var oi={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function ai(i,e,t,r){const n=i.resources.length,o=i.random?Math.floor(Math.random()*n):i.index;let a;if(i.random){let O=i.resources.slice(0);for(a=[];O.length>1;){const k=Math.floor(Math.random()*O.length);a.push(O[k]),O=O.slice(0,k).concat(O.slice(k+1))}a=a.concat(O)}else a=i.resources.slice(o).concat(i.resources.slice(0,o));const s=Date.now();let u="pending",f=0,c,l=null,g=[],d=[];typeof r=="function"&&d.push(r);function h(){l&&(clearTimeout(l),l=null)}function v(){u==="pending"&&(u="aborted"),h(),g.forEach(O=>{O.status==="pending"&&(O.status="aborted")}),g=[]}function y(O,k){k&&(d=[]),typeof O=="function"&&d.push(O)}function p(){return{startTime:s,payload:e,status:u,queriesSent:f,queriesPending:g.length,subscribe:y,abort:v}}function m(){u="failed",d.forEach(O=>{O(void 0,c)})}function b(){g.forEach(O=>{O.status==="pending"&&(O.status="aborted")}),g=[]}function S(O,k,T){const q=k!=="success";switch(g=g.filter(A=>A!==O),u){case"pending":break;case"failed":if(q||!i.dataAfterTimeout)return;break;default:return}if(k==="abort"){c=T,m();return}if(q){c=T,g.length||(a.length?x():m());return}if(h(),b(),!i.random){const A=i.resources.indexOf(O.resource);A!==-1&&A!==i.index&&(i.index=A)}u="completed",d.forEach(A=>{A(T)})}function x(){if(u!=="pending")return;h();const O=a.shift();if(O===void 0){if(g.length){l=setTimeout(()=>{h(),u==="pending"&&(b(),m())},i.timeout);return}m();return}const k={status:"pending",resource:O,callback:(T,q)=>{S(k,T,q)}};g.push(k),f++,l=setTimeout(x,i.rotate),t(O,e,k.callback)}return setTimeout(x),p}function qn(i){const e={...oi,...i};let t=[];function r(){t=t.filter(s=>s().status==="pending")}function n(s,u,f){const c=ai(e,s,u,(l,g)=>{r(),f&&f(l,g)});return t.push(c),c}function o(s){return t.find(u=>s(u))||null}return{query:n,find:o,setIndex:s=>{e.index=s},getIndex:()=>e.index,cleanup:r}}function Mt(){}const tt=Object.create(null);function si(i){if(!tt[i]){const e=Ke(i);if(!e)return;const t=qn(e),r={config:e,redundancy:t};tt[i]=r}return tt[i]}function Mn(i,e,t){let r,n;if(typeof i=="string"){const o=ht(i);if(!o)return t(void 0,424),Mt;n=o.send;const a=si(i);a&&(r=a.redundancy)}else{const o=Lt(i);if(o){r=qn(o);const a=i.resources?i.resources[0]:"",s=ht(a);s&&(n=s.send)}}return!r||!n?(t(void 0,424),Mt):r.query(e,n,t)().abort}function ui(i,e){const t=i.lastModifiedCached;if(t&&t>=e)return t===e;if(i.lastModifiedCached=e,t)for(const r in X)_n(r,n=>{const o=n.data;return n.provider!==i.provider||o.prefix!==i.prefix||o.lastModified===e});return!0}function ci(i,e){Ot||jn();function t(r){let n;if(!X[r]||!(n=In(r)))return;const o=En[r];let a;if(o.size)o.delete(a=Array.from(o).shift());else if(a=dt(n),!ft(n,a+1))return;const s={cached:Math.floor(Date.now()/An),provider:i.provider,data:e};return xt(n,we+a.toString(),JSON.stringify(s))}e.lastModified&&!ui(i,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),t("local")||t("session"))}function $t(){}function li(i){i.iconsLoaderFlag||(i.iconsLoaderFlag=!0,setTimeout(()=>{i.iconsLoaderFlag=!1,ti(i)}))}function fi(i,e){i.iconsToLoad?i.iconsToLoad=i.iconsToLoad.concat(e).sort():i.iconsToLoad=e,i.iconsQueueFlag||(i.iconsQueueFlag=!0,setTimeout(()=>{i.iconsQueueFlag=!1;const{provider:t,prefix:r}=i,n=i.iconsToLoad;delete i.iconsToLoad;let o;if(!n||!(o=ht(t)))return;o.prepare(t,r,n).forEach(s=>{Mn(t,s,u=>{if(typeof u!="object")s.icons.forEach(f=>{i.missing.add(f)});else try{const f=St(i,u);if(!f.length)return;const c=i.pendingIcons;c&&f.forEach(l=>{c.delete(l)}),ci(i,u)}catch(f){console.error(f)}li(i)})})}))}const di=i=>{const t=U(i.provider,i.prefix).pendingIcons;return!!(t&&t.has(i.name))},kt=(i,e)=>{const t=ii(i,!0,jr()),r=ei(t);if(!r.pending.length){let u=!0;return e&&setTimeout(()=>{u&&e(r.loaded,r.missing,r.pending,$t)}),()=>{u=!1}}const n=Object.create(null),o=[];let a,s;return r.pending.forEach(u=>{const{provider:f,prefix:c}=u;if(c===s&&f===a)return;a=f,s=c,o.push(U(f,c));const l=n[f]||(n[f]=Object.create(null));l[c]||(l[c]=[])}),r.pending.forEach(u=>{const{provider:f,prefix:c,name:l}=u,g=U(f,c),d=g.pendingIcons||(g.pendingIcons=new Set);d.has(l)||(d.add(l),n[f][c].push(l))}),o.forEach(u=>{const{provider:f,prefix:c}=u;n[f][c].length&&fi(u,n[f][c])}),e?ri(e,r,o):$t},gi=i=>new Promise((e,t)=>{const r=typeof i=="string"?ae(i,!0):i;if(!r){t(i);return}kt([r||i],n=>{if(n.length&&r){const o=Oe(r);if(o){e({...Se,...o});return}}t(i)})});function $n(i,e){const t={...i};for(const r in e){const n=e[r],o=typeof n;r in kn?(n===null||n&&(o==="string"||o==="number"))&&(t[r]=n):o===typeof t[r]&&(t[r]=r==="rotate"?n%4:n)}return t}const Je={...Pn,inline:!1},nt="iconify",pt="iconify-inline",J="iconifyData"+Date.now();let ee=[];function xe(i){for(let e=0;e<ee.length;e++){const t=ee[e];if((typeof t.node=="function"?t.node():t.node)===i)return t}}function Un(i,e=!1){let t=xe(i);return t?(t.temporary&&(t.temporary=e),t):(t={node:i,temporary:e},ee.push(t),t)}function hi(){if(document.documentElement)return Un(document.documentElement);ee.push({node:()=>document.documentElement})}function pi(i){ee=ee.filter(e=>i!==e&&i!==(typeof e.node=="function"?e.node():e.node))}function Le(){return ee}function mi(i){const e=document;e.readyState&&e.readyState!=="loading"?i():e.addEventListener("DOMContentLoaded",i)}let me=null;const vi={childList:!0,subtree:!0,attributes:!0};function Hn(i){if(!i.observer)return;const e=i.observer;e.pendingScan||(e.pendingScan=setTimeout(()=>{delete e.pendingScan,me&&me(i)}))}function yi(i,e){if(!i.observer)return;const t=i.observer;if(!t.pendingScan)for(let r=0;r<e.length;r++){const n=e[r];if(n.addedNodes&&n.addedNodes.length>0||n.type==="attributes"&&n.target[J]!==void 0){t.paused||Hn(i);return}}}function Vn(i,e){i.observer.instance.observe(e,vi)}function Me(i){let e=i.observer;if(e&&e.instance)return;const t=typeof i.node=="function"?i.node():i.node;!t||!window||(e||(e={paused:0},i.observer=e),e.instance=new window.MutationObserver(yi.bind(null,i)),Vn(i,t),e.paused||Hn(i))}function Ut(){Le().forEach(Me)}function Bn(i){if(!i.observer)return;const e=i.observer;e.pendingScan&&(clearTimeout(e.pendingScan),delete e.pendingScan),e.instance&&(e.instance.disconnect(),delete e.instance)}function bi(i){const e=me!==null;if(me!==i&&(me=i,e&&Le().forEach(Bn)),e){Ut();return}mi(Ut)}function mt(i){(i?[i]:Le()).forEach(e=>{if(!e.observer){e.observer={paused:1};return}const t=e.observer;if(t.paused++,t.paused>1||!t.instance)return;t.instance.disconnect()})}function wi(i){if(i){const e=xe(i);e&&mt(e)}else mt()}function vt(i){(i?[i]:Le()).forEach(e=>{if(!e.observer){Me(e);return}const t=e.observer;if(t.paused&&(t.paused--,!t.paused)){const r=typeof e.node=="function"?e.node():e.node;if(r)t.instance?Vn(e,r):Me(e);else return}})}function Si(i){if(i){const e=xe(i);e&&vt(e)}else vt()}function zn(i,e=!1){const t=Un(i,e);return Me(t),t}function Kn(i){const e=xe(i);e&&(Bn(e),pi(i))}function Oi(i,e){if(i.name!==e.name||i.mode!==e.mode)return!0;const t=i.customisations,r=e.customisations;for(const n in Je)if(t[n]!==r[n])return!0;return!1}function xi(i,e=0){const t=i.replace(/^-?[0-9.]*/,"");function r(n){for(;n<0;)n+=4;return n%4}if(t===""){const n=parseInt(i);return isNaN(n)?0:r(n)}else if(t!==i){let n=0;switch(t){case"%":n=25;break;case"deg":n=90}if(n){let o=parseFloat(i.slice(0,i.length-t.length));return isNaN(o)?0:(o=o/n,o%1===0?r(o):0)}}return e}const Li=/[\s,]+/;function ki(i,e){e.split(Li).forEach(t=>{switch(t.trim()){case"horizontal":i.hFlip=!0;break;case"vertical":i.vFlip=!0;break}})}const Pi=["width","height"],Ci=["inline","hFlip","vFlip"];function Ei(i,e){return i===e||i==="true"?!0:i===""||i==="false"?!1:null}function Ti(i){const e=i.getAttribute("data-icon"),t=typeof e=="string"&&ae(e,!0);if(!t)return null;const r={...Je,inline:i.classList&&i.classList.contains(pt)};Pi.forEach(s=>{const u=i.getAttribute("data-"+s);u&&(r[s]=u)});const n=i.getAttribute("data-rotate");typeof n=="string"&&(r.rotate=xi(n));const o=i.getAttribute("data-flip");typeof o=="string"&&ki(r,o),Ci.forEach(s=>{const u="data-"+s,f=Ei(i.getAttribute(u),u);typeof f=="boolean"&&(r[s]=f)});const a=i.getAttribute("data-mode");return{name:e,icon:t,customisations:r,mode:a}}const Ai="svg."+nt+", i."+nt+", span."+nt+", i."+pt+", span."+pt;function Ii(i){const e=[];return i.querySelectorAll(Ai).forEach(t=>{const r=t[J]||t.tagName.toLowerCase()!=="svg"?Ti(t):null;r&&e.push({node:t,props:r})}),e}function Jn(i,e){let t=i.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)t+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+i+"</svg>"}let ve;function _i(){try{ve=window.trustedTypes.createPolicy("iconify",{createHTML:i=>i})}catch{ve=null}}function ji(i){return ve===void 0&&_i(),ve?ve.createHTML(i):i}function Wn(i){const e=new Set(["iconify"]);return["provider","prefix"].forEach(t=>{i[t]&&e.add("iconify--"+i[t])}),e}function Gn(i,e,t,r){const n=i.classList;if(r){const a=r.classList;Array.from(a).forEach(s=>{n.add(s)})}const o=[];return e.forEach(a=>{n.contains(a)?t.has(a)&&o.push(a):(n.add(a),o.push(a))}),t.forEach(a=>{e.has(a)||n.remove(a)}),o}function Qn(i,e,t){const r=i.style;(t||[]).forEach(o=>{r.removeProperty(o)});const n=[];for(const o in e)r.getPropertyValue(o)||(n.push(o),r.setProperty(o,e[o]));return n}function Yn(i,e,t){let r;try{r=document.createElement("span")}catch{return i}const n=e.customisations,o=Be(t,n),a=i[J],s=Jn(Cn(o.body),{"aria-hidden":"true",role:"img",...o.attributes});r.innerHTML=ji(s);const u=r.childNodes[0],f=i.attributes;for(let h=0;h<f.length;h++){const v=f.item(h),y=v.name;y!=="class"&&!u.hasAttribute(y)&&u.setAttribute(y,v.value)}const c=Wn(e.icon),l=Gn(u,c,new Set(a&&a.addedClasses),i),g=Qn(u,n.inline?{"vertical-align":"-0.125em"}:{},a&&a.addedStyles),d={...e,status:"loaded",addedClasses:l,addedStyles:g};return u[J]=d,i.parentNode&&i.parentNode.replaceChild(u,i),u}function Ri(i){return i.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Ni(i){return"data:image/svg+xml,"+Ri(i)}function Fi(i){return'url("'+Ni(i)+'")'}const Di={display:"inline-block"},yt={"background-color":"currentColor"},Zn={"background-color":"transparent"},Ht={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Vt={"-webkit-mask":yt,mask:yt,background:Zn};for(const i in Vt){const e=Vt[i];for(const t in Ht)e[i+"-"+t]=Ht[t]}function Bt(i){return i+(i.match(/^[-0-9.]+$/)?"px":"")}function qi(i,e,t,r){const n=e.customisations,o=Be(t,n),a=o.attributes,s=i[J],u=Jn(o.body,{...a,width:t.width+"",height:t.height+""}),f=Wn(e.icon),c=Gn(i,f,new Set(s&&s.addedClasses)),g={"--svg":Fi(u),width:Bt(a.width),height:Bt(a.height),...Di,...r?yt:Zn};n.inline&&(g["vertical-align"]="-0.125em");const d=Qn(i,g,s&&s.addedStyles),h={...e,status:"loaded",addedClasses:c,addedStyles:d};return i[J]=h,i}let Ae=!1;function Mi(){Ae||(Ae=!0,setTimeout(()=>{Ae&&(Ae=!1,oe())}))}function oe(i,e=!1){const t=Object.create(null);function r(n,o){const{provider:a,prefix:s,name:u}=n,f=U(a,s),c=f.icons[u];if(c)return{status:"loaded",icon:c};if(f.missing.has(u))return{status:"missing"};if(o&&!di(n)){const l=t[a]||(t[a]=Object.create(null));(l[s]||(l[s]=new Set)).add(u)}return{status:"loading"}}(i?[i]:Le()).forEach(n=>{const o=typeof n.node=="function"?n.node():n.node;if(!o||!o.querySelectorAll)return;let a=!1,s=!1;function u(f,c,l){if(s||(s=!0,mt(n)),f.tagName.toUpperCase()!=="SVG"){const g=c.mode,d=g==="mask"||(g==="bg"?!1:g==="style"?l.body.indexOf("currentColor")!==-1:null);if(typeof d=="boolean"){qi(f,c,{...Se,...l},d);return}}Yn(f,c,l)}Ii(o).forEach(({node:f,props:c})=>{const l=f[J];if(!l){const{status:d,icon:h}=r(c.icon,!0);if(h){u(f,c,h);return}a=a||d==="loading",f[J]={...c,status:d};return}let g;if(Oi(l,c)){if(g=r(c.icon,l.name!==c.name),!g.icon){a=a||g.status==="loading",Object.assign(l,{...c,status:g.status});return}}else{if(l.status!=="loading")return;if(g=r(c.icon,!1),!g.icon){l.status=g.status;return}}u(f,c,g.icon)}),n.temporary&&!a?Kn(o):e&&a?zn(o,!0):s&&n.observer&&vt(n)});for(const n in t){const o=t[n];for(const a in o){const s=o[a];kt(Array.from(s).map(u=>({provider:n,prefix:a,name:u})),Mi)}}}function $i(i){const e=xe(i);e?oe(e):oe({node:i,temporary:!0},!0)}function Xn(i,e,t=!1){const r=Oe(i);if(!r)return null;const n=ae(i),o=$n(Je,e||{}),a=Yn(document.createElement("span"),{name:i,icon:n,customisations:o},r);return t?a.outerHTML:a}function Ui(){return"3.1.1"}function Hi(i,e){return Xn(i,e,!1)}function Vi(i,e){return Xn(i,e,!0)}function Bi(i,e){const t=Oe(i);if(!t)return null;const r=$n(Je,e||{});return Be(t,r)}function zi(i){i?$i(i):oe()}if(typeof document<"u"&&typeof window<"u"){hi();const i=window;if(i.IconifyPreload!==void 0){const e=i.IconifyPreload,t="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!Ln(r))&&console.error(t)}catch{console.error(t)}})}setTimeout(()=>{bi(oe),oe()})}function Ki(i,e){Rn(i,e!==!1)}function Ji(i){Rn(i,!0)}Nn("",Xr);if(typeof document<"u"&&typeof window<"u"){jn();const i=window;if(i.IconifyProviders!==void 0){const e=i.IconifyProviders;if(typeof e=="object"&&e!==null)for(const t in e){const r="IconifyProviders["+t+"] is invalid.";try{const n=e[t];if(typeof n!="object"||!n||n.resources===void 0)continue;Fn(t,n)||console.error(r)}catch{console.error(r)}}}}const Wi={getAPIConfig:Ke,setAPIModule:Nn,sendAPIQuery:Mn,setFetch:Kr,getFetch:Jr,listAPIProviders:Br},bt={_api:Wi,addAPIProvider:Fn,loadIcons:kt,loadIcon:gi,iconExists:Rr,getIcon:Nr,listIcons:_r,addIcon:xn,addCollection:Ln,replaceIDs:Cn,calculateSize:ct,buildIcon:Be,getVersion:Ui,renderSVG:Hi,renderHTML:Vi,renderIcon:Bi,scan:zi,observe:zn,stopObserving:Kn,pauseObserver:wi,resumeObserver:Si,enableCache:Ki,disableCache:Ji};try{self.Iconify===void 0&&(self.Iconify=bt)}catch{}const Gi=bt.default||bt,Qi=JSON.parse('[{"prefix":"fa","width":1536,"height":1536,"icons":{"chevron-left":{"body":"<path fill=\\"currentColor\\" d=\\"M1043 301L512 832l531 531q19 19 19 45t-19 45l-166 166q-19 19-45 19t-45-19L45 877q-19-19-19-45t19-45L787 45q19-19 45-19t45 19l166 166q19 19 19 45t-19 45\\"/>","width":1088,"height":1664},"creative-commons":{"body":"<path fill=\\"currentColor\\" d=\\"M605 1233q153 0 257-104q14-18 3-36l-45-82q-6-13-24-17q-16-2-27 11l-4 3q-4 4-11.5 10t-17.5 13.5t-23.5 14.5t-28.5 13t-33.5 9.5t-37.5 3.5q-76 0-125-50t-49-127q0-76 48-125.5T609 720q37 0 71.5 14t50.5 28l16 14q11 11 26 10q16-2 24-14l53-78q13-20-2-39q-3-4-11-12t-30-23.5t-48.5-28T691 569t-86-10q-148 0-246 96.5T261 896q0 146 97 241.5t247 95.5m630 0q153 0 257-104q14-18 4-36l-45-82q-8-14-25-17q-16-2-27 11l-4 3q-4 4-11.5 10t-17.5 13.5t-23.5 14.5t-28.5 13t-33.5 9.5t-37.5 3.5q-76 0-125-50t-49-127q0-76 48-125.5t122-49.5q37 0 71.5 14t50.5 28l16 14q11 11 26 10q16-2 24-14l53-78q13-20-2-39q-3-4-11-12t-30-23.5t-48.5-28T1321 569t-86-10q-147 0-245.5 96.5T891 896q0 146 97 241.5t247 95.5M896 160q-150 0-286 58.5t-234.5 157t-157 234.5T160 896t58.5 286t157 234.5t234.5 157t286 58.5t286-58.5t234.5-157t157-234.5t58.5-286t-58.5-286t-157-234.5t-234.5-157T896 160m0-160q182 0 348 71t286 191t191 286t71 348t-71 348t-191 286t-286 191t-348 71t-348-71t-286-191t-191-286T0 896t71-348t191-286T548 71T896 0\\"/>","width":1792,"height":1792},"meetup":{"body":"<path fill=\\"currentColor\\" d=\\"M1302 1234q-4-24-27.5-34t-49.5-10.5t-48.5-12.5t-25.5-38q-5-47 33-139.5t75-181t32-127.5q-14-101-117-103q-45-1-75 16l-3 2l-5 2.5l-4.5 2l-5 2l-5 .5l-6-1.5l-6-3.5l-6.5-5q-3-2-9-8.5t-9-9t-8.5-7.5t-9.5-7.5t-9.5-5.5t-11-4.5T990 558q-30-5-48 3t-45 31q-1 1-9 8.5t-12.5 11t-15 10T844 627t-17-3q-54-27-84-40q-41-18-94 5t-76 65q-16 28-41 98.5T488.5 885t-40 134t-21.5 73q-22 69 18.5 119t110.5 46q30-2 50.5-15t38.5-46q7-13 79-199.5T801 802q6-11 21.5-18t29.5 0q27 15 21 53q-2 18-51 139.5T772 1109q-6 38 19.5 56.5t60.5 7t55-49.5q4-8 45.5-92t81.5-163.5t46-88.5q20-29 41-28q29 0 25 38q-2 16-65.5 147.5T1010 1096q-12 53 13 103t74 74q17 9 51 15.5t71.5 8t62.5-14t20-48.5m-951 216q3 15-5 27.5t-23 15.5q-14 3-26.5-5t-15.5-23q-3-14 5-27t22-16t27 5t16 23m570 263q12 17 8.5 37.5T909 1783t-37.5 8t-32.5-21q-11-17-7.5-37.5T852 1700t37.5-8t31.5 21M145 901q-18 27-49.5 33T38 921q-26-18-32-50t12-58q18-27 49.5-33t57.5 12q26 19 32 50.5T145 901m1290 677q19 28 13 61.5t-34 52.5t-60.5 13t-51.5-34t-13-61t33-53q28-19 60.5-13t52.5 34m112-604q69 113 42.5 244.5T1455 1426q-90 63-199 60q-20 80-84.5 127t-143.5 44.5t-140-57.5q-12 9-13 10q-103 71-225 48.5T457 1532q-50-73-53-164q-83-14-142.5-70.5t-80.5-128t-2-152T260 879q-36-60-38-128t24.5-125t79.5-98.5T447 477q32-85 99-148t146.5-91.5t168-17T1020 287q72-21 140-17.5t128.5 36t104.5 80t67.5 115T1478 641q52 16 87 57t45.5 89t-5.5 99.5t-58 87.5M423 314q14 20 9.5 44.5T408 397q-19 14-43.5 9.5T327 382q-14-20-9.5-44.5T342 299q19-14 43.5-9.5T423 314M582 33q4 16-5 30.5T551 82t-31-5.5T502 50q-3-17 6.5-31T534 1q17-4 31 5.5T582 33m1186 948q4 20-6.5 37t-30.5 21q-19 4-36-6.5t-21-30.5t6.5-37t30.5-22q20-4 36.5 7.5T1768 981M1104 88q16 27 8.5 58.5T1077 194q-27 16-57.5 8.5T973 168q-16-28-8.5-59T999 61t58-9t47 36m746 656q4 15-4 27.5t-23 16.5q-15 3-27.5-5.5T1780 760q-3-15 5-28t23-16q14-3 26.5 5t15.5 23m-191-241q15 22 10.5 49t-26.5 43q-22 15-49 10t-42-27t-10-49t27-43t48.5-11t41.5 28\\"/>","width":1856,"height":1792},"vimeo":{"body":"<path fill=\\"currentColor\\" d=\\"M1645 326q-10 236-332 651q-333 431-562 431q-142 0-240-263q-44-160-132-482q-72-262-157-262q-18 0-127 76l-77-98q24-21 108-96.5T256 167Q412 29 497 21q95-9 153 55.5T731 280q44 287 66 373q55 249 120 249q51 0 154-161q101-161 109-246q13-139-109-139q-57 0-121 26Q1070-11 1409 0q251 8 236 326\\"/>","width":1664,"height":1408},"chevron-right":{"body":"<path fill=\\"currentColor\\" d=\\"M1043 301L512 832l531 531q19 19 19 45t-19 45l-166 166q-19 19-45 19t-45-19L45 877q-19-19-19-45t19-45L787 45q19-19 45-19t45 19l166 166q19 19 19 45t-19 45\\"/>","width":1088,"height":1664,"hFlip":true}}},{"prefix":"system-uicons","width":21,"height":21,"icons":{"tags":{"body":"<g fill=\\"none\\" fill-rule=\\"evenodd\\" transform=\\"translate(1 3)\\"><path stroke=\\"currentColor\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M11.914.5H15.5a2 2 0 0 1 2 2v3.586a1 1 0 0 1-.293.707l-6.793 6.793a2 2 0 0 1-2.828 0l-3.172-3.172a2 2 0 0 1 0-2.828L11.207.793A1 1 0 0 1 11.914.5\\"/><path stroke=\\"currentColor\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"m7.5 13.5l-2.013 1.006A2 2 0 0 1 2.72 13.42L1.105 9.114a2 2 0 0 1 .901-2.45L9.5 2.5\\"/><rect width=\\"2\\" height=\\"2\\" x=\\"14\\" y=\\"2\\" fill=\\"currentColor\\" rx=\\"1\\"/></g>"}}},{"prefix":"akar-icons","width":24,"height":24,"icons":{"arrow-forward-thick":{"body":"<path fill=\\"none\\" stroke=\\"currentColor\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" stroke-width=\\"2\\" d=\\"m22 11l-7-9v5C3.047 7 1.668 16.678 2 22c.502-2.685.735-7 13-7v5z\\"/>"},"more-horizontal-fill":{"body":"<path fill=\\"currentColor\\" fill-rule=\\"evenodd\\" d=\\"M2 12a2 2 0 1 1 4 0a2 2 0 0 1-4 0m8 0a2 2 0 1 1 4 0a2 2 0 0 1-4 0m8 0a2 2 0 1 1 4 0a2 2 0 0 1-4 0\\" clip-rule=\\"evenodd\\"/>"}}}]');Qi.forEach(i=>Gi.addCollection(i));class Yi{constructor(e){L(this,"_t",null);L(this,"_timeOut",null);L(this,"_settings",{duration:2e3,width:260,height:60,top:"top",background:"#fe9600",color:"#fff",fontSize:14});e&&(this._settings={...this._settings,...e})}create(e,t){if(this._timeOut&&(clearTimeout(this._timeOut),this._t&&(document.body.removeChild(this._t),this._t=null)),!e){console.error("提示文本不能为空");return}this._t=document.createElement("div"),this._t.className="t-toast",this._t.innerHTML=`<p class="message"><span>${e}</span></p>`,document.body.appendChild(this._t),this.setStyle(),this._timeOut=setTimeout(()=>{this._t&&(document.body.removeChild(this._t),this._t=null),this._timeOut=null},t??this._settings.duration)}setStyle(){if(!this._t){console.error("Toast元素未创建");return}this._t.style.width=`${this._settings.width}px`,this._t.style.height=`${this._settings.height}px`,this._t.style.position="fixed",this._t.style.textAlign="center",this._t.style.zIndex="99999",typeof this._settings.top=="string"&&isNaN(Number(this._settings.top))?this._settings.top==="center"?this._t.style.top=`${window.innerHeight/2}px`:this._settings.top==="top"&&(this._t.style.top="0px"):this._t.style.top=typeof this._settings.top=="number"?`${this._settings.top}px`:"",this._t.style.left="50%",this._t.style.marginLeft=`-${this._settings.width/2}px`,this._t.style.background=this._settings.background,this._t.style.color=this._settings.color,this._t.style.borderBottomLeftRadius="4px",this._t.style.borderBottomRightRadius="4px",this._t.style.fontSize=`${this._settings.fontSize}px`,this._t.style.display="flex",this._t.style.justifyContent="center",this._t.style.alignItems="center"}}function F(i){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(i)}function R(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Zi(i,e){if(F(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e||"default");if(F(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function er(i){var e=Zi(i,"string");return F(e)=="symbol"?e:e+""}function zt(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,er(r.key),r)}}function N(i,e,t){return e&&zt(i.prototype,e),t&&zt(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function K(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function wt(i,e){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},wt(i,e)}function We(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&wt(i,e)}function ke(i,e){if(e&&(F(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K(i)}function H(i){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(i)}function B(i,e,t){return(e=er(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Xi(i){if(Array.isArray(i))return i}function eo(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Kt(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=Array(e);t<e;t++)r[t]=i[t];return r}function to(i,e){if(i){if(typeof i=="string")return Kt(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Kt(i,e):void 0}}function no(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ro(i){return Xi(i)||eo(i)||to(i)||no()}function Jt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function Wt(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jt(Object(t),!0).forEach(function(r){B(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Jt(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var io={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},oo=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R(this,i),this.init(e,t)}return N(i,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||io,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,r,n,o){return o&&!this.debug?null:(typeof t[0]=="string"&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[r](t))}},{key:"create",value:function(t){return new i(this.logger,Wt(Wt({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new i(this.logger,t)}}]),i}(),$=new oo,W=function(){function i(){R(this,i),this.observers={}}return N(i,[{key:"on",value:function(t,r){var n=this;return t.split(" ").forEach(function(o){n.observers[o]=n.observers[o]||[],n.observers[o].push(r)}),this}},{key:"off",value:function(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t]=this.observers[t].filter(function(n){return n!==r})}}},{key:"emit",value:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(this.observers[t]){var a=[].concat(this.observers[t]);a.forEach(function(u){u.apply(void 0,n)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(u){u.apply(u,[t].concat(n))})}}}]),i}();function de(){var i,e,t=new Promise(function(r,n){i=r,e=n});return t.resolve=i,t.reject=e,t}function Gt(i){return i==null?"":""+i}function ao(i,e,t){i.forEach(function(r){e[r]&&(t[r]=e[r])})}function Pt(i,e,t){function r(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function n(){return!i||typeof i=="string"}for(var o=typeof e!="string"?[].concat(e):e.split(".");o.length>1;){if(n())return{};var a=r(o.shift());!i[a]&&t&&(i[a]=new t),Object.prototype.hasOwnProperty.call(i,a)?i=i[a]:i={}}return n()?{}:{obj:i,k:r(o.shift())}}function Qt(i,e,t){var r=Pt(i,e,Object),n=r.obj,o=r.k;n[o]=t}function so(i,e,t,r){var n=Pt(i,e,Object),o=n.obj,a=n.k;o[a]=o[a]||[],r&&(o[a]=o[a].concat(t)),r||o[a].push(t)}function $e(i,e){var t=Pt(i,e),r=t.obj,n=t.k;if(r)return r[n]}function uo(i,e,t){var r=$e(i,t);return r!==void 0?r:$e(e,t)}function tr(i,e,t){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in i?typeof i[r]=="string"||i[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?t&&(i[r]=e[r]):tr(i[r],e[r],t):i[r]=e[r]);return i}function re(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var co={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function lo(i){return typeof i=="string"?i.replace(/[&<>"'\/]/g,function(e){return co[e]}):i}var Ge=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,fo=[" ",",","?","!",";"];function go(i,e,t){e=e||"",t=t||"";var r=fo.filter(function(s){return e.indexOf(s)<0&&t.indexOf(s)<0});if(r.length===0)return!0;var n=new RegExp("(".concat(r.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),o=!n.test(i);if(!o){var a=i.indexOf(t);a>0&&!n.test(i.substring(0,a))&&(o=!0)}return o}function Ue(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(i){if(i[e])return i[e];for(var r=e.split(t),n=i,o=0;o<r.length;++o){if(!n||typeof n[r[o]]=="string"&&o+1<r.length)return;if(n[r[o]]===void 0){for(var a=2,s=r.slice(o,o+a).join(t),u=n[s];u===void 0&&r.length>o+a;)a++,s=r.slice(o,o+a).join(t),u=n[s];if(u===void 0)return;if(u===null)return null;if(e.endsWith(s)){if(typeof u=="string")return u;if(s&&typeof u[s]=="string")return u[s]}var f=r.slice(o+a).join(t);return f?Ue(u,f,t):void 0}n=n[r[o]]}return n}}function Yt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function Ie(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yt(Object(t),!0).forEach(function(r){B(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Yt(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function ho(i){var e=po();return function(){var r=H(i),n;if(e){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function po(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var mo=function(i){We(t,i);var e=ho(t);function t(r){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return R(this,t),n=e.call(this),Ge&&W.call(K(n)),n.data=r||{},n.options=o,n.options.keySeparator===void 0&&(n.options.keySeparator="."),n.options.ignoreJSONStructure===void 0&&(n.options.ignoreJSONStructure=!0),n}return N(t,[{key:"addNamespaces",value:function(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}},{key:"removeNamespaces",value:function(n){var o=this.options.ns.indexOf(n);o>-1&&this.options.ns.splice(o,1)}},{key:"getResource",value:function(n,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[n,o];a&&typeof a!="string"&&(c=c.concat(a)),a&&typeof a=="string"&&(c=c.concat(u?a.split(u):a)),n.indexOf(".")>-1&&(c=n.split("."));var l=$e(this.data,c);return l||!f||typeof a!="string"?l:Ue(this.data&&this.data[n]&&this.data[n][o],a,u)}},{key:"addResource",value:function(n,o,a,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},f=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,c=[n,o];a&&(c=c.concat(f?a.split(f):a)),n.indexOf(".")>-1&&(c=n.split("."),s=o,o=c[1]),this.addNamespaces(o),Qt(this.data,c,s),u.silent||this.emit("added",n,o,a,s)}},{key:"addResources",value:function(n,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in a)(typeof a[u]=="string"||Object.prototype.toString.apply(a[u])==="[object Array]")&&this.addResource(n,o,u,a[u],{silent:!0});s.silent||this.emit("added",n,o,a)}},{key:"addResourceBundle",value:function(n,o,a,s,u){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[n,o];n.indexOf(".")>-1&&(c=n.split("."),s=a,a=o,o=c[1]),this.addNamespaces(o);var l=$e(this.data,c)||{};s?tr(l,a,u):l=Ie(Ie({},l),a),Qt(this.data,c,l),f.silent||this.emit("added",n,o,a)}},{key:"removeResourceBundle",value:function(n,o){this.hasResourceBundle(n,o)&&delete this.data[n][o],this.removeNamespaces(o),this.emit("removed",n,o)}},{key:"hasResourceBundle",value:function(n,o){return this.getResource(n,o)!==void 0}},{key:"getResourceBundle",value:function(n,o){return o||(o=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Ie(Ie({},{}),this.getResource(n,o)):this.getResource(n,o)}},{key:"getDataByLanguage",value:function(n){return this.data[n]}},{key:"hasLanguageSomeTranslations",value:function(n){var o=this.getDataByLanguage(n),a=o&&Object.keys(o)||[];return!!a.find(function(s){return o[s]&&Object.keys(o[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),t}(W),nr={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,r,n,o){var a=this;return e.forEach(function(s){a.processors[s]&&(t=a.processors[s].process(t,r,n,o))}),t}};function Zt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function E(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zt(Object(t),!0).forEach(function(r){B(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Zt(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function vo(i){var e=yo();return function(){var r=H(i),n;if(e){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function yo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Xt={},en=function(i){We(t,i);var e=vo(t);function t(r){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R(this,t),n=e.call(this),Ge&&W.call(K(n)),ao(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,K(n)),n.options=o,n.options.keySeparator===void 0&&(n.options.keySeparator="."),n.logger=$.create("translator"),n}return N(t,[{key:"changeLanguage",value:function(n){n&&(this.language=n)}},{key:"exists",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(n==null)return!1;var a=this.resolve(n,o);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(n,o){var a=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ns||this.options.defaultNS||[],f=a&&n.indexOf(a)>-1,c=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!go(n,a,s);if(f&&!c){var l=n.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:n,namespaces:u};var g=n.split(a);(a!==s||a===s&&this.options.ns.indexOf(g[0])>-1)&&(u=g.shift()),n=g.join(s)}return typeof u=="string"&&(u=[u]),{key:n,namespaces:u}}},{key:"translate",value:function(n,o,a){var s=this;if(F(o)!=="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),F(o)==="object"&&(o=E({},o)),o||(o={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);var u=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,f=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,c=this.extractFromKey(n[n.length-1],o),l=c.key,g=c.namespaces,d=g[g.length-1],h=o.lng||this.language,v=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(v){var y=o.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(d).concat(y).concat(l),usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d}:"".concat(d).concat(y).concat(l)}return u?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d}:l}var p=this.resolve(n,o),m=p&&p.res,b=p&&p.usedKey||l,S=p&&p.exactUsedKey||l,x=Object.prototype.toString.apply(m),O=["[object Number]","[object Function]","[object RegExp]"],k=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,q=typeof m!="string"&&typeof m!="boolean"&&typeof m!="number";if(T&&m&&q&&O.indexOf(x)<0&&!(typeof k=="string"&&x==="[object Array]")){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,m,E(E({},o),{},{ns:g})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return u?(p.res=A,p):A}if(f){var Ct=x==="[object Array]",Pe=Ct?[]:{},dr=Ct?S:b;for(var te in m)if(Object.prototype.hasOwnProperty.call(m,te)){var Et="".concat(dr).concat(f).concat(te);Pe[te]=this.translate(Et,E(E({},o),{joinArrays:!1,ns:g})),Pe[te]===Et&&(Pe[te]=m[te])}m=Pe}}else if(T&&typeof k=="string"&&x==="[object Array]")m=m.join(k),m&&(m=this.extendTranslation(m,n,o,a));else{var Ce=!1,se=!1,Tt=o.count!==void 0&&typeof o.count!="string",Qe=t.hasDefaultValue(o),gr=Tt?this.pluralResolver.getSuffix(h,o.count,o):"",ue=o["defaultValue".concat(gr)]||o.defaultValue;!this.isValidLookup(m)&&Qe&&(Ce=!0,m=ue),this.isValidLookup(m)||(se=!0,m=l);var hr=o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,pr=hr&&se?void 0:m,ce=Qe&&ue!==m&&this.options.updateMissing;if(se||Ce||ce){if(this.logger.log(ce?"updateKey":"missingKey",h,d,l,ce?ue:m),f){var At=this.resolve(l,E(E({},o),{},{keySeparator:!1}));At&&At.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var le=[],Ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ee&&Ee[0])for(var Ye=0;Ye<Ee.length;Ye++)le.push(Ee[Ye]);else this.options.saveMissingTo==="all"?le=this.languageUtils.toResolveHierarchy(o.lng||this.language):le.push(o.lng||this.language);var It=function(ne,Xe,_t){var jt=Qe&&_t!==m?_t:pr;s.options.missingKeyHandler?s.options.missingKeyHandler(ne,d,Xe,jt,ce,o):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(ne,d,Xe,jt,ce,o),s.emit("missingKey",ne,d,Xe,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Tt?le.forEach(function(Ze){s.pluralResolver.getSuffixes(Ze,o).forEach(function(ne){It([Ze],l+ne,o["defaultValue".concat(ne)]||ue)})}):It(le,l,ue))}m=this.extendTranslation(m,n,o,p,a),se&&m===l&&this.options.appendNamespaceToMissingKey&&(m="".concat(d,":").concat(l)),(se||Ce)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(l):l,Ce?m:void 0):m=this.options.parseMissingKeyHandler(m))}return u?(p.res=m,p):m}},{key:"extendTranslation",value:function(n,o,a,s,u){var f=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,E(E({},this.options.interpolation.defaultVariables),a),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(E(E({},a),{interpolation:E(E({},this.options.interpolation),a.interpolation)}));var c=typeof n=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(c){var g=n.match(this.interpolator.nestingRegexp);l=g&&g.length}var d=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(d=E(E({},this.options.interpolation.defaultVariables),d)),n=this.interpolator.interpolate(n,d,a.lng||this.language,a),c){var h=n.match(this.interpolator.nestingRegexp),v=h&&h.length;l<v&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(a.lng=s.usedLng),a.nest!==!1&&(n=this.interpolator.nest(n,function(){for(var m=arguments.length,b=new Array(m),S=0;S<m;S++)b[S]=arguments[S];return u&&u[0]===b[0]&&!a.context?(f.logger.warn("It seems you are nesting recursively key: ".concat(b[0]," in key: ").concat(o[0])),null):f.translate.apply(f,b.concat([o]))},a)),a.interpolation&&this.interpolator.reset()}var y=a.postProcess||this.options.postProcess,p=typeof y=="string"?[y]:y;return n!=null&&p&&p.length&&a.applyPostProcessor!==!1&&(n=nr.handle(p,n,o,this.options&&this.options.postProcessPassResolved?E({i18nResolved:s},a):a,this)),n}},{key:"resolve",value:function(n){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,u,f,c,l;return typeof n=="string"&&(n=[n]),n.forEach(function(g){if(!o.isValidLookup(s)){var d=o.extractFromKey(g,a),h=d.key;u=h;var v=d.namespaces;o.options.fallbackNS&&(v=v.concat(o.options.fallbackNS));var y=a.count!==void 0&&typeof a.count!="string",p=y&&!a.ordinal&&a.count===0&&o.pluralResolver.shouldUseIntlApi(),m=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",b=a.lngs?a.lngs:o.languageUtils.toResolveHierarchy(a.lng||o.language,a.fallbackLng);v.forEach(function(S){o.isValidLookup(s)||(l=S,!Xt["".concat(b[0],"-").concat(S)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(l)&&(Xt["".concat(b[0],"-").concat(S)]=!0,o.logger.warn('key "'.concat(u,'" for languages "').concat(b.join(", "),`" won't get resolved as namespace "`).concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(function(x){if(!o.isValidLookup(s)){c=x;var O=[h];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(O,h,x,S,a);else{var k;y&&(k=o.pluralResolver.getSuffix(x,a.count,a));var T="".concat(o.options.pluralSeparator,"zero");if(y&&(O.push(h+k),p&&O.push(h+T)),m){var q="".concat(h).concat(o.options.contextSeparator).concat(a.context);O.push(q),y&&(O.push(q+k),p&&O.push(q+T))}}for(var A;A=O.pop();)o.isValidLookup(s)||(f=A,s=o.getResource(x,S,A,a))}}))})}}),{res:s,usedKey:u,exactUsedKey:f,usedLng:c,usedNS:l}}},{key:"isValidLookup",value:function(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}},{key:"getResource",value:function(n,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,o,a,s):this.resourceStore.getResource(n,o,a,s)}}],[{key:"hasDefaultValue",value:function(n){var o="defaultValue";for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)&&o===a.substring(0,o.length)&&n[a]!==void 0)return!0;return!1}}]),t}(W);function rt(i){return i.charAt(0).toUpperCase()+i.slice(1)}var tn=function(){function i(e){R(this,i),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$.create("languageUtils")}return N(i,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var r=t.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(t){if(typeof t=="string"&&t.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(o){return o.toLowerCase()}):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=rt(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=rt(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=rt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var r=this;if(!t)return null;var n;return t.forEach(function(o){if(!n){var a=r.formatLanguageCode(o);(!r.options.supportedLngs||r.isSupportedCode(a))&&(n=a)}}),!n&&this.options.supportedLngs&&t.forEach(function(o){if(!n){var a=r.getLanguagePartFromCode(o);if(r.isSupportedCode(a))return n=a;n=r.options.supportedLngs.find(function(s){if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&s.indexOf(a)===0)return s})}}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}},{key:"getFallbackCodes",value:function(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!r)return t.default||[];var n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,r){var n=this,o=this.getFallbackCodes(r||this.options.fallbackLng||[],t),a=[],s=function(f){f&&(n.isSupportedCode(f)?a.push(f):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(f)))};return typeof t=="string"&&t.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):typeof t=="string"&&s(this.formatLanguageCode(t)),o.forEach(function(u){a.indexOf(u)<0&&s(n.formatLanguageCode(u))}),a}}]),i}(),bo=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],wo={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},So=["v1","v2","v3"],nn={zero:0,one:1,two:2,few:3,many:4,other:5};function Oo(){var i={};return bo.forEach(function(e){e.lngs.forEach(function(t){i[t]={numbers:e.nr,plurals:wo[e.fc]}})}),i}var xo=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R(this,i),this.languageUtils=e,this.options=t,this.logger=$.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Oo()}return N(i,[{key:"addRule",value:function(t,r){this.rules[t]=r}},{key:"getRule",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(t,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(function(o){return"".concat(r).concat(o)})}},{key:"getSuffixes",value:function(t){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.getRule(t,n);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort(function(a,s){return nn[a]-nn[s]}).map(function(a){return"".concat(r.options.prepend).concat(a)}):o.numbers.map(function(a){return r.getSuffix(t,a,n)}):[]}},{key:"getSuffix",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.getRule(t,n);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(r)):this.getSuffixRetroCompatible(o,r):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,r){var n=this,o=t.noAbs?t.plurals(r):t.plurals(Math.abs(r)),a=t.numbers[o];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var s=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?s():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!So.includes(this.options.compatibilityJSON)}}]),i}();function rn(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function D(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rn(Object(t),!0).forEach(function(r){B(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):rn(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function on(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=uo(i,e,t);return!o&&n&&typeof t=="string"&&(o=Ue(i,t,r),o===void 0&&(o=Ue(e,t,r))),o}var Lo=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,i),this.logger=$.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return N(i,[{key:"init",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var r=t.interpolation;this.escape=r.escape!==void 0?r.escape:lo,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?re(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?re(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?re(r.nestingPrefix):r.nestingPrefixEscaped||re("$t("),this.nestingSuffix=r.nestingSuffix?re(r.nestingSuffix):r.nestingSuffixEscaped||re(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,r,n,o){var a=this,s,u,f,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(y){return y.replace(/\$/g,"$$$$")}var g=function(p){if(p.indexOf(a.formatSeparator)<0){var m=on(r,c,p,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(m,void 0,n,D(D(D({},o),r),{},{interpolationkey:p})):m}var b=p.split(a.formatSeparator),S=b.shift().trim(),x=b.join(a.formatSeparator).trim();return a.format(on(r,c,S,a.options.keySeparator,a.options.ignoreJSONStructure),x,n,D(D(D({},o),r),{},{interpolationkey:S}))};this.resetRegExp();var d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,h=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,v=[{regex:this.regexpUnescape,safeValue:function(p){return l(p)}},{regex:this.regexp,safeValue:function(p){return a.escapeValue?l(a.escape(p)):l(p)}}];return v.forEach(function(y){for(f=0;s=y.regex.exec(t);){var p=s[1].trim();if(u=g(p),u===void 0)if(typeof d=="function"){var m=d(t,s,o);u=typeof m=="string"?m:""}else if(o&&Object.prototype.hasOwnProperty.call(o,p))u="";else if(h){u=s[0];continue}else a.logger.warn("missed to pass in variable ".concat(p," for interpolating ").concat(t)),u="";else typeof u!="string"&&!a.useRawValueToEscape&&(u=Gt(u));var b=y.safeValue(u);if(t=t.replace(s[0],b),h?(y.regex.lastIndex+=u.length,y.regex.lastIndex-=s[0].length):y.regex.lastIndex=0,f++,f>=a.maxReplaces)break}}),t}},{key:"nest",value:function(t,r){var n=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,s,u;function f(d,h){var v=this.nestingOptionsSeparator;if(d.indexOf(v)<0)return d;var y=d.split(new RegExp("".concat(v,"[ ]*{"))),p="{".concat(y[1]);d=y[0],p=this.interpolate(p,u);var m=p.match(/'/g),b=p.match(/"/g);(m&&m.length%2===0&&!b||b.length%2!==0)&&(p=p.replace(/'/g,'"'));try{u=JSON.parse(p),h&&(u=D(D({},h),u))}catch(S){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),S),"".concat(d).concat(v).concat(p)}return delete u.defaultValue,d}for(;a=this.nestingRegexp.exec(t);){var c=[];u=D({},o),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var l=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var g=a[1].split(this.formatSeparator).map(function(d){return d.trim()});a[1]=g.shift(),c=g,l=!0}if(s=r(f.call(this,a[1].trim(),u),u),s&&a[0]===t&&typeof s!="string")return s;typeof s!="string"&&(s=Gt(s)),s||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(t)),s=""),l&&(s=c.reduce(function(d,h){return n.format(d,h,o.lng,D(D({},o),{},{interpolationkey:a[1].trim()}))},s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}]),i}();function an(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function V(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?an(Object(t),!0).forEach(function(r){B(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):an(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function ko(i){var e=i.toLowerCase().trim(),t={};if(i.indexOf("(")>-1){var r=i.split("(");e=r[0].toLowerCase().trim();var n=r[1].substring(0,r[1].length-1);if(e==="currency"&&n.indexOf(":")<0)t.currency||(t.currency=n.trim());else if(e==="relativetime"&&n.indexOf(":")<0)t.range||(t.range=n.trim());else{var o=n.split(";");o.forEach(function(a){if(a){var s=a.split(":"),u=ro(s),f=u[0],c=u.slice(1),l=c.join(":").trim().replace(/^'+|'+$/g,"");t[f.trim()]||(t[f.trim()]=l),l==="false"&&(t[f.trim()]=!1),l==="true"&&(t[f.trim()]=!0),isNaN(l)||(t[f.trim()]=parseInt(l,10))}})}}return{formatName:e,formatOptions:t}}function ie(i){var e={};return function(r,n,o){var a=n+JSON.stringify(o),s=e[a];return s||(s=i(n,o),e[a]=s),s(r)}}var Po=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,i),this.logger=$.create("formatter"),this.options=e,this.formats={number:ie(function(t,r){var n=new Intl.NumberFormat(t,V({},r));return function(o){return n.format(o)}}),currency:ie(function(t,r){var n=new Intl.NumberFormat(t,V(V({},r),{},{style:"currency"}));return function(o){return n.format(o)}}),datetime:ie(function(t,r){var n=new Intl.DateTimeFormat(t,V({},r));return function(o){return n.format(o)}}),relativetime:ie(function(t,r){var n=new Intl.RelativeTimeFormat(t,V({},r));return function(o){return n.format(o,r.range||"day")}}),list:ie(function(t,r){var n=new Intl.ListFormat(t,V({},r));return function(o){return n.format(o)}})},this.init(e)}return N(i,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},n=r.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(t,r){this.formats[t.toLowerCase().trim()]=r}},{key:"addCached",value:function(t,r){this.formats[t.toLowerCase().trim()]=ie(r)}},{key:"format",value:function(t,r,n){var o=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=r.split(this.formatSeparator),u=s.reduce(function(f,c){var l=ko(c),g=l.formatName,d=l.formatOptions;if(o.formats[g]){var h=f;try{var v=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},y=v.locale||v.lng||a.locale||a.lng||n;h=o.formats[g](f,y,V(V(V({},d),a),v))}catch(p){o.logger.warn(p)}return h}else o.logger.warn("there was no format function for ".concat(g));return f},t);return u}}]),i}();function sn(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function un(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sn(Object(t),!0).forEach(function(r){B(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):sn(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Co(i){var e=Eo();return function(){var r=H(i),n;if(e){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function Eo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function To(i,e){i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)}var Ao=function(i){We(t,i);var e=Co(t);function t(r,n,o){var a,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return R(this,t),a=e.call(this),Ge&&W.call(K(a)),a.backend=r,a.store=n,a.services=o,a.languageUtils=o.languageUtils,a.options=s,a.logger=$.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=s.maxParallelReads||10,a.readingCalls=0,a.maxRetries=s.maxRetries>=0?s.maxRetries:5,a.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(o,s.backend,s),a}return N(t,[{key:"queueLoad",value:function(n,o,a,s){var u=this,f={},c={},l={},g={};return n.forEach(function(d){var h=!0;o.forEach(function(v){var y="".concat(d,"|").concat(v);!a.reload&&u.store.hasResourceBundle(d,v)?u.state[y]=2:u.state[y]<0||(u.state[y]===1?c[y]===void 0&&(c[y]=!0):(u.state[y]=1,h=!1,c[y]===void 0&&(c[y]=!0),f[y]===void 0&&(f[y]=!0),g[v]===void 0&&(g[v]=!0)))}),h||(l[d]=!0)}),(Object.keys(f).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(f),pending:Object.keys(c),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(g)}}},{key:"loaded",value:function(n,o,a){var s=n.split("|"),u=s[0],f=s[1];o&&this.emit("failedLoading",u,f,o),a&&this.store.addResourceBundle(u,f,a),this.state[n]=o?-1:2;var c={};this.queue.forEach(function(l){so(l.loaded,[u],f),To(l,n),o&&l.errors.push(o),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(function(g){c[g]||(c[g]={});var d=l.loaded[g];d.length&&d.forEach(function(h){c[g][h]===void 0&&(c[g][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(l){return!l.done})}},{key:"read",value:function(n,o,a){var s=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!n.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:o,fcName:a,tried:u,wait:f,callback:c});return}this.readingCalls++;var l=function(v,y){if(s.readingCalls--,s.waitingReads.length>0){var p=s.waitingReads.shift();s.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(v&&y&&u<s.maxRetries){setTimeout(function(){s.read.call(s,n,o,a,u+1,f*2,c)},f);return}c(v,y)},g=this.backend[a].bind(this.backend);if(g.length===2){try{var d=g(n,o);d&&typeof d.then=="function"?d.then(function(h){return l(null,h)}).catch(l):l(null,d)}catch(h){l(h)}return}return g(n,o,l)}},{key:"prepareLoading",value:function(n,o){var a=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof n=="string"&&(n=this.languageUtils.toResolveHierarchy(n)),typeof o=="string"&&(o=[o]);var f=this.queueLoad(n,o,s,u);if(!f.toLoad.length)return f.pending.length||u(),null;f.toLoad.forEach(function(c){a.loadOne(c)})}},{key:"load",value:function(n,o,a){this.prepareLoading(n,o,{},a)}},{key:"reload",value:function(n,o,a){this.prepareLoading(n,o,{reload:!0},a)}},{key:"loadOne",value:function(n){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=n.split("|"),u=s[0],f=s[1];this.read(u,f,"read",void 0,void 0,function(c,l){c&&o.logger.warn("".concat(a,"loading namespace ").concat(f," for language ").concat(u," failed"),c),!c&&l&&o.logger.log("".concat(a,"loaded namespace ").concat(f," for language ").concat(u),l),o.loaded(n,c,l)})}},{key:"saveMissing",value:function(n,o,a,s,u){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var l=un(un({},f),{},{isUpdate:u}),g=this.backend.create.bind(this.backend);if(g.length<6)try{var d;g.length===5?d=g(n,o,a,s,l):d=g(n,o,a,s),d&&typeof d.then=="function"?d.then(function(h){return c(null,h)}).catch(c):c(null,d)}catch(h){c(h)}else g(n,o,a,s,c,l)}!n||!n[0]||this.store.addResource(n[0],o,a,s)}}}]),t}(W);function cn(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if(F(e[1])==="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),F(e[2])==="object"||F(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(n){t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:function(e,t,r,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ln(i){return typeof i.ns=="string"&&(i.ns=[i.ns]),typeof i.fallbackLng=="string"&&(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS=="string"&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i}function fn(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function M(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fn(Object(t),!0).forEach(function(r){B(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):fn(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Io(i){var e=_o();return function(){var r=H(i),n;if(e){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function _o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _e(){}function jo(i){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(i));e.forEach(function(t){typeof i[t]=="function"&&(i[t]=i[t].bind(i))})}var He=function(i){We(t,i);var e=Io(t);function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(R(this,t),r=e.call(this),Ge&&W.call(K(r)),r.options=ln(n),r.services={},r.logger=$,r.modules={external:[]},jo(K(r)),o&&!r.isInitialized&&!n.isClone){if(!r.options.initImmediate)return r.init(n,o),ke(r,K(r));setTimeout(function(){r.init(n,o)},0)}return r}return N(t,[{key:"init",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof o=="function"&&(a=o,o={}),!o.defaultNS&&o.defaultNS!==!1&&o.ns&&(typeof o.ns=="string"?o.defaultNS=o.ns:o.ns.indexOf("translation")<0&&(o.defaultNS=o.ns[0]));var s=cn();this.options=M(M(M({},s),this.options),ln(o)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=M(M({},s.interpolation),this.options.interpolation)),o.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=o.keySeparator),o.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=o.nsSeparator);function u(p){return p?typeof p=="function"?new p:p:null}if(!this.options.isClone){this.modules.logger?$.init(u(this.modules.logger),this.options):$.init(null,this.options);var f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=Po);var c=new tn(this.options);this.store=new mo(this.options.resources,this.options);var l=this.services;l.logger=$,l.resourceStore=this.store,l.languageUtils=c,l.pluralResolver=new xo(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(l.formatter=u(f),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new Lo(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new Ao(u(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",function(p){for(var m=arguments.length,b=new Array(m>1?m-1:0),S=1;S<m;S++)b[S-1]=arguments[S];n.emit.apply(n,[p].concat(b))}),this.modules.languageDetector&&(l.languageDetector=u(this.modules.languageDetector),l.languageDetector.init&&l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=u(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new en(this.services,this.options),this.translator.on("*",function(p){for(var m=arguments.length,b=new Array(m>1?m-1:0),S=1;S<m;S++)b[S-1]=arguments[S];n.emit.apply(n,[p].concat(b))}),this.modules.external.forEach(function(p){p.init&&p.init(n)})}if(this.format=this.options.interpolation.format,a||(a=_e),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(p){n[p]=function(){var m;return(m=n.store)[p].apply(m,arguments)}});var h=["addResource","addResources","addResourceBundle","removeResourceBundle"];h.forEach(function(p){n[p]=function(){var m;return(m=n.store)[p].apply(m,arguments),n}});var v=de(),y=function(){var m=function(S,x){n.isInitialized&&!n.initializedStoreOnce&&n.logger.warn("init: i18next is already initialized. You should call init just once!"),n.isInitialized=!0,n.options.isClone||n.logger.log("initialized",n.options),n.emit("initialized",n.options),v.resolve(x),a(S,x)};if(n.languages&&n.options.compatibilityAPI!=="v1"&&!n.isInitialized)return m(null,n.t.bind(n));n.changeLanguage(n.options.lng,m)};return this.options.resources||!this.options.initImmediate?y():setTimeout(y,0),v}},{key:"loadResources",value:function(n){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e,s=a,u=typeof n=="string"?n:this.language;if(typeof n=="function"&&(s=n),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return s();var f=[],c=function(d){if(d){var h=o.services.languageUtils.toResolveHierarchy(d);h.forEach(function(v){f.indexOf(v)<0&&f.push(v)})}};if(u)c(u);else{var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.forEach(function(g){return c(g)})}this.options.preload&&this.options.preload.forEach(function(g){return c(g)}),this.services.backendConnector.load(f,this.options.ns,function(g){!g&&!o.resolvedLanguage&&o.language&&o.setResolvedLanguage(o.language),s(g)})}else s(null)}},{key:"reloadResources",value:function(n,o,a){var s=de();return n||(n=this.languages),o||(o=this.options.ns),a||(a=_e),this.services.backendConnector.reload(n,o,function(u){s.resolve(),a(u)}),s}},{key:"use",value:function(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&nr.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}},{key:"setResolvedLanguage",value:function(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1))for(var o=0;o<this.languages.length;o++){var a=this.languages[o];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(n,o){var a=this;this.isLanguageChangingTo=n;var s=de();this.emit("languageChanging",n);var u=function(g){a.language=g,a.languages=a.services.languageUtils.toResolveHierarchy(g),a.resolvedLanguage=void 0,a.setResolvedLanguage(g)},f=function(g,d){d?(u(d),a.translator.changeLanguage(d),a.isLanguageChangingTo=void 0,a.emit("languageChanged",d),a.logger.log("languageChanged",d)):a.isLanguageChangingTo=void 0,s.resolve(function(){return a.t.apply(a,arguments)}),o&&o(g,function(){return a.t.apply(a,arguments)})},c=function(g){!n&&!g&&a.services.languageDetector&&(g=[]);var d=typeof g=="string"?g:a.services.languageUtils.getBestMatchFromCodes(g);d&&(a.language||u(d),a.translator.language||a.translator.changeLanguage(d),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(d)),a.loadResources(d,function(h){f(h,d)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(n),s}},{key:"getFixedT",value:function(n,o,a){var s=this,u=function f(c,l){var g;if(F(l)!=="object"){for(var d=arguments.length,h=new Array(d>2?d-2:0),v=2;v<d;v++)h[v-2]=arguments[v];g=s.options.overloadTranslationOptionHandler([c,l].concat(h))}else g=M({},l);g.lng=g.lng||f.lng,g.lngs=g.lngs||f.lngs,g.ns=g.ns||f.ns,g.keyPrefix=g.keyPrefix||a||f.keyPrefix;var y=s.options.keySeparator||".",p;return g.keyPrefix&&Array.isArray(c)?p=c.map(function(m){return"".concat(g.keyPrefix).concat(y).concat(m)}):p=g.keyPrefix?"".concat(g.keyPrefix).concat(y).concat(c):c,s.t(p,g)};return typeof n=="string"?u.lng=n:u.lngs=n,u.ns=o,u.keyPrefix=a,u}},{key:"t",value:function(){var n;return this.translator&&(n=this.translator).translate.apply(n,arguments)}},{key:"exists",value:function(){var n;return this.translator&&(n=this.translator).exists.apply(n,arguments)}},{key:"setDefaultNamespace",value:function(n){this.options.defaultNS=n}},{key:"hasLoadedNamespace",value:function(n){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=a.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,f=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var c=function(d,h){var v=o.services.backendConnector.state["".concat(d,"|").concat(h)];return v===-1||v===2};if(a.precheck){var l=a.precheck(this,c);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,n)&&(!u||c(f,n)))}},{key:"loadNamespaces",value:function(n,o){var a=this,s=de();return this.options.ns?(typeof n=="string"&&(n=[n]),n.forEach(function(u){a.options.ns.indexOf(u)<0&&a.options.ns.push(u)}),this.loadResources(function(u){s.resolve(),o&&o(u)}),s):(o&&o(),Promise.resolve())}},{key:"loadLanguages",value:function(n,o){var a=de();typeof n=="string"&&(n=[n]);var s=this.options.preload||[],u=n.filter(function(f){return s.indexOf(f)<0});return u.length?(this.options.preload=s.concat(u),this.loadResources(function(f){a.resolve(),o&&o(f)}),a):(o&&o(),Promise.resolve())}},{key:"dir",value:function(n){if(n||(n=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!n)return"rtl";var o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new tn(cn());return o.indexOf(a.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e,s=M(M(M({},this.options),o),{isClone:!0}),u=new t(s);(o.debug!==void 0||o.prefix!==void 0)&&(u.logger=u.logger.clone(o));var f=["store","services","language"];return f.forEach(function(c){u[c]=n[c]}),u.services=M({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new en(u.services,u.options),u.translator.on("*",function(c){for(var l=arguments.length,g=new Array(l>1?l-1:0),d=1;d<l;d++)g[d-1]=arguments[d];u.emit.apply(u,[c].concat(g))}),u.init(s,a),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),t}(W);B(He,"createInstance",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new He(i,e)});var P=He.createInstance();P.createInstance=He.createInstance;P.createInstance;P.dir;P.init;P.loadResources;P.reloadResources;P.use;P.changeLanguage;P.getFixedT;P.t;P.exists;P.setDefaultNamespace;P.hasLoadedNamespace;P.loadNamespaces;P.loadLanguages;var rr=[],Ro=rr.forEach,No=rr.slice;function Fo(i){return Ro.call(No.call(arguments,1),function(e){if(e)for(var t in e)i[t]===void 0&&(i[t]=e[t])}),i}var dn=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Do=function(e,t,r){var n=r||{};n.path=n.path||"/";var o=encodeURIComponent(t),a="".concat(e,"=").concat(o);if(n.maxAge>0){var s=n.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(s))}if(n.domain){if(!dn.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(n.domain)}if(n.path){if(!dn.test(n.path))throw new TypeError("option path is invalid");a+="; Path=".concat(n.path)}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var u=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(u){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},gn={create:function(e,t,r,n){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+r*60*1e3)),n&&(o.domain=n),document.cookie=Do(e,encodeURIComponent(t),o)},read:function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},remove:function(e){this.create(e,"",-1)}},qo={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var r=gn.read(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&gn.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},Mo={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var n=r.substring(1),o=n.split("&"),a=0;a<o.length;a++){var s=o[a].indexOf("=");if(s>0){var u=o[a].substring(0,s);u===e.lookupQuerystring&&(t=o[a].substring(s+1))}}}return t}},ge=null,hn=function(){if(ge!==null)return ge;try{ge=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{ge=!1}return ge},$o={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&hn()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&hn()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},he=null,pn=function(){if(he!==null)return he;try{he=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{he=!1}return he},Uo={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&pn()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&pn()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Ho={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Vo={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},Bo={name:"path",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},zo={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}},ir=!1;try{document.cookie,ir=!0}catch{}var or=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ir||or.splice(1,1);function Ko(){return{order:or,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var ar=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R(this,i),this.type="languageDetector",this.detectors={},this.init(e,t)}return N(i,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=Fo(r,this.options||{},Ko()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(o){return o.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(qo),this.addDetector(Mo),this.addDetector($o),this.addDetector(Uo),this.addDetector(Ho),this.addDetector(Vo),this.addDetector(Bo),this.addDetector(zo)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var n=[];return t.forEach(function(o){if(r.detectors[o]){var a=r.detectors[o].lookup(r.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.map(function(o){return r.options.convertDetectedLanguage(o)}),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(t,r){var n=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(o){n.detectors[o]&&n.detectors[o].cacheUserLanguage(t,n.options)}))}}])}();ar.type="languageDetector";var sr=[],Jo=sr.forEach,Wo=sr.slice;function Go(i){return Jo.call(Wo.call(arguments,1),function(e){if(e)for(var t in e)i[t]===void 0&&(i[t]=e[t])}),i}function Qo(i){return i?typeof i=="function"?new i:i:null}function Yo(){return{handleEmptyResourcesAsFailed:!0,cacheHitMode:"none"}}function mn(i,e,t,r){var n=i.read.bind(i);if(n.length===2){try{var o=n(e,t);o&&typeof o.then=="function"?o.then(function(a){return r(null,a)}).catch(r):r(null,o)}catch(a){r(a)}return}n(e,t,r)}var ur=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R(this,i),this.backends=[],this.type="backend",this.allOptions=r,this.init(e,t)}return N(i,[{key:"init",value:function(t){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=Go(n,this.options||{},Yo()),this.allOptions=o,this.options.backends&&this.options.backends.forEach(function(a,s){r.backends[s]=r.backends[s]||Qo(a),r.backends[s].init(t,r.options.backendOptions&&r.options.backendOptions[s]||{},o)}),this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"read",value:function(t,r,n){var o=this,a=this.backends.length,s=function f(c){if(c>=a)return n(new Error("non of the backend loaded data",!0));var l=c===a-1,g=o.options.handleEmptyResourcesAsFailed&&!l?0:-1,d=o.backends[c];d.read?mn(d,t,r,function(h,v,y){if(!h&&v&&Object.keys(v).length>g){if(n(null,v,c),u(c-1,v),d.save&&o.options.cacheHitMode&&["refresh","refreshAndUpdateStore"].indexOf(o.options.cacheHitMode)>-1){if(y&&o.options.refreshExpirationTime&&y+o.options.refreshExpirationTime>Date.now())return;var p=o.backends[c+1];p&&p.read&&mn(p,t,r,function(m,b){m||b&&(Object.keys(b).length<=g||(u(c,b),o.options.cacheHitMode==="refreshAndUpdateStore"&&o.services&&o.services.resourceStore&&o.services.resourceStore.addResourceBundle(t,r,b)))})}}else f(c+1)}):f(c+1)},u=function f(c,l){if(!(c<0)){var g=o.backends[c];g.save&&g.save(t,r,l),f(c-1,l)}};s(0)}},{key:"create",value:function(t,r,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){},s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.backends.forEach(function(u){if(u.create){var f=u.create.bind(u);if(f.length<6){try{var c;f.length===5?c=f(t,r,n,o,s):c=f(t,r,n,o),c&&typeof c.then=="function"?c.then(function(l){return a(null,l)}).catch(a):a(null,c)}catch(l){a(l)}return}f(t,r,n,o,a,s)}})}},{key:"reload",value:function(){var t=this,r=this.services,n=r.backendConnector,o=r.languageUtils,a=r.logger,s=n.language;if(!(s&&s.toLowerCase()==="cimode")){var u=[],f=function(l){var g=o.toResolveHierarchy(l);g.forEach(function(d){u.indexOf(d)<0&&u.push(d)})};f(s),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return f(c)}),u.forEach(function(c){t.allOptions.ns.forEach(function(l){n.read(c,l,"read",null,null,function(g,d){g&&a.warn("loading namespace ".concat(l," for language ").concat(c," failed"),g),!g&&d&&a.log("loaded namespace ".concat(l," for language ").concat(c),d),n.loaded("".concat(c,"|").concat(l),g,d)})})})}}}]),i}();ur.type="backend";function vn(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function it(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vn(Object(t),!0).forEach(function(r){B(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):vn(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Zo=function(){function i(e){R(this,i),this.store=e.store}return N(i,[{key:"setItem",value:function(t,r){if(this.store)try{this.store.setItem(t,r)}catch{}}},{key:"getItem",value:function(t,r){if(this.store)try{return this.store.getItem(t,r)}catch{}}}]),i}();function Xo(){var i=null;try{i=window.localStorage}catch(e){typeof window<"u"&&console.log("Failed to load local storage.",e)}return{prefix:"i18next_res_",expirationTime:7*24*60*60*1e3,defaultVersion:void 0,versions:{},store:i}}var cr=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R(this,i),this.init(e,t),this.type="backend"}return N(i,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.services=t,this.options=it(it(it({},Xo()),this.options),r),this.storage=new Zo(this.options)}},{key:"read",value:function(t,r,n){var o=Date.now();if(!this.storage.store)return n(null,null);var a=this.storage.getItem("".concat(this.options.prefix).concat(t,"-").concat(r));if(a){a=JSON.parse(a);var s=this.getVersion(t);if(a.i18nStamp&&a.i18nStamp+this.options.expirationTime>o&&s===a.i18nVersion){var u=a.i18nStamp;return delete a.i18nVersion,delete a.i18nStamp,n(null,a,u)}}return n(null,null)}},{key:"save",value:function(t,r,n){if(this.storage.store){n.i18nStamp=Date.now();var o=this.getVersion(t);o&&(n.i18nVersion=o),this.storage.setItem("".concat(this.options.prefix).concat(t,"-").concat(r),JSON.stringify(n))}}},{key:"getVersion",value:function(t){return this.options.versions[t]||this.options.defaultVersion}}]),i}();cr.type="backend";var lr={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;function e(a){for(var s=1;s<arguments.length;s++){var u=arguments[s]!=null?arguments[s]:{},f=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(u).filter(function(c){return Object.getOwnPropertyDescriptor(u,c).enumerable}))),f.forEach(function(c){t(a,c,u[c])})}return a}function t(a,s,u){return s in a?Object.defineProperty(a,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[s]=u,a}var r={selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0,document:typeof window<"u"?document:void 0};function n(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s=e({},r,s);var u=function(h,v){return s.parseDefaultValueFromContent?e({},h,{defaultValue:v}):h};function f(d,h,v){var y="text";if(h.indexOf("[")==0){var p=h.split("]");h=p[1],y=p[0].substr(1,p[0].length-1)}if(h=h.indexOf(";")==h.length-1?h.substr(0,h.length-2):h,y==="html")d.innerHTML=a.t(h,u(v,d.innerHTML));else if(y==="text")d.textContent=a.t(h,u(v,d.textContent));else if(y==="prepend"){var m=d.innerHTML.indexOf("<loc-i18n>"),b=d.innerHTML.indexOf("</loc-i18n>")+11;m>-1&&b>6&&(d.innerHTML=[d.innerHTML.substring(0,m),d.innerHTML.slice(b)].join("")),d.innerHTML=["<loc-i18n>",a.t(h,u(v,d.innerHTML)),"</loc-i18n>",d.innerHTML].join("")}else if(y==="append"){var S=d.innerHTML.indexOf("<loc-i18n>"),x=d.innerHTML.indexOf("</loc-i18n>")+11;S>-1&&x>6&&(d.innerHTML=[d.innerHTML.substring(0,S),d.innerHTML.slice(x)].join("")),d.innerHTML=[d.innerHTML,"<loc-i18n>",a.t(h,u(v,d.innerHTML),"</loc-i18n>")].join("")}else if(y.indexOf("data-")===0){var O=y.substr(5),k=a.t(h,u(v,d.getAttribute(O)));d.setAttribute(O,k),d.setAttribute(y,k)}else d.setAttribute(y,a.t(h,u(v,d.getAttribute(y))))}function c(d){return JSON.parse(d.replace(/:\s*"([^"]*)"/g,function(h,v){return': "'+v.replace(/:/g,"@colon@")+'"'}).replace(/:\s*'([^']*)'/g,function(h,v){return': "'+v.replace(/:/g,"@colon@")+'"'}).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,":"))}function l(d,h){var v=d.getAttribute(s.selectorAttr);if(v){var y=d,p=d.getAttribute(s.targetAttr);if(p!=null&&(y=d.querySelector(p)||d),!h&&s.useOptionsAttr===!0&&(h=c(d.getAttribute(s.optionsAttr)||"{}")),h=h||{},v.indexOf(";")>=0)for(var m=v.split(";"),b=0,S=m.length;b<S;b++)m[b]!=""&&f(y,m[b],h);else f(y,v,h);if(s.useOptionsAttr===!0){var x={};x=e({clone:x},h),delete x.lng,d.setAttribute(s.optionsAttr,JSON.stringify(x))}}}function g(d,h){for(var v=(h==null?void 0:h.document)||s.document,y=v.querySelectorAll(d),p=0;p<y.length;p++){for(var m=y[p],b=m.querySelectorAll("["+s.selectorAttr+"]"),S=b.length-1;S>-1;S--)l(b[S],h);l(m,h)}}return g}var o={init:n};i.default=o})(lr);var ea=lr.default;const ta=yr(ea);class yn{static DateTimeFormat(e,t=P.language,r,n){const o=new Date(e);return n?new Intl.DateTimeFormat(t,r).format(o).replace(/\//g,n):new Intl.DateTimeFormat(t,r).format(o)}static RelativeTimeFormat(e,t=P.language){const n=new Date().getTime()-e,o=Math.round(n/1e3),a=new Intl.RelativeTimeFormat(t,{style:"long"});return o<60?a.format(-o,"second"):o<3600?a.format(-Math.floor(o/60),"minute"):o<86400?a.format(-Math.floor(o/3600),"hour"):o<2592e3?a.format(-Math.floor(o/86400),"day"):o<31104e3?a.format(-Math.floor(o/2592e3),"month"):a.format(-Math.floor(o/31104e3),"year")}static secondToTimeString(e){let t=Math.floor(e/60),r=e%60,n=Math.floor(t/60);t%=60;let o=Math.floor(n/24);n%=24;let a="";return o>0&&(a+=P.t("common.days",{count:o,defaultValue:"{{ count }} 天"})+" "),n>0&&(a+=P.t("common.hours",{count:n,defaultValue:"{{ count }} 小时"})+" "),t>0&&(a+=P.t("common.minutes",{count:t,defaultValue:"{{ count }} 分钟"})+" "),r>0&&(a+=P.t("common.seconds",{count:r,defaultValue:"{{ count }} 秒"})+" "),a.trim()}}class na{constructor(e){L(this,"schemas");this.schemas=e}isEmpty(){return!this.schemas}getValue(e,t){if(!this.isEmpty()&&e.toString()in this.schemas)return new t(this.schemas[e.toString()])}}class fr{constructor(e,t,r,n){L(this,"isRefresh");L(this,"target");L(this,"name");L(this,"method");L(this,"execCount",0);this.target=e,this.name=t,this.method=r,this.isRefresh=n}execute(){!this.isRefresh&&this.execCount.valueOf()>0||(this.method.call(this.target),this.execCount=this.execCount.valueOf()+1)}}class bn{constructor(){L(this,"documentFunctions");this.documentFunctions=new Set}geDocumentFunctionCount(){return this.documentFunctions.size}getDocumentFunctions(){return this.documentFunctions}registerDocumentFunction(e){this.documentFunctions.add(e)}getDocumentFunction(e){if(!(!e||!this.documentFunctions)){for(const t of this.documentFunctions)if(t.name===e)return t}}}class ra{constructor(e){L(this,"config");L(this,"themeconfigs");L(this,"currPageData",new Map);L(this,"documentFunctionFactory",new bn);L(this,"events",new Map);L(this,"REFRESH_EVENT_NAME","sakura:refresh");this.config=e,this.themeconfigs=new Map,this.refreshThemeConfig()}translate(e,t,r){return w.$t?w.$t(e,{defaultValue:t,...r}):t}refreshThemeConfig(){if(this.config)try{Object.keys(this.config).forEach(e=>{let t=new na(this.config[e]);this.themeconfigs.set(e,t)})}catch(e){console.error("解析 themeConfig 失败：",e)}}getThemeConfig(e,t,r){let n=this.themeconfigs.get(e);if(n)return n.getValue(t,r)}getPageConfig(e){if(this.currPageData.has(e))return this.currPageData.get(e)}refresh(){this.prepareRefresh(),this.initEventMulticaster(),this.mountGlobalFunction(),this.registerRoute(),this.obtainFunctionFactory(),this.registerDomProcessors(),this.finishDocumentFunction(),this.finishRefresh()}mountGlobalProperty(e,t){Object.getOwnPropertyDescriptor(w,`$${e}`)||Object.defineProperty(w,`$${e}`,{value:t,writable:!1,enumerable:!1,configurable:!1})}mountGlobalFunction(){var t,r,n,o,a,s,u;if(((t=w.getThemeConfig("toast","open_toast",Boolean))==null?void 0:t.valueOf())&&!Object.getOwnPropertyDescriptor(w,"$toast")&&Object.defineProperty(w,"$toast",{value:new Yi({width:(r=w.getThemeConfig("toast","toast_width",Number))==null?void 0:r.valueOf(),height:(n=w.getThemeConfig("toast","toast_height",Number))==null?void 0:n.valueOf(),top:(o=w.getThemeConfig("toast","toast_top",String))==null?void 0:o.valueOf(),background:(a=w.getThemeConfig("general","theme_skin",String))==null?void 0:a.valueOf(),color:(s=w.getThemeConfig("toast","toast_color",String))==null?void 0:s.valueOf(),fontSize:(u=w.getThemeConfig("toast","toast_font_size",Number))==null?void 0:u.valueOf()}),writable:!0,configurable:!0,enumerable:!1}),Object.getOwnPropertyDescriptor(w,"$t"))w.$localize("[data-i18n]");else{const f=[{type:"backend",read(c,l,g){Sr(Object.assign({"./languages/en.json":()=>I(()=>import("./assets/en-7f095189.js"),[]),"./languages/ja.json":()=>I(()=>import("./assets/ja-2b96dfd8.js"),[]),"./languages/zh.json":()=>I(()=>import("./assets/zh-1c561d08.js"),[])}),`./languages/${c}.json`).then(d=>{g(null,d.default)}).catch(d=>{g(d,null)})},init:()=>{}}];f.unshift(cr),P.use(ar).use(ur).init({backend:{backends:f,backendOptions:[{prefix:"i18next_sakura_",defaultVersion:w.getPageConfig("version")}]},debug:!1,lowerCaseLng:!0,cleanCode:!0,interpolation:{format:function(c,l,g,d){var v,y;const h=d==null?void 0:d.params;switch(l){case"datetimeFormat":let p=h==null?void 0:h.options;if(!p){switch((v=w.getThemeConfig("general","date_format",String))==null?void 0:v.valueOf()){case"time":p={hour:"numeric",minute:"numeric",second:"numeric"};break;case"datetime":p={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"};break;case"date":default:p={year:"numeric",month:"2-digit",day:"2-digit"};break}(y=w.getThemeConfig("general","hour12",Boolean))!=null&&y.valueOf()&&(p.hour12=!0)}return yn.DateTimeFormat(c,g,p,h==null?void 0:h.separator);case"relativeTimeFormat":return yn.RelativeTimeFormat(c,g);default:return c}},escapeValue:!1}}).then(c=>{let l=this.events.get("sakura:i18n");l||(l=new CustomEvent("sakura:i18n"),this.events.set("sakura:i18n",l)),window.dispatchEvent(l),Object.defineProperty(w,"$t",{value:c,writable:!1,configurable:!1,enumerable:!1});const g=ta.init(P,{selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!0,parseDefaultValueFromContent:!0,document:window.document});g("[data-i18n]"),Object.defineProperty(w,"$localize",{value:g,writable:!1,configurable:!1,enumerable:!1})})}}registerDocumentFunction(e){this.obtainFunctionFactory(),this.documentFunctionFactory.registerDocumentFunction(e),e.execute()}finishDocumentFunction(){const e=this.documentFunctionFactory.getDocumentFunctions();for(const t of e)t.execute()}registerDomProcessors(){var t;let e=ia();for(const r of e){const n=r;this.documentFunctionFactory.registerDocumentFunction(new fr(n.target,n.propertyKey,n.method,n.isRefresh))}e.clear(),(t=this.getThemeConfig("advanced","log",Boolean))!=null&&t.valueOf()&&console.log("共获取预设 documentFunction "+ye.size+" 个")}obtainFunctionFactory(){return this.documentFunctionFactory||(this.documentFunctionFactory=new bn),this.documentFunctionFactory}prepareRefresh(){var e;this.refreshMetadata(),(e=this.getThemeConfig("advanced","log",Boolean))!=null&&e.valueOf()&&console.log("Sakura Refreshing")}refreshMetadata(){try{this.currPageData=ot.jsonToMap(pageData)}catch(e){console.error("解析 pageData 失败：",e)}}async registerRoute(){const e=this.currPageData.get("_templateId");if(!e)return;const t=w.getPageConfig("version"),r=`./page/${e}-${t}.min.js`;await I(()=>import(r),[])}initEventMulticaster(){let e=this.events.get(this.REFRESH_EVENT_NAME);e||(e=new CustomEvent(this.REFRESH_EVENT_NAME.toString(),{detail:{pageData:this.currPageData}}),this.events.set(this.REFRESH_EVENT_NAME,e))}finishRefresh(){var t;let e=this.events.get(this.REFRESH_EVENT_NAME);window.dispatchEvent(e),(t=this.getThemeConfig("advanced","log",Boolean))!=null&&t.valueOf()&&console.log("finish Refreshing"),console.log("%c Github %c","background:#24272A; color:#ffffff","","https://github.com/LIlGG/halo-theme-Sakura")}}var w=new ra(config);window.sakura=w;w.refresh();var ye;function ia(){return ye}function C(i=!0){return function(e,t,r){if(!w){ye||(ye=new Set);const n={target:e,propertyKey:t,method:r.value,isRefresh:i};ye.add(n);return}w.registerDocumentFunction(new fr(e,t,r.value,i))}}export{yn as I,ot as U,I as _,C as d,w as s};
